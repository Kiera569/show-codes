{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/limengyu/Desktop/private/code/project/show-codes/components/Popout.js\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport enhanceWithClickOutside from 'react-click-outside';\nimport WindowPointer from './WindowPointer';\nimport { COLORS } from '../lib/constants';\nimport { toggle } from '../lib/util';\nexport const managePopout = WrappedComponent => {\n  class PopoutManager extends React.Component {\n    constructor(...args) {\n      super(...args);\n\n      _defineProperty(this, \"state\", {\n        isVisible: false\n      });\n\n      _defineProperty(this, \"toggleVisibility\", () => this.setState(toggle('isVisible')));\n\n      _defineProperty(this, \"handleClickOutside\", () => this.setState({\n        isVisible: false\n      }));\n\n      _defineProperty(this, \"handleKeyDown\", e => {\n        if (e.key === 'Escape') {\n          this.handleClickOutside();\n        }\n      });\n    }\n\n    componentDidMount() {\n      document.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n      document.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    render() {\n      return /*#__PURE__*/_jsxDEV(WrappedComponent, _objectSpread(_objectSpread({}, this.props), {}, {\n        isVisible: this.state.isVisible,\n        toggleVisibility: this.toggleVisibility\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this);\n    }\n\n  }\n\n  return enhanceWithClickOutside(PopoutManager);\n};\n\nclass Popout extends React.PureComponent {\n  render() {\n    const {\n      id,\n      children,\n      borderColor,\n      style,\n      hidden,\n      pointerLeft,\n      pointerRight\n    } = this.props;\n\n    if (hidden) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: id,\n      style: style,\n      className: _JSXStyle.dynamic([[\"2332876135\", [COLORS.BLACK, borderColor]]]) + \" \" + \"popout\",\n      children: [/*#__PURE__*/_jsxDEV(WindowPointer, {\n        fromLeft: pointerLeft,\n        fromRight: pointerRight,\n        color: borderColor\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), children, /*#__PURE__*/_jsxDEV(_JSXStyle, {\n        id: \"2332876135\",\n        dynamic: [COLORS.BLACK, borderColor],\n        children: `.popout.__jsx-style-dynamic-selector{position:absolute;background-color:${COLORS.BLACK};border:2px solid ${borderColor};border-radius:3px;margin-top:10px;font-size:12px;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9Qb3BvdXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBK0RXLEFBR2lDLGtCQUM0Qiw4Q0FDQSw4Q0FDNUIsa0JBQ0YsZ0JBQ0QsZUFDakIiLCJmaWxlIjoiL1VzZXJzL2xpbWVuZ3l1L0Rlc2t0b3AvcHJpdmF0ZS9jb2RlL3Byb2plY3Qvc2hvdy1jb2Rlcy9jb21wb25lbnRzL1BvcG91dC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBlbmhhbmNlV2l0aENsaWNrT3V0c2lkZSBmcm9tICdyZWFjdC1jbGljay1vdXRzaWRlJ1xuXG5pbXBvcnQgV2luZG93UG9pbnRlciBmcm9tICcuL1dpbmRvd1BvaW50ZXInXG5pbXBvcnQgeyBDT0xPUlMgfSBmcm9tICcuLi9saWIvY29uc3RhbnRzJ1xuaW1wb3J0IHsgdG9nZ2xlIH0gZnJvbSAnLi4vbGliL3V0aWwnXG5cbmV4cG9ydCBjb25zdCBtYW5hZ2VQb3BvdXQgPSBXcmFwcGVkQ29tcG9uZW50ID0+IHtcbiAgY2xhc3MgUG9wb3V0TWFuYWdlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGUgPSB7XG4gICAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgIH1cblxuICAgIHRvZ2dsZVZpc2liaWxpdHkgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHRvZ2dsZSgnaXNWaXNpYmxlJykpXG5cbiAgICBoYW5kbGVDbGlja091dHNpZGUgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHsgaXNWaXNpYmxlOiBmYWxzZSB9KVxuXG4gICAgaGFuZGxlS2V5RG93biA9IGUgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bilcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8V3JhcHBlZENvbXBvbmVudFxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgIGlzVmlzaWJsZT17dGhpcy5zdGF0ZS5pc1Zpc2libGV9XG4gICAgICAgICAgdG9nZ2xlVmlzaWJpbGl0eT17dGhpcy50b2dnbGVWaXNpYmlsaXR5fVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbmhhbmNlV2l0aENsaWNrT3V0c2lkZShQb3BvdXRNYW5hZ2VyKVxufVxuXG5jbGFzcyBQb3BvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBib3JkZXJDb2xvcjogQ09MT1JTLlNFQ09OREFSWSxcbiAgICBzdHlsZToge30sXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBpZCwgY2hpbGRyZW4sIGJvcmRlckNvbG9yLCBzdHlsZSwgaGlkZGVuLCBwb2ludGVyTGVmdCwgcG9pbnRlclJpZ2h0IH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAoaGlkZGVuKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPXtpZH0gY2xhc3NOYW1lPVwicG9wb3V0XCIgc3R5bGU9e3N0eWxlfT5cbiAgICAgICAgPFdpbmRvd1BvaW50ZXIgZnJvbUxlZnQ9e3BvaW50ZXJMZWZ0fSBmcm9tUmlnaHQ9e3BvaW50ZXJSaWdodH0gY29sb3I9e2JvcmRlckNvbG9yfSAvPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAge2BcbiAgICAgICAgICAgIC5wb3BvdXQge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Q09MT1JTLkJMQUNLfTtcbiAgICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgJHtib3JkZXJDb2xvcn07XG4gICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wb3V0XG4iXX0= */\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/Popout.js */`\n      }, void 0, false, void 0, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\n_defineProperty(Popout, \"defaultProps\", {\n  borderColor: COLORS.SECONDARY,\n  style: {}\n});\n\nexport default Popout;","map":{"version":3,"sources":["/Users/limengyu/Desktop/private/code/project/show-codes/components/Popout.js"],"names":["React","enhanceWithClickOutside","WindowPointer","COLORS","toggle","managePopout","WrappedComponent","PopoutManager","Component","isVisible","setState","e","key","handleClickOutside","componentDidMount","document","addEventListener","handleKeyDown","componentWillUnmount","removeEventListener","render","props","state","toggleVisibility","Popout","PureComponent","id","children","borderColor","style","hidden","pointerLeft","pointerRight","BLACK","SECONDARY"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,uBAAP,MAAoC,qBAApC;AAEA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,MAAT,QAAuB,kBAAvB;AACA,SAASC,MAAT,QAAuB,aAAvB;AAEA,OAAO,MAAMC,YAAY,GAAGC,gBAAgB,IAAI;AAC9C,QAAMC,aAAN,SAA4BP,KAAK,CAACQ,SAAlC,CAA4C;AAAA;AAAA;;AAAA,qCAClC;AACNC,QAAAA,SAAS,EAAE;AADL,OADkC;;AAAA,gDAKvB,MAAM,KAAKC,QAAL,CAAcN,MAAM,CAAC,WAAD,CAApB,CALiB;;AAAA,kDAOrB,MAAM,KAAKM,QAAL,CAAc;AAAED,QAAAA,SAAS,EAAE;AAAb,OAAd,CAPe;;AAAA,6CAS1BE,CAAC,IAAI;AACnB,YAAIA,CAAC,CAACC,GAAF,KAAU,QAAd,EAAwB;AACtB,eAAKC,kBAAL;AACD;AACF,OAbyC;AAAA;;AAe1CC,IAAAA,iBAAiB,GAAG;AAClBC,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC,KAAKC,aAA1C;AACD;;AAEDC,IAAAA,oBAAoB,GAAG;AACrBH,MAAAA,QAAQ,CAACI,mBAAT,CAA6B,SAA7B,EAAwC,KAAKF,aAA7C;AACD;;AAEDG,IAAAA,MAAM,GAAG;AACP,0BACE,QAAC,gBAAD,kCACM,KAAKC,KADX;AAEE,QAAA,SAAS,EAAE,KAAKC,KAAL,CAAWb,SAFxB;AAGE,QAAA,gBAAgB,EAAE,KAAKc;AAHzB;AAAA;AAAA;AAAA;AAAA,cADF;AAOD;;AA/ByC;;AAkC5C,SAAOtB,uBAAuB,CAACM,aAAD,CAA9B;AACD,CApCM;;AAsCP,MAAMiB,MAAN,SAAqBxB,KAAK,CAACyB,aAA3B,CAAyC;AAMvCL,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEM,MAAAA,EAAF;AAAMC,MAAAA,QAAN;AAAgBC,MAAAA,WAAhB;AAA6BC,MAAAA,KAA7B;AAAoCC,MAAAA,MAApC;AAA4CC,MAAAA,WAA5C;AAAyDC,MAAAA;AAAzD,QAA0E,KAAKX,KAArF;;AAEA,QAAIS,MAAJ,EAAY;AACV,aAAO,IAAP;AACD;;AAED,wBACE;AAAK,MAAA,EAAE,EAAEJ,EAAT;AAAgC,MAAA,KAAK,EAAEG,KAAvC;AAAA,oDAO4B1B,MAAM,CAAC8B,KAPnC,EAQ4BL,WAR5B,aAAuB,QAAvB;AAAA,8BACE,QAAC,aAAD;AAAe,QAAA,QAAQ,EAAEG,WAAzB;AAAsC,QAAA,SAAS,EAAEC,YAAjD;AAA+D,QAAA,KAAK,EAAEJ;AAAtE;AAAA;AAAA;AAAA;AAAA,cADF,EAEGD,QAFH;AAAA;AAAA,kBAO4BxB,MAAM,CAAC8B,KAPnC,EAQ4BL,WAR5B;AAAA,6FAO4BzB,MAAM,CAAC8B,KAPnC,qBAQ4BL,WAR5B;AACN;AACA;AAFM;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAkBD;;AA/BsC;;gBAAnCJ,M,kBACkB;AACpBI,EAAAA,WAAW,EAAEzB,MAAM,CAAC+B,SADA;AAEpBL,EAAAA,KAAK,EAAE;AAFa,C;;AAiCxB,eAAeL,MAAf","sourcesContent":["import React from 'react'\nimport enhanceWithClickOutside from 'react-click-outside'\n\nimport WindowPointer from './WindowPointer'\nimport { COLORS } from '../lib/constants'\nimport { toggle } from '../lib/util'\n\nexport const managePopout = WrappedComponent => {\n  class PopoutManager extends React.Component {\n    state = {\n      isVisible: false,\n    }\n\n    toggleVisibility = () => this.setState(toggle('isVisible'))\n\n    handleClickOutside = () => this.setState({ isVisible: false })\n\n    handleKeyDown = e => {\n      if (e.key === 'Escape') {\n        this.handleClickOutside()\n      }\n    }\n\n    componentDidMount() {\n      document.addEventListener('keydown', this.handleKeyDown)\n    }\n\n    componentWillUnmount() {\n      document.removeEventListener('keydown', this.handleKeyDown)\n    }\n\n    render() {\n      return (\n        <WrappedComponent\n          {...this.props}\n          isVisible={this.state.isVisible}\n          toggleVisibility={this.toggleVisibility}\n        />\n      )\n    }\n  }\n\n  return enhanceWithClickOutside(PopoutManager)\n}\n\nclass Popout extends React.PureComponent {\n  static defaultProps = {\n    borderColor: COLORS.SECONDARY,\n    style: {},\n  }\n\n  render() {\n    const { id, children, borderColor, style, hidden, pointerLeft, pointerRight } = this.props\n\n    if (hidden) {\n      return null\n    }\n\n    return (\n      <div id={id} className=\"popout\" style={style}>\n        <WindowPointer fromLeft={pointerLeft} fromRight={pointerRight} color={borderColor} />\n        {children}\n        <style jsx>\n          {`\n            .popout {\n              position: absolute;\n              background-color: ${COLORS.BLACK};\n              border: 2px solid ${borderColor};\n              border-radius: 3px;\n              margin-top: 10px;\n              font-size: 12px;\n            }\n          `}\n        </style>\n      </div>\n    )\n  }\n}\n\nexport default Popout\n"]},"metadata":{},"sourceType":"module"}