{"ast":null,"code":"import _defineProperty from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/limengyu/Desktop/private/code/project/show-codes/components/EmailSubscribe.js\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport MailchimpSubscribe from 'react-mailchimp-subscribe';\nimport { validate } from 'email-validator';\nimport { useKeyboardListener } from 'actionsack';\nimport Input from './Input';\nimport Button from './Button';\nimport { COLORS } from '../lib/constants';\n\nvar Error = function Error(_ref) {\n  var _ref$message = _ref.message,\n      message = _ref$message === void 0 ? 'something went wrong' : _ref$message;\n\n  if (message.indexOf && message.indexOf('The domain portion of the email address is invalid') > -1) {\n    message = \"Oh no, that's not a valid email!\";\n  }\n\n  if (message.indexOf && message.indexOf('is already subscribed')) {\n    message = message.split('<a')[0]; // cut off 'Click to subscribe link'\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: _JSXStyle.dynamic([[\"3811371276\", [COLORS.RED]]]),\n    children: [message, /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"3811371276\",\n      dynamic: [COLORS.RED],\n      children: \"span.__jsx-style-dynamic-selector{position:absolute;bottom:2.75rem;font-size:12px;color:\".concat(COLORS.RED, \";text-align:left;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9FbWFpbFN1YnNjcmliZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFzQmtCLEFBRzZCLGtCQUNILGVBQ0EsZUFDb0IsbUNBQ25CLGdCQUNsQiIsImZpbGUiOiIvVXNlcnMvbGltZW5neXUvRGVza3RvcC9wcml2YXRlL2NvZGUvcHJvamVjdC9zaG93LWNvZGVzL2NvbXBvbmVudHMvRW1haWxTdWJzY3JpYmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgTWFpbGNoaW1wU3Vic2NyaWJlIGZyb20gJ3JlYWN0LW1haWxjaGltcC1zdWJzY3JpYmUnXG5pbXBvcnQgeyB2YWxpZGF0ZSB9IGZyb20gJ2VtYWlsLXZhbGlkYXRvcidcbmltcG9ydCB7IHVzZUtleWJvYXJkTGlzdGVuZXIgfSBmcm9tICdhY3Rpb25zYWNrJ1xuXG5pbXBvcnQgSW5wdXQgZnJvbSAnLi9JbnB1dCdcbmltcG9ydCBCdXR0b24gZnJvbSAnLi9CdXR0b24nXG5pbXBvcnQgeyBDT0xPUlMgfSBmcm9tICcuLi9saWIvY29uc3RhbnRzJ1xuXG5jb25zdCBFcnJvciA9ICh7IG1lc3NhZ2UgPSAnc29tZXRoaW5nIHdlbnQgd3JvbmcnIH0pID0+IHtcbiAgaWYgKFxuICAgIG1lc3NhZ2UuaW5kZXhPZiAmJlxuICAgIG1lc3NhZ2UuaW5kZXhPZignVGhlIGRvbWFpbiBwb3J0aW9uIG9mIHRoZSBlbWFpbCBhZGRyZXNzIGlzIGludmFsaWQnKSA+IC0xXG4gICkge1xuICAgIG1lc3NhZ2UgPSBgT2ggbm8sIHRoYXQncyBub3QgYSB2YWxpZCBlbWFpbCFgXG4gIH1cbiAgaWYgKG1lc3NhZ2UuaW5kZXhPZiAmJiBtZXNzYWdlLmluZGV4T2YoJ2lzIGFscmVhZHkgc3Vic2NyaWJlZCcpKSB7XG4gICAgbWVzc2FnZSA9IG1lc3NhZ2Uuc3BsaXQoJzxhJylbMF0gLy8gY3V0IG9mZiAnQ2xpY2sgdG8gc3Vic2NyaWJlIGxpbmsnXG4gIH1cbiAgcmV0dXJuIChcbiAgICA8c3Bhbj5cbiAgICAgIHttZXNzYWdlfVxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICBzcGFuIHtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgYm90dG9tOiAyLjc1cmVtO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICBjb2xvcjogJHtDT0xPUlMuUkVEfTtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmNvbnN0IEZvcm0gPSAoeyBtZXNzYWdlLCBzdWJzY3JpYmUsIGVycm9yIH0pID0+IHtcbiAgY29uc3QgW2VtYWlsLCBzZXRFbWFpbF0gPSBSZWFjdC51c2VTdGF0ZSgnJylcbiAgY29uc3QgW3Nob3dFcnJvciwgc2V0U2hvd0Vycm9yXSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IGRpc2FibGVkID0gIXZhbGlkYXRlKGVtYWlsKVxuICByZXR1cm4gKFxuICAgIDxmb3JtXG4gICAgICBjbGFzc05hbWU9XCJzdWJzY3JpYmUtZm9ybVwiXG4gICAgICBvblN1Ym1pdD17ZSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBzdWJzY3JpYmUoeyBFTUFJTDogZW1haWwgfSlcbiAgICAgIH19XG4gICAgPlxuICAgICAgPElucHV0XG4gICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgIG5hbWU9XCJlbWFpbFwiXG4gICAgICAgIHBsYWNlaG9sZGVyPVwiRW1haWwgYWRkcmVzc1wiXG4gICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcbiAgICAgICAgICBzZXRFbWFpbChlLnRhcmdldC52YWx1ZSlcbiAgICAgICAgICBzZXRTaG93RXJyb3IoZmFsc2UpXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPEJ1dHRvbiBob3ZlckJhY2tncm91bmQ9e0NPTE9SUy5CTEFDS30gZGlzYWJsZWQ9e2Rpc2FibGVkfT5cbiAgICAgICAgPHNwYW4+c3Vic2NyaWJlPC9zcGFuPlxuICAgICAgPC9CdXR0b24+XG4gICAgICB7ZXJyb3IgJiYgc2hvd0Vycm9yICYmIDxFcnJvciBtZXNzYWdlPXttZXNzYWdlfSAvPn1cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgc3BhbiB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcm0ge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgOmdsb2JhbChidXR0b24pID4gc3BhbiB7XG4gICAgICAgICAgICBjb2xvcjogJHtkaXNhYmxlZCA/ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknIDogJyNmZmYnfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9ybSA+IDpnbG9iYWwoaW5wdXQpIHtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDFyZW07XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcm0gPiA6Z2xvYmFsKGlucHV0Oi13ZWJraXQtYXV0b2ZpbGwpIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY2xpcDogY29udGVudC1ib3g7XG4gICAgICAgICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIC13ZWJraXQtYm94LXNoYWRvdzogMCAwIDBweCAxMDAwcHggJHtDT0xPUlMuQkxBQ0t9IGluc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JtID4gOmdsb2JhbChpbnB1dDotd2Via2l0LWF1dG9maWxsOjpzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiAjMDAwO1xuICAgICAgICAgICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDAgMHB4IDEwMDBweCAjZmZmIGluc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9mb3JtPlxuICApXG59XG5cbmNvbnN0IEVtYWlsU3Vic2NyaWJlID0gKCkgPT4ge1xuICBjb25zdCBbb3Blbiwgc2V0T3Blbl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSlcblxuICB1c2VLZXlib2FyZExpc3RlbmVyKCdFc2NhcGUnLCAoKSA9PiBzZXRPcGVuKGZhbHNlKSlcblxuICBpZiAoIXByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX01BSUxDSElNUF9VUkwpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBsaW5rXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9e2UgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgIHNldE9wZW4odHJ1ZSlcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgbWFpbGluZyBsaXN0XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIHtvcGVuICYmIChcbiAgICAgICAgPE1haWxjaGltcFN1YnNjcmliZVxuICAgICAgICAgIHVybD17cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTUFJTENISU1QX1VSTH1cbiAgICAgICAgICByZW5kZXI9eyh7IHN0YXR1cywgLi4ucHJvcHMgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICBjb25zdCBsb2FkaW5nID0gc3RhdHVzID09PSAnc2VuZGluZydcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gc3RhdHVzID09PSAnZXJyb3InXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1YnNjcmliZS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICB7bG9hZGluZyB8fCBzdWNjZXNzID8gKFxuICAgICAgICAgICAgICAgICAgPHNwYW4+e2xvYWRpbmcgPyAnbG9hZGluZy4uLicgOiAnc3Vic2NyaWJlZCEnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPEZvcm0gey4uLnByb3BzfSBlcnJvcj17ZXJyb3J9IC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTAwJTtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6ICR7b3BlbiA/ICdoaWRkZW4nIDogJ3Zpc2libGUnfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnV0dG9uOmhvdmVyIHtcbiAgICAgICAgICAgIGNvbG9yOiAke0NPTE9SUy5QUklNQVJZfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BhbiB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgJHtvcGVuID8gJ2JhY2tncm91bmQ6IG5vbmU7IG1hcmdpbi10b3A6IC0ycHg7JyA6ICcnfTtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMXJlbTtcbiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAycHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5zdWJzY3JpYmUtY29udGFpbmVyIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIHRvcDogLTAuNXJlbTtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmY7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcbiAgICAgICAgICAgIHdpZHRoOiAxNXJlbTtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIC8qIFRPRE8gcmVtb3ZlIHRoZXNlIHN0eWxlcyBhZnRlciBmaXhpbmcgZm9vdGVyICovXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAke0NPTE9SUy5CTEFDS307XG4gICAgICAgICAgICB6LWluZGV4OiAzO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRW1haWxTdWJzY3JpYmVcbiJdfQ== */\\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/EmailSubscribe.js */\")\n    }, void 0, false, void 0, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = Error;\n\nvar Form = function Form(_ref2) {\n  _s();\n\n  var message = _ref2.message,\n      subscribe = _ref2.subscribe,\n      error = _ref2.error;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      email = _React$useState2[0],\n      setEmail = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      showError = _React$useState4[0],\n      setShowError = _React$useState4[1];\n\n  var disabled = !validate(email);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: function onSubmit(e) {\n      e.preventDefault();\n      subscribe({\n        EMAIL: email\n      });\n    },\n    className: _JSXStyle.dynamic([[\"3369217456\", [disabled ? 'rgba(255, 255, 255, 0.5)' : '#fff', COLORS.BLACK]]]) + \" \" + \"subscribe-form\",\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Email address\",\n      onChange: function onChange(e) {\n        setEmail(e.target.value);\n        setShowError(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Button, {\n      hoverBackground: COLORS.BLACK,\n      disabled: disabled,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: _JSXStyle.dynamic([[\"3369217456\", [disabled ? 'rgba(255, 255, 255, 0.5)' : '#fff', COLORS.BLACK]]]),\n        children: \"subscribe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, _this), error && showError && /*#__PURE__*/_jsxDEV(Error, {\n      message: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 30\n    }, _this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"3369217456\",\n      dynamic: [disabled ? 'rgba(255, 255, 255, 0.5)' : '#fff', COLORS.BLACK],\n      children: \"span.__jsx-style-dynamic-selector{font-size:14px;}form.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}button>span.__jsx-style-dynamic-selector{color:\".concat(disabled ? 'rgba(255, 255, 255, 0.5)' : '#fff', \";}form.__jsx-style-dynamic-selector>input{text-align:left;margin-right:1rem;font-size:14px;}form.__jsx-style-dynamic-selector>input:-webkit-autofill{background-clip:content-box;-webkit-text-fill-color:#fff;-webkit-box-shadow:0 0 0px 1000px \").concat(COLORS.BLACK, \" inset;}form.__jsx-style-dynamic-selector>input:-webkit-autofill::selection{-webkit-text-fill-color:#000;-webkit-box-shadow:0 0 0px 1000px #fff inset;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9FbWFpbFN1YnNjcmliZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE2RFMsQUFHNEIsQUFHRixBQUdzQixBQUduQixBQUtZLEFBS0MsZUFsQi9CLENBU29CLFlBS1csQ0FLZ0IsS0FUOUIsQ0FKakIsY0FLQSxRQUl1RSxpQkFadkUsQUFpQkEsb0RBSkEiLCJmaWxlIjoiL1VzZXJzL2xpbWVuZ3l1L0Rlc2t0b3AvcHJpdmF0ZS9jb2RlL3Byb2plY3Qvc2hvdy1jb2Rlcy9jb21wb25lbnRzL0VtYWlsU3Vic2NyaWJlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IE1haWxjaGltcFN1YnNjcmliZSBmcm9tICdyZWFjdC1tYWlsY2hpbXAtc3Vic2NyaWJlJ1xuaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tICdlbWFpbC12YWxpZGF0b3InXG5pbXBvcnQgeyB1c2VLZXlib2FyZExpc3RlbmVyIH0gZnJvbSAnYWN0aW9uc2FjaydcblxuaW1wb3J0IElucHV0IGZyb20gJy4vSW5wdXQnXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vQnV0dG9uJ1xuaW1wb3J0IHsgQ09MT1JTIH0gZnJvbSAnLi4vbGliL2NvbnN0YW50cydcblxuY29uc3QgRXJyb3IgPSAoeyBtZXNzYWdlID0gJ3NvbWV0aGluZyB3ZW50IHdyb25nJyB9KSA9PiB7XG4gIGlmIChcbiAgICBtZXNzYWdlLmluZGV4T2YgJiZcbiAgICBtZXNzYWdlLmluZGV4T2YoJ1RoZSBkb21haW4gcG9ydGlvbiBvZiB0aGUgZW1haWwgYWRkcmVzcyBpcyBpbnZhbGlkJykgPiAtMVxuICApIHtcbiAgICBtZXNzYWdlID0gYE9oIG5vLCB0aGF0J3Mgbm90IGEgdmFsaWQgZW1haWwhYFxuICB9XG4gIGlmIChtZXNzYWdlLmluZGV4T2YgJiYgbWVzc2FnZS5pbmRleE9mKCdpcyBhbHJlYWR5IHN1YnNjcmliZWQnKSkge1xuICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnNwbGl0KCc8YScpWzBdIC8vIGN1dCBvZmYgJ0NsaWNrIHRvIHN1YnNjcmliZSBsaW5rJ1xuICB9XG4gIHJldHVybiAoXG4gICAgPHNwYW4+XG4gICAgICB7bWVzc2FnZX1cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgc3BhbiB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIGJvdHRvbTogMi43NXJlbTtcbiAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgY29sb3I6ICR7Q09MT1JTLlJFRH07XG4gICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5jb25zdCBGb3JtID0gKHsgbWVzc2FnZSwgc3Vic2NyaWJlLCBlcnJvciB9KSA9PiB7XG4gIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gUmVhY3QudXNlU3RhdGUoJycpXG4gIGNvbnN0IFtzaG93RXJyb3IsIHNldFNob3dFcnJvcl0gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBkaXNhYmxlZCA9ICF2YWxpZGF0ZShlbWFpbClcbiAgcmV0dXJuIChcbiAgICA8Zm9ybVxuICAgICAgY2xhc3NOYW1lPVwic3Vic2NyaWJlLWZvcm1cIlxuICAgICAgb25TdWJtaXQ9e2UgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgc3Vic2NyaWJlKHsgRU1BSUw6IGVtYWlsIH0pXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxJbnB1dFxuICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICBuYW1lPVwiZW1haWxcIlxuICAgICAgICBwbGFjZWhvbGRlcj1cIkVtYWlsIGFkZHJlc3NcIlxuICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XG4gICAgICAgICAgc2V0RW1haWwoZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgc2V0U2hvd0Vycm9yKGZhbHNlKVxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxCdXR0b24gaG92ZXJCYWNrZ3JvdW5kPXtDT0xPUlMuQkxBQ0t9IGRpc2FibGVkPXtkaXNhYmxlZH0+XG4gICAgICAgIDxzcGFuPnN1YnNjcmliZTwvc3Bhbj5cbiAgICAgIDwvQnV0dG9uPlxuICAgICAge2Vycm9yICYmIHNob3dFcnJvciAmJiA8RXJyb3IgbWVzc2FnZT17bWVzc2FnZX0gLz59XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JtIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIDpnbG9iYWwoYnV0dG9uKSA+IHNwYW4ge1xuICAgICAgICAgICAgY29sb3I6ICR7ZGlzYWJsZWQgPyAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJyA6ICcjZmZmJ307XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcm0gPiA6Z2xvYmFsKGlucHV0KSB7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxcmVtO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JtID4gOmdsb2JhbChpbnB1dDotd2Via2l0LWF1dG9maWxsKSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNsaXA6IGNvbnRlbnQtYm94O1xuICAgICAgICAgICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6ICNmZmY7XG4gICAgICAgICAgICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMCAwcHggMTAwMHB4ICR7Q09MT1JTLkJMQUNLfSBpbnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9ybSA+IDpnbG9iYWwoaW5wdXQ6LXdlYmtpdC1hdXRvZmlsbDo6c2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogIzAwMDtcbiAgICAgICAgICAgIC13ZWJraXQtYm94LXNoYWRvdzogMCAwIDBweCAxMDAwcHggI2ZmZiBpbnNldDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZm9ybT5cbiAgKVxufVxuXG5jb25zdCBFbWFpbFN1YnNjcmliZSA9ICgpID0+IHtcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpXG5cbiAgdXNlS2V5Ym9hcmRMaXN0ZW5lcignRXNjYXBlJywgKCkgPT4gc2V0T3BlbihmYWxzZSkpXG5cbiAgaWYgKCFwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQUlMQ0hJTVBfVVJMKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbGlua1wiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtlID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICBzZXRPcGVuKHRydWUpXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIG1haWxpbmcgbGlzdFxuICAgICAgPC9idXR0b24+XG4gICAgICB7b3BlbiAmJiAoXG4gICAgICAgIDxNYWlsY2hpbXBTdWJzY3JpYmVcbiAgICAgICAgICB1cmw9e3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX01BSUxDSElNUF9VUkx9XG4gICAgICAgICAgcmVuZGVyPXsoeyBzdGF0dXMsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBzdGF0dXMgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgY29uc3QgbG9hZGluZyA9IHN0YXR1cyA9PT0gJ3NlbmRpbmcnXG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHN0YXR1cyA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdWJzY3JpYmUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAge2xvYWRpbmcgfHwgc3VjY2VzcyA/IChcbiAgICAgICAgICAgICAgICAgIDxzcGFuPntsb2FkaW5nID8gJ2xvYWRpbmcuLi4nIDogJ3N1YnNjcmliZWQhJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtIHsuLi5wcm9wc30gZXJyb3I9e2Vycm9yfSAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICBidXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwMCU7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAke29wZW4gPyAnaGlkZGVuJyA6ICd2aXNpYmxlJ307XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1dHRvbjpob3ZlciB7XG4gICAgICAgICAgICBjb2xvcjogJHtDT0xPUlMuUFJJTUFSWX07XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICR7b3BlbiA/ICdiYWNrZ3JvdW5kOiBub25lOyBtYXJnaW4tdG9wOiAtMnB4OycgOiAnJ307XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDFyZW07XG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuc3Vic2NyaWJlLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IC0wLjVyZW07XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZmZmO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gICAgICAgICAgICB3aWR0aDogMTVyZW07XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAvKiBUT0RPIHJlbW92ZSB0aGVzZSBzdHlsZXMgYWZ0ZXIgZml4aW5nIGZvb3RlciAqL1xuICAgICAgICAgICAgYmFja2dyb3VuZDogJHtDT0xPUlMuQkxBQ0t9O1xuICAgICAgICAgICAgei1pbmRleDogMztcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEVtYWlsU3Vic2NyaWJlXG4iXX0= */\\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/EmailSubscribe.js */\")\n    }, void 0, false, void 0, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Form, \"pg4hmj6nXEDvzECF6aDunYjdw94=\");\n\n_c2 = Form;\n\nvar EmailSubscribe = function EmailSubscribe() {\n  _s2();\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      open = _React$useState6[0],\n      setOpen = _React$useState6[1];\n\n  useKeyboardListener('Escape', function () {\n    return setOpen(false);\n  });\n\n  if (!process.env.NEXT_PUBLIC_MAILCHIMP_URL) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: _JSXStyle.dynamic([[\"1031490751\", [open ? 'hidden' : 'visible', COLORS.PRIMARY, open ? 'background: none; margin-top: -2px;' : '', COLORS.BLACK]]]) + \" \" + \"container link\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: function onClick(e) {\n        e.preventDefault();\n        setOpen(true);\n      },\n      className: _JSXStyle.dynamic([[\"1031490751\", [open ? 'hidden' : 'visible', COLORS.PRIMARY, open ? 'background: none; margin-top: -2px;' : '', COLORS.BLACK]]]),\n      children: \"mailing list\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, _this), open && /*#__PURE__*/_jsxDEV(MailchimpSubscribe, {\n      url: process.env.NEXT_PUBLIC_MAILCHIMP_URL,\n      render: function render(_ref3) {\n        var status = _ref3.status,\n            props = _objectWithoutProperties(_ref3, [\"status\"]);\n\n        var success = status === 'success';\n        var loading = status === 'sending';\n        var error = status === 'error';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: _JSXStyle.dynamic([[\"1031490751\", [open ? 'hidden' : 'visible', COLORS.PRIMARY, open ? 'background: none; margin-top: -2px;' : '', COLORS.BLACK]]]) + \" \" + \"subscribe-container\",\n          children: loading || success ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: _JSXStyle.dynamic([[\"1031490751\", [open ? 'hidden' : 'visible', COLORS.PRIMARY, open ? 'background: none; margin-top: -2px;' : '', COLORS.BLACK]]]),\n            children: loading ? 'loading...' : 'subscribed!'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 19\n          }, _this) : /*#__PURE__*/_jsxDEV(Form, _objectSpread(_objectSpread({}, props), {}, {\n            error: error\n          }), void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 19\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }, _this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"1031490751\",\n      dynamic: [open ? 'hidden' : 'visible', COLORS.PRIMARY, open ? 'background: none; margin-top: -2px;' : '', COLORS.BLACK],\n      children: \"button.__jsx-style-dynamic-selector{padding:0;border:none;color:white;background:none;font-size:100%;cursor:pointer;visibility:\".concat(open ? 'hidden' : 'visible', \";}button.__jsx-style-dynamic-selector:hover{color:\").concat(COLORS.PRIMARY, \";}span.__jsx-style-dynamic-selector{font-size:14px;}.container.__jsx-style-dynamic-selector{display:inline-block;position:relative;\").concat(open ? 'background: none; margin-top: -2px;' : '', \";margin-right:1rem;padding-bottom:2px;}.subscribe-container.__jsx-style-dynamic-selector{position:absolute;top:-0.5rem;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border:1px solid #fff;border-radius:3px;padding:0.5rem 1rem;width:15rem;text-align:center;background:\").concat(COLORS.BLACK, \";z-index:3;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9FbWFpbFN1YnNjcmliZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrSVMsQUFHdUIsQUFTeUIsQUFHcEIsQUFHTSxBQU9ILFVBckJOLEtBWWQsR0FVYyxHQVBNLENBZE4sUUFzQmtCLElBckJkLENBT2xCLElBTzhCLFdBYmIsZUFDQSxHQWFHLFlBWnNCLE1BYXJCLG1CQUNyQixlQWJBLHlCQWtCd0Isc0JBQ0osa0JBQ0Usb0JBQ1IsWUFDTSxrQkFFc0Isd0NBQzlCLFVBQ1oiLCJmaWxlIjoiL1VzZXJzL2xpbWVuZ3l1L0Rlc2t0b3AvcHJpdmF0ZS9jb2RlL3Byb2plY3Qvc2hvdy1jb2Rlcy9jb21wb25lbnRzL0VtYWlsU3Vic2NyaWJlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IE1haWxjaGltcFN1YnNjcmliZSBmcm9tICdyZWFjdC1tYWlsY2hpbXAtc3Vic2NyaWJlJ1xuaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tICdlbWFpbC12YWxpZGF0b3InXG5pbXBvcnQgeyB1c2VLZXlib2FyZExpc3RlbmVyIH0gZnJvbSAnYWN0aW9uc2FjaydcblxuaW1wb3J0IElucHV0IGZyb20gJy4vSW5wdXQnXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vQnV0dG9uJ1xuaW1wb3J0IHsgQ09MT1JTIH0gZnJvbSAnLi4vbGliL2NvbnN0YW50cydcblxuY29uc3QgRXJyb3IgPSAoeyBtZXNzYWdlID0gJ3NvbWV0aGluZyB3ZW50IHdyb25nJyB9KSA9PiB7XG4gIGlmIChcbiAgICBtZXNzYWdlLmluZGV4T2YgJiZcbiAgICBtZXNzYWdlLmluZGV4T2YoJ1RoZSBkb21haW4gcG9ydGlvbiBvZiB0aGUgZW1haWwgYWRkcmVzcyBpcyBpbnZhbGlkJykgPiAtMVxuICApIHtcbiAgICBtZXNzYWdlID0gYE9oIG5vLCB0aGF0J3Mgbm90IGEgdmFsaWQgZW1haWwhYFxuICB9XG4gIGlmIChtZXNzYWdlLmluZGV4T2YgJiYgbWVzc2FnZS5pbmRleE9mKCdpcyBhbHJlYWR5IHN1YnNjcmliZWQnKSkge1xuICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnNwbGl0KCc8YScpWzBdIC8vIGN1dCBvZmYgJ0NsaWNrIHRvIHN1YnNjcmliZSBsaW5rJ1xuICB9XG4gIHJldHVybiAoXG4gICAgPHNwYW4+XG4gICAgICB7bWVzc2FnZX1cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgc3BhbiB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIGJvdHRvbTogMi43NXJlbTtcbiAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgY29sb3I6ICR7Q09MT1JTLlJFRH07XG4gICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5jb25zdCBGb3JtID0gKHsgbWVzc2FnZSwgc3Vic2NyaWJlLCBlcnJvciB9KSA9PiB7XG4gIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gUmVhY3QudXNlU3RhdGUoJycpXG4gIGNvbnN0IFtzaG93RXJyb3IsIHNldFNob3dFcnJvcl0gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBkaXNhYmxlZCA9ICF2YWxpZGF0ZShlbWFpbClcbiAgcmV0dXJuIChcbiAgICA8Zm9ybVxuICAgICAgY2xhc3NOYW1lPVwic3Vic2NyaWJlLWZvcm1cIlxuICAgICAgb25TdWJtaXQ9e2UgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgc3Vic2NyaWJlKHsgRU1BSUw6IGVtYWlsIH0pXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxJbnB1dFxuICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICBuYW1lPVwiZW1haWxcIlxuICAgICAgICBwbGFjZWhvbGRlcj1cIkVtYWlsIGFkZHJlc3NcIlxuICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XG4gICAgICAgICAgc2V0RW1haWwoZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgc2V0U2hvd0Vycm9yKGZhbHNlKVxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxCdXR0b24gaG92ZXJCYWNrZ3JvdW5kPXtDT0xPUlMuQkxBQ0t9IGRpc2FibGVkPXtkaXNhYmxlZH0+XG4gICAgICAgIDxzcGFuPnN1YnNjcmliZTwvc3Bhbj5cbiAgICAgIDwvQnV0dG9uPlxuICAgICAge2Vycm9yICYmIHNob3dFcnJvciAmJiA8RXJyb3IgbWVzc2FnZT17bWVzc2FnZX0gLz59XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JtIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIDpnbG9iYWwoYnV0dG9uKSA+IHNwYW4ge1xuICAgICAgICAgICAgY29sb3I6ICR7ZGlzYWJsZWQgPyAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJyA6ICcjZmZmJ307XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcm0gPiA6Z2xvYmFsKGlucHV0KSB7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxcmVtO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JtID4gOmdsb2JhbChpbnB1dDotd2Via2l0LWF1dG9maWxsKSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNsaXA6IGNvbnRlbnQtYm94O1xuICAgICAgICAgICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6ICNmZmY7XG4gICAgICAgICAgICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMCAwcHggMTAwMHB4ICR7Q09MT1JTLkJMQUNLfSBpbnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9ybSA+IDpnbG9iYWwoaW5wdXQ6LXdlYmtpdC1hdXRvZmlsbDo6c2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogIzAwMDtcbiAgICAgICAgICAgIC13ZWJraXQtYm94LXNoYWRvdzogMCAwIDBweCAxMDAwcHggI2ZmZiBpbnNldDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZm9ybT5cbiAgKVxufVxuXG5jb25zdCBFbWFpbFN1YnNjcmliZSA9ICgpID0+IHtcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpXG5cbiAgdXNlS2V5Ym9hcmRMaXN0ZW5lcignRXNjYXBlJywgKCkgPT4gc2V0T3BlbihmYWxzZSkpXG5cbiAgaWYgKCFwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQUlMQ0hJTVBfVVJMKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbGlua1wiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtlID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICBzZXRPcGVuKHRydWUpXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIG1haWxpbmcgbGlzdFxuICAgICAgPC9idXR0b24+XG4gICAgICB7b3BlbiAmJiAoXG4gICAgICAgIDxNYWlsY2hpbXBTdWJzY3JpYmVcbiAgICAgICAgICB1cmw9e3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX01BSUxDSElNUF9VUkx9XG4gICAgICAgICAgcmVuZGVyPXsoeyBzdGF0dXMsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBzdGF0dXMgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgY29uc3QgbG9hZGluZyA9IHN0YXR1cyA9PT0gJ3NlbmRpbmcnXG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHN0YXR1cyA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdWJzY3JpYmUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAge2xvYWRpbmcgfHwgc3VjY2VzcyA/IChcbiAgICAgICAgICAgICAgICAgIDxzcGFuPntsb2FkaW5nID8gJ2xvYWRpbmcuLi4nIDogJ3N1YnNjcmliZWQhJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtIHsuLi5wcm9wc30gZXJyb3I9e2Vycm9yfSAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICBidXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwMCU7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAke29wZW4gPyAnaGlkZGVuJyA6ICd2aXNpYmxlJ307XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1dHRvbjpob3ZlciB7XG4gICAgICAgICAgICBjb2xvcjogJHtDT0xPUlMuUFJJTUFSWX07XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICR7b3BlbiA/ICdiYWNrZ3JvdW5kOiBub25lOyBtYXJnaW4tdG9wOiAtMnB4OycgOiAnJ307XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDFyZW07XG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuc3Vic2NyaWJlLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IC0wLjVyZW07XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZmZmO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gICAgICAgICAgICB3aWR0aDogMTVyZW07XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAvKiBUT0RPIHJlbW92ZSB0aGVzZSBzdHlsZXMgYWZ0ZXIgZml4aW5nIGZvb3RlciAqL1xuICAgICAgICAgICAgYmFja2dyb3VuZDogJHtDT0xPUlMuQkxBQ0t9O1xuICAgICAgICAgICAgei1pbmRleDogMztcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEVtYWlsU3Vic2NyaWJlXG4iXX0= */\\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/EmailSubscribe.js */\")\n    }, void 0, false, void 0, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, _this);\n};\n\n_s2(EmailSubscribe, \"o+eiRPE65ngEwv/631RDOxxBDXw=\", false, function () {\n  return [useKeyboardListener];\n});\n\n_c3 = EmailSubscribe;\nexport default EmailSubscribe;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Error\");\n$RefreshReg$(_c2, \"Form\");\n$RefreshReg$(_c3, \"EmailSubscribe\");","map":{"version":3,"sources":["/Users/limengyu/Desktop/private/code/project/show-codes/components/EmailSubscribe.js"],"names":["React","MailchimpSubscribe","validate","useKeyboardListener","Input","Button","COLORS","Error","message","indexOf","split","RED","Form","subscribe","error","useState","email","setEmail","showError","setShowError","disabled","e","preventDefault","EMAIL","BLACK","target","value","EmailSubscribe","open","setOpen","process","env","NEXT_PUBLIC_MAILCHIMP_URL","PRIMARY","status","props","success","loading"],"mappings":"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","sourcesContent":["import React from 'react'\nimport MailchimpSubscribe from 'react-mailchimp-subscribe'\nimport { validate } from 'email-validator'\nimport { useKeyboardListener } from 'actionsack'\n\nimport Input from './Input'\nimport Button from './Button'\nimport { COLORS } from '../lib/constants'\n\nconst Error = ({ message = 'something went wrong' }) => {\n  if (\n    message.indexOf &&\n    message.indexOf('The domain portion of the email address is invalid') > -1\n  ) {\n    message = `Oh no, that's not a valid email!`\n  }\n  if (message.indexOf && message.indexOf('is already subscribed')) {\n    message = message.split('<a')[0] // cut off 'Click to subscribe link'\n  }\n  return (\n    <span>\n      {message}\n      <style jsx>{`\n        span {\n          position: absolute;\n          bottom: 2.75rem;\n          font-size: 12px;\n          color: ${COLORS.RED};\n          text-align: left;\n        }\n      `}</style>\n    </span>\n  )\n}\n\nconst Form = ({ message, subscribe, error }) => {\n  const [email, setEmail] = React.useState('')\n  const [showError, setShowError] = React.useState(true)\n  const disabled = !validate(email)\n  return (\n    <form\n      className=\"subscribe-form\"\n      onSubmit={e => {\n        e.preventDefault()\n        subscribe({ EMAIL: email })\n      }}\n    >\n      <Input\n        type=\"email\"\n        name=\"email\"\n        placeholder=\"Email address\"\n        onChange={e => {\n          setEmail(e.target.value)\n          setShowError(false)\n        }}\n      />\n      <Button hoverBackground={COLORS.BLACK} disabled={disabled}>\n        <span>subscribe</span>\n      </Button>\n      {error && showError && <Error message={message} />}\n      <style jsx>\n        {`\n          span {\n            font-size: 14px;\n          }\n          form {\n            display: flex;\n          }\n          :global(button) > span {\n            color: ${disabled ? 'rgba(255, 255, 255, 0.5)' : '#fff'};\n          }\n          form > :global(input) {\n            text-align: left;\n            margin-right: 1rem;\n            font-size: 14px;\n          }\n          form > :global(input:-webkit-autofill) {\n            background-clip: content-box;\n            -webkit-text-fill-color: #fff;\n            -webkit-box-shadow: 0 0 0px 1000px ${COLORS.BLACK} inset;\n          }\n          form > :global(input:-webkit-autofill::selection) {\n            -webkit-text-fill-color: #000;\n            -webkit-box-shadow: 0 0 0px 1000px #fff inset;\n          }\n        `}\n      </style>\n    </form>\n  )\n}\n\nconst EmailSubscribe = () => {\n  const [open, setOpen] = React.useState(false)\n\n  useKeyboardListener('Escape', () => setOpen(false))\n\n  if (!process.env.NEXT_PUBLIC_MAILCHIMP_URL) {\n    return null\n  }\n\n  return (\n    <div className=\"container link\">\n      <button\n        onClick={e => {\n          e.preventDefault()\n          setOpen(true)\n        }}\n      >\n        mailing list\n      </button>\n      {open && (\n        <MailchimpSubscribe\n          url={process.env.NEXT_PUBLIC_MAILCHIMP_URL}\n          render={({ status, ...props }) => {\n            const success = status === 'success'\n            const loading = status === 'sending'\n            const error = status === 'error'\n            return (\n              <div className=\"subscribe-container\">\n                {loading || success ? (\n                  <span>{loading ? 'loading...' : 'subscribed!'}</span>\n                ) : (\n                  <Form {...props} error={error} />\n                )}\n              </div>\n            )\n          }}\n        />\n      )}\n      <style jsx>\n        {`\n          button {\n            padding: 0;\n            border: none;\n            color: white;\n            background: none;\n            font-size: 100%;\n            cursor: pointer;\n            visibility: ${open ? 'hidden' : 'visible'};\n          }\n          button:hover {\n            color: ${COLORS.PRIMARY};\n          }\n          span {\n            font-size: 14px;\n          }\n          .container {\n            display: inline-block;\n            position: relative;\n            ${open ? 'background: none; margin-top: -2px;' : ''};\n            margin-right: 1rem;\n            padding-bottom: 2px;\n          }\n          .subscribe-container {\n            position: absolute;\n            top: -0.5rem;\n            justify-content: space-between;\n            border: 1px solid #fff;\n            border-radius: 3px;\n            padding: 0.5rem 1rem;\n            width: 15rem;\n            text-align: center;\n            /* TODO remove these styles after fixing footer */\n            background: ${COLORS.BLACK};\n            z-index: 3;\n          }\n        `}\n      </style>\n    </div>\n  )\n}\n\nexport default EmailSubscribe\n"]},"metadata":{},"sourceType":"module"}