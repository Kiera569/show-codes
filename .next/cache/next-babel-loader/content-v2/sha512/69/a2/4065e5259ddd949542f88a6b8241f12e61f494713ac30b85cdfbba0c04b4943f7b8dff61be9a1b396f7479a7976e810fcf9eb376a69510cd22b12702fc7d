{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/limengyu/Desktop/private/code/project/show-codes/components/SnippetToolbar.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React from 'react';\nimport { useAsyncCallback, useOnline } from 'actionsack';\nimport Button from './Button';\nimport Toolbar from './Toolbar';\nimport Input from './Input';\nimport ConfirmButton from './ConfirmButton';\nimport { useAuth } from './AuthContext';\nimport { COLORS } from '../lib/constants';\n\nfunction DeleteButton(props) {\n  _s();\n\n  var _useAsyncCallback = useAsyncCallback(props.onClick),\n      _useAsyncCallback2 = _slicedToArray(_useAsyncCallback, 2),\n      onClick = _useAsyncCallback2[0],\n      loading = _useAsyncCallback2[1].loading;\n\n  return /*#__PURE__*/_jsxDEV(ConfirmButton, {\n    display: \"block\",\n    padding: \"0 16px\",\n    flex: \"unset\",\n    center: true,\n    border: true,\n    large: true,\n    color: \"#fff\",\n    onClick: onClick,\n    style: {\n      color: COLORS.RED\n    },\n    children: loading ? 'Deleting…' : 'Delete'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DeleteButton, \"2dCe6QbU6nhMBbbMH/iv4qBOTXI=\", false, function () {\n  return [useAsyncCallback];\n});\n\n_c = DeleteButton;\n\nfunction DuplicateButton(props) {\n  _s2();\n\n  var _useAsyncCallback3 = useAsyncCallback(props.onClick),\n      _useAsyncCallback4 = _slicedToArray(_useAsyncCallback3, 2),\n      onClick = _useAsyncCallback4[0],\n      loading = _useAsyncCallback4[1].loading;\n\n  return /*#__PURE__*/_jsxDEV(Button, {\n    display: \"block\",\n    padding: \"0 16px\",\n    margin: \"0 0 0 1rem\",\n    flex: \"unset\",\n    center: true,\n    border: true,\n    large: true,\n    color: \"#37b589\",\n    onClick: onClick,\n    children: loading ? 'Duplicating…' : 'Duplicate'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(DuplicateButton, \"2dCe6QbU6nhMBbbMH/iv4qBOTXI=\", false, function () {\n  return [useAsyncCallback];\n});\n\n_c2 = DuplicateButton;\n\nfunction SnippetToolbar(props) {\n  _s3();\n\n  var user = useAuth();\n  var online = useOnline();\n  if (!online) return null;\n  if (!user) return null;\n  if (!props.snippet) return null;\n  var sameUser = user.uid === props.snippet.userId;\n  return /*#__PURE__*/_jsxDEV(Toolbar, {\n    style: {\n      marginTop: 16,\n      marginBottom: 0,\n      flexDirection: 'row-reverse',\n      alignItems: 'center',\n      // justifyContent: 'space-between',\n      zIndex: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(DuplicateButton, {\n      onClick: props.onCreate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), sameUser && /*#__PURE__*/_jsxDEV(DeleteButton, {\n      onClick: props.onDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginRight: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        align: \"left\",\n        placeholder: \"Add a name\\u2026\",\n        fontSize: \"14px\",\n        value: props.name,\n        onChange: function onChange(e) {\n          return props.onChange('name', e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(SnippetToolbar, \"tBzt50trgNqMPiAiewJ/8OTZW7g=\", false, function () {\n  return [useAuth, useOnline];\n});\n\n_c3 = SnippetToolbar;\nexport default SnippetToolbar;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"DeleteButton\");\n$RefreshReg$(_c2, \"DuplicateButton\");\n$RefreshReg$(_c3, \"SnippetToolbar\");","map":{"version":3,"sources":["/Users/limengyu/Desktop/private/code/project/show-codes/components/SnippetToolbar.js"],"names":["React","useAsyncCallback","useOnline","Button","Toolbar","Input","ConfirmButton","useAuth","COLORS","DeleteButton","props","onClick","loading","color","RED","DuplicateButton","SnippetToolbar","user","online","snippet","sameUser","uid","userId","marginTop","marginBottom","flexDirection","alignItems","zIndex","onCreate","onDelete","marginRight","name","e","onChange","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useAsyncCallback, useOnline } from 'actionsack'\n\nimport Button from './Button'\nimport Toolbar from './Toolbar'\nimport Input from './Input'\nimport ConfirmButton from './ConfirmButton'\nimport { useAuth } from './AuthContext'\n\nimport { COLORS } from '../lib/constants'\n\nfunction DeleteButton(props) {\n  const [onClick, { loading }] = useAsyncCallback(props.onClick)\n\n  return (\n    <ConfirmButton\n      display=\"block\"\n      padding=\"0 16px\"\n      flex=\"unset\"\n      center\n      border\n      large\n      color=\"#fff\"\n      onClick={onClick}\n      style={{ color: COLORS.RED }}\n    >\n      {loading ? 'Deleting…' : 'Delete'}\n    </ConfirmButton>\n  )\n}\n\nfunction DuplicateButton(props) {\n  const [onClick, { loading }] = useAsyncCallback(props.onClick)\n\n  return (\n    <Button\n      display=\"block\"\n      padding=\"0 16px\"\n      margin=\"0 0 0 1rem\"\n      flex=\"unset\"\n      center\n      border\n      large\n      color=\"#37b589\"\n      onClick={onClick}\n    >\n      {loading ? 'Duplicating…' : 'Duplicate'}\n    </Button>\n  )\n}\n\nfunction SnippetToolbar(props) {\n  const user = useAuth()\n  const online = useOnline()\n\n  if (!online) return null\n  if (!user) return null\n  if (!props.snippet) return null\n\n  const sameUser = user.uid === props.snippet.userId\n\n  return (\n    <Toolbar\n      style={{\n        marginTop: 16,\n        marginBottom: 0,\n        flexDirection: 'row-reverse',\n        alignItems: 'center',\n        // justifyContent: 'space-between',\n        zIndex: 1,\n      }}\n    >\n      <DuplicateButton onClick={props.onCreate} />\n      {sameUser && <DeleteButton onClick={props.onDelete} />}\n      <div style={{ marginRight: 'auto' }}>\n        <Input\n          align=\"left\"\n          placeholder=\"Add a name…\"\n          fontSize=\"14px\"\n          value={props.name}\n          onChange={e => props.onChange('name', e.target.value)}\n        />\n      </div>\n    </Toolbar>\n  )\n}\n\nexport default SnippetToolbar\n"]},"metadata":{},"sourceType":"module"}