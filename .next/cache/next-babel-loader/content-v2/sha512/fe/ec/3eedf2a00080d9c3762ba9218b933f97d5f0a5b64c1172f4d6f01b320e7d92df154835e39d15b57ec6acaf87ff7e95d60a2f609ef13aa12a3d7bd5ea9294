{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/limengyu/Desktop/private/code/project/show-codes/components/WidthHandler.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { DEFAULT_WIDTHS, COLORS } from '../lib/constants';\nconst {\n  minWidth,\n  maxWidth\n} = DEFAULT_WIDTHS;\n\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n\n  if (value > max) {\n    return max;\n  }\n\n  return value;\n}\n\nexport default function WidthHandler(props) {\n  const {\n    onChange,\n    innerRef,\n    paddingHorizontal\n  } = props;\n  const startX = React.useRef(null);\n  const startWidth = React.useRef(null);\n  React.useEffect(() => {\n    function handleMouseMove(e) {\n      if (!startX.current) return;\n      const delta = e.pageX - startX.current; // leftOrRight === 'left' ? startX - e.pageX : (startX - e.pageX) * -1\n\n      const calculated = startWidth.current + delta * window.devicePixelRatio;\n      const newWidth = clamp(calculated, minWidth, maxWidth);\n      onChange(newWidth);\n    }\n\n    window.addEventListener('mousemove', handleMouseMove);\n    return () => window.removeEventListener('mousemove', handleMouseMove);\n  }, [innerRef, onChange]);\n  React.useEffect(() => {\n    function handleMouseUp() {\n      startX.current = null;\n    }\n\n    window.addEventListener('mouseup', handleMouseUp);\n    return () => window.removeEventListener('mouseup', handleMouseUp);\n  }, []);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line\n    _jsxDEV(\"div\", {\n      onMouseDown: e => {\n        startX.current = e.pageX;\n        startWidth.current = innerRef.current.clientWidth;\n      },\n      role: \"separator\",\n      \"aria-orientation\": \"vertical\",\n      \"aria-valuemin\": minWidth,\n      \"aria-valuemax\": maxWidth,\n      className: _JSXStyle.dynamic([[\"3508252956\", [COLORS.BLUE, paddingHorizontal, paddingHorizontal, paddingHorizontal]]]) + \" \" + \"handler\",\n      children: /*#__PURE__*/_jsxDEV(_JSXStyle, {\n        id: \"3508252956\",\n        dynamic: [COLORS.BLUE, paddingHorizontal, paddingHorizontal, paddingHorizontal],\n        children: `.handler.__jsx-style-dynamic-selector{z-index:2;position:absolute;background-color:${COLORS.BLUE};top:${paddingHorizontal};bottom:${paddingHorizontal};right:${paddingHorizontal};width:8px;cursor:ew-resize;opacity:0;}.handler.__jsx-style-dynamic-selector:hover{opacity:0.4;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9XaWR0aEhhbmRsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMERTLEFBR3VCLEFBV0UsVUFWTSxFQVdwQixnQkFWZ0QsOENBQ2IsaUNBQ0csb0NBQ0QsbUNBQ3pCLFVBQ08saUJBQ1AsVUFDWiIsImZpbGUiOiIvVXNlcnMvbGltZW5neXUvRGVza3RvcC9wcml2YXRlL2NvZGUvcHJvamVjdC9zaG93LWNvZGVzL2NvbXBvbmVudHMvV2lkdGhIYW5kbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgREVGQVVMVF9XSURUSFMsIENPTE9SUyB9IGZyb20gJy4uL2xpYi9jb25zdGFudHMnXG5cbmNvbnN0IHsgbWluV2lkdGgsIG1heFdpZHRoIH0gPSBERUZBVUxUX1dJRFRIU1xuXG5mdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgaWYgKHZhbHVlIDwgbWluKSB7XG4gICAgcmV0dXJuIG1pblxuICB9XG4gIGlmICh2YWx1ZSA+IG1heCkge1xuICAgIHJldHVybiBtYXhcbiAgfVxuICByZXR1cm4gdmFsdWVcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV2lkdGhIYW5kbGVyKHByb3BzKSB7XG4gIGNvbnN0IHsgb25DaGFuZ2UsIGlubmVyUmVmLCBwYWRkaW5nSG9yaXpvbnRhbCB9ID0gcHJvcHNcblxuICBjb25zdCBzdGFydFggPSBSZWFjdC51c2VSZWYobnVsbClcbiAgY29uc3Qgc3RhcnRXaWR0aCA9IFJlYWN0LnVzZVJlZihudWxsKVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGUpIHtcbiAgICAgIGlmICghc3RhcnRYLmN1cnJlbnQpIHJldHVyblxuXG4gICAgICBjb25zdCBkZWx0YSA9IGUucGFnZVggLSBzdGFydFguY3VycmVudCAvLyBsZWZ0T3JSaWdodCA9PT0gJ2xlZnQnID8gc3RhcnRYIC0gZS5wYWdlWCA6IChzdGFydFggLSBlLnBhZ2VYKSAqIC0xXG4gICAgICBjb25zdCBjYWxjdWxhdGVkID0gc3RhcnRXaWR0aC5jdXJyZW50ICsgZGVsdGEgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb1xuICAgICAgY29uc3QgbmV3V2lkdGggPSBjbGFtcChjYWxjdWxhdGVkLCBtaW5XaWR0aCwgbWF4V2lkdGgpXG5cbiAgICAgIG9uQ2hhbmdlKG5ld1dpZHRoKVxuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpXG4gIH0sIFtpbm5lclJlZiwgb25DaGFuZ2VdKVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gaGFuZGxlTW91c2VVcCgpIHtcbiAgICAgIHN0YXJ0WC5jdXJyZW50ID0gbnVsbFxuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcClcbiAgfSwgW10pXG5cbiAgcmV0dXJuIChcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJoYW5kbGVyXCJcbiAgICAgIG9uTW91c2VEb3duPXtlID0+IHtcbiAgICAgICAgc3RhcnRYLmN1cnJlbnQgPSBlLnBhZ2VYXG4gICAgICAgIHN0YXJ0V2lkdGguY3VycmVudCA9IGlubmVyUmVmLmN1cnJlbnQuY2xpZW50V2lkdGhcbiAgICAgIH19XG4gICAgICByb2xlPVwic2VwYXJhdG9yXCJcbiAgICAgIGFyaWEtb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiXG4gICAgICBhcmlhLXZhbHVlbWluPXttaW5XaWR0aH1cbiAgICAgIGFyaWEtdmFsdWVtYXg9e21heFdpZHRofVxuICAgID5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLmhhbmRsZXIge1xuICAgICAgICAgICAgei1pbmRleDogMjtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Q09MT1JTLkJMVUV9O1xuICAgICAgICAgICAgdG9wOiAke3BhZGRpbmdIb3Jpem9udGFsfTtcbiAgICAgICAgICAgIGJvdHRvbTogJHtwYWRkaW5nSG9yaXpvbnRhbH07XG4gICAgICAgICAgICByaWdodDogJHtwYWRkaW5nSG9yaXpvbnRhbH07XG4gICAgICAgICAgICB3aWR0aDogOHB4O1xuICAgICAgICAgICAgY3Vyc29yOiBldy1yZXNpemU7XG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuaGFuZGxlcjpob3ZlciB7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLjQ7XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl19 */\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/WidthHandler.js */`\n      }, void 0, false, void 0, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }, this)\n  );\n}","map":{"version":3,"sources":["/Users/limengyu/Desktop/private/code/project/show-codes/components/WidthHandler.js"],"names":["React","DEFAULT_WIDTHS","COLORS","minWidth","maxWidth","clamp","value","min","max","WidthHandler","props","onChange","innerRef","paddingHorizontal","startX","useRef","startWidth","useEffect","handleMouseMove","e","current","delta","pageX","calculated","window","devicePixelRatio","newWidth","addEventListener","removeEventListener","handleMouseUp","clientWidth","BLUE"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,MAAzB,QAAuC,kBAAvC;AAEA,MAAM;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,IAAyBH,cAA/B;;AAEA,SAASI,KAAT,CAAeC,KAAf,EAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC9B,MAAIF,KAAK,GAAGC,GAAZ,EAAiB;AACf,WAAOA,GAAP;AACD;;AACD,MAAID,KAAK,GAAGE,GAAZ,EAAiB;AACf,WAAOA,GAAP;AACD;;AACD,SAAOF,KAAP;AACD;;AAED,eAAe,SAASG,YAAT,CAAsBC,KAAtB,EAA6B;AAC1C,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,QAAZ;AAAsBC,IAAAA;AAAtB,MAA4CH,KAAlD;AAEA,QAAMI,MAAM,GAAGd,KAAK,CAACe,MAAN,CAAa,IAAb,CAAf;AACA,QAAMC,UAAU,GAAGhB,KAAK,CAACe,MAAN,CAAa,IAAb,CAAnB;AAEAf,EAAAA,KAAK,CAACiB,SAAN,CAAgB,MAAM;AACpB,aAASC,eAAT,CAAyBC,CAAzB,EAA4B;AAC1B,UAAI,CAACL,MAAM,CAACM,OAAZ,EAAqB;AAErB,YAAMC,KAAK,GAAGF,CAAC,CAACG,KAAF,GAAUR,MAAM,CAACM,OAA/B,CAH0B,CAGa;;AACvC,YAAMG,UAAU,GAAGP,UAAU,CAACI,OAAX,GAAqBC,KAAK,GAAGG,MAAM,CAACC,gBAAvD;AACA,YAAMC,QAAQ,GAAGrB,KAAK,CAACkB,UAAD,EAAapB,QAAb,EAAuBC,QAAvB,CAAtB;AAEAO,MAAAA,QAAQ,CAACe,QAAD,CAAR;AACD;;AAEDF,IAAAA,MAAM,CAACG,gBAAP,CAAwB,WAAxB,EAAqCT,eAArC;AACA,WAAO,MAAMM,MAAM,CAACI,mBAAP,CAA2B,WAA3B,EAAwCV,eAAxC,CAAb;AACD,GAbD,EAaG,CAACN,QAAD,EAAWD,QAAX,CAbH;AAeAX,EAAAA,KAAK,CAACiB,SAAN,CAAgB,MAAM;AACpB,aAASY,aAAT,GAAyB;AACvBf,MAAAA,MAAM,CAACM,OAAP,GAAiB,IAAjB;AACD;;AACDI,IAAAA,MAAM,CAACG,gBAAP,CAAwB,SAAxB,EAAmCE,aAAnC;AACA,WAAO,MAAML,MAAM,CAACI,mBAAP,CAA2B,SAA3B,EAAsCC,aAAtC,CAAb;AACD,GAND,EAMG,EANH;AAQA;AAAA;AACE;AACA;AAEE,MAAA,WAAW,EAAEV,CAAC,IAAI;AAChBL,QAAAA,MAAM,CAACM,OAAP,GAAiBD,CAAC,CAACG,KAAnB;AACAN,QAAAA,UAAU,CAACI,OAAX,GAAqBR,QAAQ,CAACQ,OAAT,CAAiBU,WAAtC;AACD,OALH;AAME,MAAA,IAAI,EAAC,WANP;AAOE,0BAAiB,UAPnB;AAQE,uBAAe3B,QARjB;AASE,uBAAeC,QATjB;AAAA,oDAgB4BF,MAAM,CAAC6B,IAhBnC,EAiBelB,iBAjBf,EAkBkBA,iBAlBlB,EAmBiBA,iBAnBjB,aACY,SADZ;AAAA;AAAA;AAAA,kBAgB4BX,MAAM,CAAC6B,IAhBnC,EAiBelB,iBAjBf,EAkBkBA,iBAlBlB,EAmBiBA,iBAnBjB;AAAA,wGAgB4BX,MAAM,CAAC6B,IAhBnC,QAiBelB,iBAjBf,WAkBkBA,iBAlBlB,UAmBiBA,iBAnBjB;AACJ;AACA;AAFI;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAiCD","sourcesContent":["import React from 'react'\nimport { DEFAULT_WIDTHS, COLORS } from '../lib/constants'\n\nconst { minWidth, maxWidth } = DEFAULT_WIDTHS\n\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min\n  }\n  if (value > max) {\n    return max\n  }\n  return value\n}\n\nexport default function WidthHandler(props) {\n  const { onChange, innerRef, paddingHorizontal } = props\n\n  const startX = React.useRef(null)\n  const startWidth = React.useRef(null)\n\n  React.useEffect(() => {\n    function handleMouseMove(e) {\n      if (!startX.current) return\n\n      const delta = e.pageX - startX.current // leftOrRight === 'left' ? startX - e.pageX : (startX - e.pageX) * -1\n      const calculated = startWidth.current + delta * window.devicePixelRatio\n      const newWidth = clamp(calculated, minWidth, maxWidth)\n\n      onChange(newWidth)\n    }\n\n    window.addEventListener('mousemove', handleMouseMove)\n    return () => window.removeEventListener('mousemove', handleMouseMove)\n  }, [innerRef, onChange])\n\n  React.useEffect(() => {\n    function handleMouseUp() {\n      startX.current = null\n    }\n    window.addEventListener('mouseup', handleMouseUp)\n    return () => window.removeEventListener('mouseup', handleMouseUp)\n  }, [])\n\n  return (\n    // eslint-disable-next-line\n    <div\n      className=\"handler\"\n      onMouseDown={e => {\n        startX.current = e.pageX\n        startWidth.current = innerRef.current.clientWidth\n      }}\n      role=\"separator\"\n      aria-orientation=\"vertical\"\n      aria-valuemin={minWidth}\n      aria-valuemax={maxWidth}\n    >\n      <style jsx>\n        {`\n          .handler {\n            z-index: 2;\n            position: absolute;\n            background-color: ${COLORS.BLUE};\n            top: ${paddingHorizontal};\n            bottom: ${paddingHorizontal};\n            right: ${paddingHorizontal};\n            width: 8px;\n            cursor: ew-resize;\n            opacity: 0;\n          }\n          .handler:hover {\n            opacity: 0.4;\n          }\n        `}\n      </style>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}