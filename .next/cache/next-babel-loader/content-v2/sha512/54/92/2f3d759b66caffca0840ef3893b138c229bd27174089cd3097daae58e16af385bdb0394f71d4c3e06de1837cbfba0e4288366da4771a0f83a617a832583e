{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/limengyu/Desktop/private/code/project/show-codes/components/Popout.js\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport enhanceWithClickOutside from 'react-click-outside';\nimport WindowPointer from './WindowPointer';\nimport { COLORS } from '../lib/constants';\nimport { toggle } from '../lib/util';\nexport var managePopout = function managePopout(WrappedComponent) {\n  var PopoutManager = /*#__PURE__*/function (_React$Component) {\n    _inherits(PopoutManager, _React$Component);\n\n    var _super = _createSuper(PopoutManager);\n\n    function PopoutManager() {\n      var _this;\n\n      _classCallCheck(this, PopoutManager);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _defineProperty(_assertThisInitialized(_this), \"state\", {\n        isVisible: false\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"toggleVisibility\", function () {\n        return _this.setState(toggle('isVisible'));\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleClickOutside\", function () {\n        return _this.setState({\n          isVisible: false\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (e) {\n        if (e.key === 'Escape') {\n          _this.handleClickOutside();\n        }\n      });\n\n      return _this;\n    }\n\n    _createClass(PopoutManager, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        document.addEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/_jsxDEV(WrappedComponent, _objectSpread(_objectSpread({}, this.props), {}, {\n          isVisible: this.state.isVisible,\n          toggleVisibility: this.toggleVisibility\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }, this);\n      }\n    }]);\n\n    return PopoutManager;\n  }(React.Component);\n\n  return enhanceWithClickOutside(PopoutManager);\n};\n\nvar Popout = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Popout, _React$PureComponent);\n\n  var _super2 = _createSuper(Popout);\n\n  function Popout() {\n    _classCallCheck(this, Popout);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Popout, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          id = _this$props.id,\n          children = _this$props.children,\n          borderColor = _this$props.borderColor,\n          style = _this$props.style,\n          hidden = _this$props.hidden,\n          pointerLeft = _this$props.pointerLeft,\n          pointerRight = _this$props.pointerRight;\n\n      if (hidden) {\n        return null;\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: id,\n        style: style,\n        className: _JSXStyle.dynamic([[\"2332876135\", [COLORS.BLACK, borderColor]]]) + \" \" + \"popout\",\n        children: [/*#__PURE__*/_jsxDEV(WindowPointer, {\n          fromLeft: pointerLeft,\n          fromRight: pointerRight,\n          color: borderColor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), children, /*#__PURE__*/_jsxDEV(_JSXStyle, {\n          id: \"2332876135\",\n          dynamic: [COLORS.BLACK, borderColor],\n          children: \".popout.__jsx-style-dynamic-selector{position:absolute;background-color:\".concat(COLORS.BLACK, \";border:2px solid \").concat(borderColor, \";border-radius:3px;margin-top:10px;font-size:12px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9Qb3BvdXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBK0RXLEFBR2lDLGtCQUM0Qiw4Q0FDQSw4Q0FDNUIsa0JBQ0YsZ0JBQ0QsZUFDakIiLCJmaWxlIjoiL1VzZXJzL2xpbWVuZ3l1L0Rlc2t0b3AvcHJpdmF0ZS9jb2RlL3Byb2plY3Qvc2hvdy1jb2Rlcy9jb21wb25lbnRzL1BvcG91dC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBlbmhhbmNlV2l0aENsaWNrT3V0c2lkZSBmcm9tICdyZWFjdC1jbGljay1vdXRzaWRlJ1xuXG5pbXBvcnQgV2luZG93UG9pbnRlciBmcm9tICcuL1dpbmRvd1BvaW50ZXInXG5pbXBvcnQgeyBDT0xPUlMgfSBmcm9tICcuLi9saWIvY29uc3RhbnRzJ1xuaW1wb3J0IHsgdG9nZ2xlIH0gZnJvbSAnLi4vbGliL3V0aWwnXG5cbmV4cG9ydCBjb25zdCBtYW5hZ2VQb3BvdXQgPSBXcmFwcGVkQ29tcG9uZW50ID0+IHtcbiAgY2xhc3MgUG9wb3V0TWFuYWdlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGUgPSB7XG4gICAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgIH1cblxuICAgIHRvZ2dsZVZpc2liaWxpdHkgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHRvZ2dsZSgnaXNWaXNpYmxlJykpXG5cbiAgICBoYW5kbGVDbGlja091dHNpZGUgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHsgaXNWaXNpYmxlOiBmYWxzZSB9KVxuXG4gICAgaGFuZGxlS2V5RG93biA9IGUgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bilcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8V3JhcHBlZENvbXBvbmVudFxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgIGlzVmlzaWJsZT17dGhpcy5zdGF0ZS5pc1Zpc2libGV9XG4gICAgICAgICAgdG9nZ2xlVmlzaWJpbGl0eT17dGhpcy50b2dnbGVWaXNpYmlsaXR5fVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbmhhbmNlV2l0aENsaWNrT3V0c2lkZShQb3BvdXRNYW5hZ2VyKVxufVxuXG5jbGFzcyBQb3BvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBib3JkZXJDb2xvcjogQ09MT1JTLlNFQ09OREFSWSxcbiAgICBzdHlsZToge30sXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBpZCwgY2hpbGRyZW4sIGJvcmRlckNvbG9yLCBzdHlsZSwgaGlkZGVuLCBwb2ludGVyTGVmdCwgcG9pbnRlclJpZ2h0IH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAoaGlkZGVuKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPXtpZH0gY2xhc3NOYW1lPVwicG9wb3V0XCIgc3R5bGU9e3N0eWxlfT5cbiAgICAgICAgPFdpbmRvd1BvaW50ZXIgZnJvbUxlZnQ9e3BvaW50ZXJMZWZ0fSBmcm9tUmlnaHQ9e3BvaW50ZXJSaWdodH0gY29sb3I9e2JvcmRlckNvbG9yfSAvPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAge2BcbiAgICAgICAgICAgIC5wb3BvdXQge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Q09MT1JTLkJMQUNLfTtcbiAgICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgJHtib3JkZXJDb2xvcn07XG4gICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wb3V0XG4iXX0= */\\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/Popout.js */\")\n        }, void 0, false, void 0, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Popout;\n}(React.PureComponent);\n\n_defineProperty(Popout, \"defaultProps\", {\n  borderColor: COLORS.SECONDARY,\n  style: {}\n});\n\nexport default Popout;","map":{"version":3,"sources":["/Users/limengyu/Desktop/private/code/project/show-codes/components/Popout.js"],"names":["React","enhanceWithClickOutside","WindowPointer","COLORS","toggle","managePopout","WrappedComponent","PopoutManager","isVisible","setState","e","key","handleClickOutside","document","addEventListener","handleKeyDown","removeEventListener","props","state","toggleVisibility","Component","Popout","id","children","borderColor","style","hidden","pointerLeft","pointerRight","BLACK","PureComponent","SECONDARY"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,uBAAP,MAAoC,qBAApC;AAEA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,MAAT,QAAuB,kBAAvB;AACA,SAASC,MAAT,QAAuB,aAAvB;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,gBAAgB,EAAI;AAAA,MACxCC,aADwC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,8DAEpC;AACNC,QAAAA,SAAS,EAAE;AADL,OAFoC;;AAAA,yEAMzB;AAAA,eAAM,MAAKC,QAAL,CAAcL,MAAM,CAAC,WAAD,CAApB,CAAN;AAAA,OANyB;;AAAA,2EAQvB;AAAA,eAAM,MAAKK,QAAL,CAAc;AAAED,UAAAA,SAAS,EAAE;AAAb,SAAd,CAAN;AAAA,OARuB;;AAAA,sEAU5B,UAAAE,CAAC,EAAI;AACnB,YAAIA,CAAC,CAACC,GAAF,KAAU,QAAd,EAAwB;AACtB,gBAAKC,kBAAL;AACD;AACF,OAd2C;;AAAA;AAAA;;AAAA;AAAA;AAAA,0CAgBxB;AAClBC,QAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC,KAAKC,aAA1C;AACD;AAlB2C;AAAA;AAAA,6CAoBrB;AACrBF,QAAAA,QAAQ,CAACG,mBAAT,CAA6B,SAA7B,EAAwC,KAAKD,aAA7C;AACD;AAtB2C;AAAA;AAAA,+BAwBnC;AACP,4BACE,QAAC,gBAAD,kCACM,KAAKE,KADX;AAEE,UAAA,SAAS,EAAE,KAAKC,KAAL,CAAWV,SAFxB;AAGE,UAAA,gBAAgB,EAAE,KAAKW;AAHzB;AAAA;AAAA;AAAA;AAAA,gBADF;AAOD;AAhC2C;;AAAA;AAAA,IAClBnB,KAAK,CAACoB,SADY;;AAmC9C,SAAOnB,uBAAuB,CAACM,aAAD,CAA9B;AACD,CApCM;;IAsCDc,M;;;;;;;;;;;;;6BAMK;AAAA,wBACyE,KAAKJ,KAD9E;AAAA,UACCK,EADD,eACCA,EADD;AAAA,UACKC,QADL,eACKA,QADL;AAAA,UACeC,WADf,eACeA,WADf;AAAA,UAC4BC,KAD5B,eAC4BA,KAD5B;AAAA,UACmCC,MADnC,eACmCA,MADnC;AAAA,UAC2CC,WAD3C,eAC2CA,WAD3C;AAAA,UACwDC,YADxD,eACwDA,YADxD;;AAGP,UAAIF,MAAJ,EAAY;AACV,eAAO,IAAP;AACD;;AAED,0BACE;AAAK,QAAA,EAAE,EAAEJ,EAAT;AAAgC,QAAA,KAAK,EAAEG,KAAvC;AAAA,sDAO4BtB,MAAM,CAAC0B,KAPnC,EAQ4BL,WAR5B,aAAuB,QAAvB;AAAA,gCACE,QAAC,aAAD;AAAe,UAAA,QAAQ,EAAEG,WAAzB;AAAsC,UAAA,SAAS,EAAEC,YAAjD;AAA+D,UAAA,KAAK,EAAEJ;AAAtE;AAAA;AAAA;AAAA;AAAA,gBADF,EAEGD,QAFH;AAAA;AAAA,oBAO4BpB,MAAM,CAAC0B,KAPnC,EAQ4BL,WAR5B;AAAA,sGAO4BrB,MAAM,CAAC0B,KAPnC,+BAQ4BL,WAR5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAkBD;;;;EA/BkBxB,KAAK,CAAC8B,a;;gBAArBT,M,kBACkB;AACpBG,EAAAA,WAAW,EAAErB,MAAM,CAAC4B,SADA;AAEpBN,EAAAA,KAAK,EAAE;AAFa,C;;AAiCxB,eAAeJ,MAAf","sourcesContent":["import React from 'react'\nimport enhanceWithClickOutside from 'react-click-outside'\n\nimport WindowPointer from './WindowPointer'\nimport { COLORS } from '../lib/constants'\nimport { toggle } from '../lib/util'\n\nexport const managePopout = WrappedComponent => {\n  class PopoutManager extends React.Component {\n    state = {\n      isVisible: false,\n    }\n\n    toggleVisibility = () => this.setState(toggle('isVisible'))\n\n    handleClickOutside = () => this.setState({ isVisible: false })\n\n    handleKeyDown = e => {\n      if (e.key === 'Escape') {\n        this.handleClickOutside()\n      }\n    }\n\n    componentDidMount() {\n      document.addEventListener('keydown', this.handleKeyDown)\n    }\n\n    componentWillUnmount() {\n      document.removeEventListener('keydown', this.handleKeyDown)\n    }\n\n    render() {\n      return (\n        <WrappedComponent\n          {...this.props}\n          isVisible={this.state.isVisible}\n          toggleVisibility={this.toggleVisibility}\n        />\n      )\n    }\n  }\n\n  return enhanceWithClickOutside(PopoutManager)\n}\n\nclass Popout extends React.PureComponent {\n  static defaultProps = {\n    borderColor: COLORS.SECONDARY,\n    style: {},\n  }\n\n  render() {\n    const { id, children, borderColor, style, hidden, pointerLeft, pointerRight } = this.props\n\n    if (hidden) {\n      return null\n    }\n\n    return (\n      <div id={id} className=\"popout\" style={style}>\n        <WindowPointer fromLeft={pointerLeft} fromRight={pointerRight} color={borderColor} />\n        {children}\n        <style jsx>\n          {`\n            .popout {\n              position: absolute;\n              background-color: ${COLORS.BLACK};\n              border: 2px solid ${borderColor};\n              border-radius: 3px;\n              margin-top: 10px;\n              font-size: 12px;\n            }\n          `}\n        </style>\n      </div>\n    )\n  }\n}\n\nexport default Popout\n"]},"metadata":{},"sourceType":"module"}