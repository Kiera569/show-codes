{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/limengyu/Desktop/private/code/project/show-codes/components/Themes/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport dynamic from 'next/dynamic';\nimport GlobalHighlights from './GlobalHighlights';\nimport Dropdown from '../Dropdown';\nimport { managePopout } from '../Popout';\nimport ThemeIcon from '../svg/Theme';\nimport RemoveIcon from '../svg/Remove';\nimport { COLORS } from '../../lib/constants';\nconst ThemeCreate = dynamic(() => import('./ThemeCreate'), {\n  loading: () => null,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./ThemeCreate')],\n    modules: ['./ThemeCreate']\n  }\n});\n\nconst ThemeItem = ({\n  children,\n  item,\n  isSelected,\n  remove\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: _JSXStyle.dynamic([[\"498576714\", [item.id === 'create' ? 'center' : 'space-between']]]) + \" \" + \"theme-item\",\n  children: [children, item.custom && !isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"button\",\n    tabIndex: 0,\n    onClick: e => {\n      e.stopPropagation();\n      remove(item.id);\n    },\n    className: _JSXStyle.dynamic([[\"498576714\", [item.id === 'create' ? 'center' : 'space-between']]]) + \" \" + \"icon\",\n    children: /*#__PURE__*/_jsxDEV(RemoveIcon, {\n      color: COLORS.SECONDARY,\n      style: {\n        transform: 'scale(1.6)'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n    id: \"498576714\",\n    dynamic: [item.id === 'create' ? 'center' : 'space-between'],\n    children: `.theme-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:${item.id === 'create' ? 'center' : 'space-between'};-webkit-justify-content:${item.id === 'create' ? 'center' : 'space-between'};-ms-flex-pack:${item.id === 'create' ? 'center' : 'space-between'};justify-content:${item.id === 'create' ? 'center' : 'space-between'};-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:6px;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9UaGVtZXMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBK0JPLEFBR3dCLEFBT0EsMEVBTk4sQUFPVSxpQkFDbkIsZ0JBUCtDLDJMQUMxQiw2RkFDckIiLCJmaWxlIjoiL1VzZXJzL2xpbWVuZ3l1L0Rlc2t0b3AvcHJpdmF0ZS9jb2RlL3Byb2plY3Qvc2hvdy1jb2Rlcy9jb21wb25lbnRzL1RoZW1lcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBkeW5hbWljIGZyb20gJ25leHQvZHluYW1pYydcblxuaW1wb3J0IEdsb2JhbEhpZ2hsaWdodHMgZnJvbSAnLi9HbG9iYWxIaWdobGlnaHRzJ1xuaW1wb3J0IERyb3Bkb3duIGZyb20gJy4uL0Ryb3Bkb3duJ1xuaW1wb3J0IHsgbWFuYWdlUG9wb3V0IH0gZnJvbSAnLi4vUG9wb3V0J1xuaW1wb3J0IFRoZW1lSWNvbiBmcm9tICcuLi9zdmcvVGhlbWUnXG5pbXBvcnQgUmVtb3ZlSWNvbiBmcm9tICcuLi9zdmcvUmVtb3ZlJ1xuaW1wb3J0IHsgQ09MT1JTIH0gZnJvbSAnLi4vLi4vbGliL2NvbnN0YW50cydcblxuY29uc3QgVGhlbWVDcmVhdGUgPSBkeW5hbWljKCgpID0+IGltcG9ydCgnLi9UaGVtZUNyZWF0ZScpLCB7XG4gIGxvYWRpbmc6ICgpID0+IG51bGwsXG59KVxuXG5jb25zdCBUaGVtZUl0ZW0gPSAoeyBjaGlsZHJlbiwgaXRlbSwgaXNTZWxlY3RlZCwgcmVtb3ZlIH0pID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJ0aGVtZS1pdGVtXCI+XG4gICAge2NoaWxkcmVufVxuICAgIHtpdGVtLmN1c3RvbSAmJiAhaXNTZWxlY3RlZCAmJiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICB0YWJJbmRleD17MH1cbiAgICAgICAgY2xhc3NOYW1lPVwiaWNvblwiXG4gICAgICAgIG9uQ2xpY2s9e2UgPT4ge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICByZW1vdmUoaXRlbS5pZClcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPFJlbW92ZUljb24gY29sb3I9e0NPTE9SUy5TRUNPTkRBUll9IHN0eWxlPXt7IHRyYW5zZm9ybTogJ3NjYWxlKDEuNiknIH19IC8+XG4gICAgICA8L2Rpdj5cbiAgICApfVxuICAgIDxzdHlsZSBqc3g+XG4gICAgICB7YFxuICAgICAgICAudGhlbWUtaXRlbSB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4OiAxO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogJHtpdGVtLmlkID09PSAnY3JlYXRlJyA/ICdjZW50ZXInIDogJ3NwYWNlLWJldHdlZW4nfTtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLmljb24ge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiA2cHg7XG4gICAgICAgIH1cbiAgICAgIGB9XG4gICAgPC9zdHlsZT5cbiAgPC9kaXY+XG4pXG5cbmNvbnN0IHRoZW1lSWNvbiA9IDxUaGVtZUljb24gLz5cblxuY29uc3QgZ2V0Q3VzdG9tTmFtZSA9IHRoZW1lcyA9PlxuICBgQ3VzdG9tIFRoZW1lICR7dGhlbWVzLmZpbHRlcigoeyBuYW1lIH0pID0+IG5hbWUuc3RhcnRzV2l0aCgnQ3VzdG9tIFRoZW1lJykpLmxlbmd0aCArIDF9YFxuXG5jbGFzcyBUaGVtZXMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgc3RhdGUgPSB7XG4gICAgbmFtZTogJycsXG4gIH1cblxuICBkcm9wZG93biA9IFJlYWN0LmNyZWF0ZVJlZigpXG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcykge1xuICAgIGlmICghcHJvcHMuaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBnZXRDdXN0b21OYW1lKHByb3BzLnRoZW1lcyksXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBoYW5kbGVUaGVtZVNlbGVjdGVkID0gdGhlbWUgPT4ge1xuICAgIGlmICh0aGVtZSkge1xuICAgICAgY29uc3QgeyB0b2dnbGVWaXNpYmlsaXR5LCB1cGRhdGUgfSA9IHRoaXMucHJvcHNcbiAgICAgIGlmICh0aGVtZS5pZCA9PT0gJ2NyZWF0ZScpIHtcbiAgICAgICAgdG9nZ2xlVmlzaWJpbGl0eSgpXG4gICAgICAgIHRoaXMuZHJvcGRvd24uY3VycmVudC5jbG9zZU1lbnUoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlKHRoZW1lLmlkKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZSA9IHRoZW1lID0+IHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZVZpc2liaWxpdHkoKVxuICAgIHRoaXMucHJvcHMuY3JlYXRlKHRoZW1lKVxuICB9XG5cbiAgaXRlbVdyYXBwZXIgPSBwcm9wcyA9PiA8VGhlbWVJdGVtIHsuLi5wcm9wc30gcmVtb3ZlPXt0aGlzLnByb3BzLnJlbW92ZX0gLz5cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0aGVtZXMsIHRoZW1lLCBpc1Zpc2libGUsIHRvZ2dsZVZpc2liaWxpdHkgfSA9IHRoaXMucHJvcHNcblxuICAgIGNvbnN0IGhpZ2hsaWdodHMgPSB7IC4uLnRoZW1lLmhpZ2hsaWdodHMsIC4uLnRoaXMucHJvcHMuaGlnaGxpZ2h0cyB9XG5cbiAgICBjb25zdCBkcm9wZG93blZhbHVlID0gaXNWaXNpYmxlID8geyBuYW1lOiB0aGlzLnN0YXRlLm5hbWUgfSA6IHRoZW1lXG5cbiAgICBjb25zdCBkcm9wZG93bkxpc3QgPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiAnY3JlYXRlJyxcbiAgICAgICAgbmFtZTogJ0NyZWF0ZSArJyxcbiAgICAgIH0sXG4gICAgICAuLi50aGVtZXMsXG4gICAgXVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhlbWVzXCIgZGF0YS1jeT1cInRoZW1lcy1jb250YWluZXJcIj5cbiAgICAgICAgPERyb3Bkb3duXG4gICAgICAgICAgdGl0bGU9XCJUaGVtZVwiXG4gICAgICAgICAgaW5uZXJSZWY9e3RoaXMuZHJvcGRvd259XG4gICAgICAgICAgaWNvbj17dGhlbWVJY29ufVxuICAgICAgICAgIGRpc2FibGVJbnB1dD17aXNWaXNpYmxlfVxuICAgICAgICAgIHNlbGVjdGVkPXtkcm9wZG93blZhbHVlfVxuICAgICAgICAgIGxpc3Q9e2Ryb3Bkb3duTGlzdH1cbiAgICAgICAgICBpdGVtV3JhcHBlcj17dGhpcy5pdGVtV3JhcHBlcn1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVUaGVtZVNlbGVjdGVkfVxuICAgICAgICAgIG9uT3Blbj17aXNWaXNpYmxlICYmIHRvZ2dsZVZpc2liaWxpdHl9XG4gICAgICAgIC8+XG4gICAgICAgIHtpc1Zpc2libGUgJiYgKFxuICAgICAgICAgIDxUaGVtZUNyZWF0ZVxuICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxuICAgICAgICAgICAgdGhlbWVzPXt0aGVtZXN9XG4gICAgICAgICAgICBoaWdobGlnaHRzPXtoaWdobGlnaHRzfVxuICAgICAgICAgICAgY3JlYXRlPXt0aGlzLmNyZWF0ZX1cbiAgICAgICAgICAgIHVwZGF0ZUhpZ2hsaWdodHM9e3RoaXMucHJvcHMudXBkYXRlSGlnaGxpZ2h0c31cbiAgICAgICAgICAgIG5hbWU9e3RoaXMuc3RhdGUubmFtZX1cbiAgICAgICAgICAgIG9uSW5wdXRDaGFuZ2U9e2UgPT4gdGhpcy5zZXRTdGF0ZSh7IG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIDxHbG9iYWxIaWdobGlnaHRzIGhpZ2hsaWdodHM9e2hpZ2hsaWdodHN9IC8+XG4gICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAge2BcbiAgICAgICAgICAgIC50aGVtZXMge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBtYW5hZ2VQb3BvdXQoVGhlbWVzKVxuIl19 */\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/Themes/index.js */`\n  }, void 0, false, void 0, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 3\n}, this);\n\nconst themeIcon = /*#__PURE__*/_jsxDEV(ThemeIcon, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 49,\n  columnNumber: 19\n}, this);\n\nconst getCustomName = themes => `Custom Theme ${themes.filter(({\n  name\n}) => name.startsWith('Custom Theme')).length + 1}`;\n\nclass Themes extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      name: ''\n    });\n\n    _defineProperty(this, \"dropdown\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(this, \"handleThemeSelected\", theme => {\n      if (theme) {\n        const {\n          toggleVisibility,\n          update\n        } = this.props;\n\n        if (theme.id === 'create') {\n          toggleVisibility();\n          this.dropdown.current.closeMenu();\n        } else {\n          update(theme.id);\n        }\n      }\n    });\n\n    _defineProperty(this, \"create\", theme => {\n      this.props.toggleVisibility();\n      this.props.create(theme);\n    });\n\n    _defineProperty(this, \"itemWrapper\", props => /*#__PURE__*/_jsxDEV(ThemeItem, _objectSpread(_objectSpread({}, props), {}, {\n      remove: this.props.remove\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 26\n    }, this));\n  }\n\n  static getDerivedStateFromProps(props) {\n    if (!props.isVisible) {\n      return {\n        name: getCustomName(props.themes)\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      themes,\n      theme,\n      isVisible,\n      toggleVisibility\n    } = this.props;\n\n    const highlights = _objectSpread(_objectSpread({}, theme.highlights), this.props.highlights);\n\n    const dropdownValue = isVisible ? {\n      name: this.state.name\n    } : theme;\n    const dropdownList = [{\n      id: 'create',\n      name: 'Create +'\n    }, ...themes];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-cy\": \"themes-container\",\n      className: \"jsx-3386744142\" + \" \" + \"themes\",\n      children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n        title: \"Theme\",\n        innerRef: this.dropdown,\n        icon: themeIcon,\n        disableInput: isVisible,\n        selected: dropdownValue,\n        list: dropdownList,\n        itemWrapper: this.itemWrapper,\n        onChange: this.handleThemeSelected,\n        onOpen: isVisible && toggleVisibility\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), isVisible && /*#__PURE__*/_jsxDEV(ThemeCreate, {\n        theme: theme,\n        themes: themes,\n        highlights: highlights,\n        create: this.create,\n        updateHighlights: this.props.updateHighlights,\n        name: this.state.name,\n        onInputChange: e => this.setState({\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GlobalHighlights, {\n        highlights: highlights\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n        id: \"3386744142\",\n        children: \".themes.jsx-3386744142{position:relative;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9UaGVtZXMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBaUlXLEFBR2lDLGtCQUNwQiIsImZpbGUiOiIvVXNlcnMvbGltZW5neXUvRGVza3RvcC9wcml2YXRlL2NvZGUvcHJvamVjdC9zaG93LWNvZGVzL2NvbXBvbmVudHMvVGhlbWVzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJ1xuXG5pbXBvcnQgR2xvYmFsSGlnaGxpZ2h0cyBmcm9tICcuL0dsb2JhbEhpZ2hsaWdodHMnXG5pbXBvcnQgRHJvcGRvd24gZnJvbSAnLi4vRHJvcGRvd24nXG5pbXBvcnQgeyBtYW5hZ2VQb3BvdXQgfSBmcm9tICcuLi9Qb3BvdXQnXG5pbXBvcnQgVGhlbWVJY29uIGZyb20gJy4uL3N2Zy9UaGVtZSdcbmltcG9ydCBSZW1vdmVJY29uIGZyb20gJy4uL3N2Zy9SZW1vdmUnXG5pbXBvcnQgeyBDT0xPUlMgfSBmcm9tICcuLi8uLi9saWIvY29uc3RhbnRzJ1xuXG5jb25zdCBUaGVtZUNyZWF0ZSA9IGR5bmFtaWMoKCkgPT4gaW1wb3J0KCcuL1RoZW1lQ3JlYXRlJyksIHtcbiAgbG9hZGluZzogKCkgPT4gbnVsbCxcbn0pXG5cbmNvbnN0IFRoZW1lSXRlbSA9ICh7IGNoaWxkcmVuLCBpdGVtLCBpc1NlbGVjdGVkLCByZW1vdmUgfSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cInRoZW1lLWl0ZW1cIj5cbiAgICB7Y2hpbGRyZW59XG4gICAge2l0ZW0uY3VzdG9tICYmICFpc1NlbGVjdGVkICYmIChcbiAgICAgIDxkaXZcbiAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgIHRhYkluZGV4PXswfVxuICAgICAgICBjbGFzc05hbWU9XCJpY29uXCJcbiAgICAgICAgb25DbGljaz17ZSA9PiB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgIHJlbW92ZShpdGVtLmlkKVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8UmVtb3ZlSWNvbiBjb2xvcj17Q09MT1JTLlNFQ09OREFSWX0gc3R5bGU9e3sgdHJhbnNmb3JtOiAnc2NhbGUoMS42KScgfX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICl9XG4gICAgPHN0eWxlIGpzeD5cbiAgICAgIHtgXG4gICAgICAgIC50aGVtZS1pdGVtIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiAke2l0ZW0uaWQgPT09ICdjcmVhdGUnID8gJ2NlbnRlcicgOiAnc3BhY2UtYmV0d2Vlbid9O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAuaWNvbiB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDZweDtcbiAgICAgICAgfVxuICAgICAgYH1cbiAgICA8L3N0eWxlPlxuICA8L2Rpdj5cbilcblxuY29uc3QgdGhlbWVJY29uID0gPFRoZW1lSWNvbiAvPlxuXG5jb25zdCBnZXRDdXN0b21OYW1lID0gdGhlbWVzID0+XG4gIGBDdXN0b20gVGhlbWUgJHt0aGVtZXMuZmlsdGVyKCh7IG5hbWUgfSkgPT4gbmFtZS5zdGFydHNXaXRoKCdDdXN0b20gVGhlbWUnKSkubGVuZ3RoICsgMX1gXG5cbmNsYXNzIFRoZW1lcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBzdGF0ZSA9IHtcbiAgICBuYW1lOiAnJyxcbiAgfVxuXG4gIGRyb3Bkb3duID0gUmVhY3QuY3JlYXRlUmVmKClcblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcy5pc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGdldEN1c3RvbU5hbWUocHJvcHMudGhlbWVzKSxcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGhhbmRsZVRoZW1lU2VsZWN0ZWQgPSB0aGVtZSA9PiB7XG4gICAgaWYgKHRoZW1lKSB7XG4gICAgICBjb25zdCB7IHRvZ2dsZVZpc2liaWxpdHksIHVwZGF0ZSB9ID0gdGhpcy5wcm9wc1xuICAgICAgaWYgKHRoZW1lLmlkID09PSAnY3JlYXRlJykge1xuICAgICAgICB0b2dnbGVWaXNpYmlsaXR5KClcbiAgICAgICAgdGhpcy5kcm9wZG93bi5jdXJyZW50LmNsb3NlTWVudSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGUodGhlbWUuaWQpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlID0gdGhlbWUgPT4ge1xuICAgIHRoaXMucHJvcHMudG9nZ2xlVmlzaWJpbGl0eSgpXG4gICAgdGhpcy5wcm9wcy5jcmVhdGUodGhlbWUpXG4gIH1cblxuICBpdGVtV3JhcHBlciA9IHByb3BzID0+IDxUaGVtZUl0ZW0gey4uLnByb3BzfSByZW1vdmU9e3RoaXMucHJvcHMucmVtb3ZlfSAvPlxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRoZW1lcywgdGhlbWUsIGlzVmlzaWJsZSwgdG9nZ2xlVmlzaWJpbGl0eSB9ID0gdGhpcy5wcm9wc1xuXG4gICAgY29uc3QgaGlnaGxpZ2h0cyA9IHsgLi4udGhlbWUuaGlnaGxpZ2h0cywgLi4udGhpcy5wcm9wcy5oaWdobGlnaHRzIH1cblxuICAgIGNvbnN0IGRyb3Bkb3duVmFsdWUgPSBpc1Zpc2libGUgPyB7IG5hbWU6IHRoaXMuc3RhdGUubmFtZSB9IDogdGhlbWVcblxuICAgIGNvbnN0IGRyb3Bkb3duTGlzdCA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdjcmVhdGUnLFxuICAgICAgICBuYW1lOiAnQ3JlYXRlICsnLFxuICAgICAgfSxcbiAgICAgIC4uLnRoZW1lcyxcbiAgICBdXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aGVtZXNcIiBkYXRhLWN5PVwidGhlbWVzLWNvbnRhaW5lclwiPlxuICAgICAgICA8RHJvcGRvd25cbiAgICAgICAgICB0aXRsZT1cIlRoZW1lXCJcbiAgICAgICAgICBpbm5lclJlZj17dGhpcy5kcm9wZG93bn1cbiAgICAgICAgICBpY29uPXt0aGVtZUljb259XG4gICAgICAgICAgZGlzYWJsZUlucHV0PXtpc1Zpc2libGV9XG4gICAgICAgICAgc2VsZWN0ZWQ9e2Ryb3Bkb3duVmFsdWV9XG4gICAgICAgICAgbGlzdD17ZHJvcGRvd25MaXN0fVxuICAgICAgICAgIGl0ZW1XcmFwcGVyPXt0aGlzLml0ZW1XcmFwcGVyfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVRoZW1lU2VsZWN0ZWR9XG4gICAgICAgICAgb25PcGVuPXtpc1Zpc2libGUgJiYgdG9nZ2xlVmlzaWJpbGl0eX1cbiAgICAgICAgLz5cbiAgICAgICAge2lzVmlzaWJsZSAmJiAoXG4gICAgICAgICAgPFRoZW1lQ3JlYXRlXG4gICAgICAgICAgICB0aGVtZT17dGhlbWV9XG4gICAgICAgICAgICB0aGVtZXM9e3RoZW1lc31cbiAgICAgICAgICAgIGhpZ2hsaWdodHM9e2hpZ2hsaWdodHN9XG4gICAgICAgICAgICBjcmVhdGU9e3RoaXMuY3JlYXRlfVxuICAgICAgICAgICAgdXBkYXRlSGlnaGxpZ2h0cz17dGhpcy5wcm9wcy51cGRhdGVIaWdobGlnaHRzfVxuICAgICAgICAgICAgbmFtZT17dGhpcy5zdGF0ZS5uYW1lfVxuICAgICAgICAgICAgb25JbnB1dENoYW5nZT17ZSA9PiB0aGlzLnNldFN0YXRlKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAgPEdsb2JhbEhpZ2hsaWdodHMgaGlnaGxpZ2h0cz17aGlnaGxpZ2h0c30gLz5cbiAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICB7YFxuICAgICAgICAgICAgLnRoZW1lcyB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1hbmFnZVBvcG91dChUaGVtZXMpXG4iXX0= */\\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/Themes/index.js */\"\n      }, void 0, false, void 0, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default managePopout(Themes);","map":{"version":3,"sources":["/Users/limengyu/Desktop/private/code/project/show-codes/components/Themes/index.js"],"names":["React","dynamic","GlobalHighlights","Dropdown","managePopout","ThemeIcon","RemoveIcon","COLORS","ThemeCreate","loading","ThemeItem","children","item","isSelected","remove","id","custom","e","stopPropagation","SECONDARY","transform","themeIcon","getCustomName","themes","filter","name","startsWith","length","Themes","PureComponent","createRef","theme","toggleVisibility","update","props","dropdown","current","closeMenu","create","getDerivedStateFromProps","isVisible","render","highlights","dropdownValue","state","dropdownList","itemWrapper","handleThemeSelected","updateHighlights","setState","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\nimport dynamic from 'next/dynamic'\n\nimport GlobalHighlights from './GlobalHighlights'\nimport Dropdown from '../Dropdown'\nimport { managePopout } from '../Popout'\nimport ThemeIcon from '../svg/Theme'\nimport RemoveIcon from '../svg/Remove'\nimport { COLORS } from '../../lib/constants'\n\nconst ThemeCreate = dynamic(() => import('./ThemeCreate'), {\n  loading: () => null,\n})\n\nconst ThemeItem = ({ children, item, isSelected, remove }) => (\n  <div className=\"theme-item\">\n    {children}\n    {item.custom && !isSelected && (\n      <div\n        role=\"button\"\n        tabIndex={0}\n        className=\"icon\"\n        onClick={e => {\n          e.stopPropagation()\n          remove(item.id)\n        }}\n      >\n        <RemoveIcon color={COLORS.SECONDARY} style={{ transform: 'scale(1.6)' }} />\n      </div>\n    )}\n    <style jsx>\n      {`\n        .theme-item {\n          display: flex;\n          flex: 1;\n          justify-content: ${item.id === 'create' ? 'center' : 'space-between'};\n          align-items: center;\n        }\n\n        .icon {\n          display: flex;\n          margin-right: 6px;\n        }\n      `}\n    </style>\n  </div>\n)\n\nconst themeIcon = <ThemeIcon />\n\nconst getCustomName = themes =>\n  `Custom Theme ${themes.filter(({ name }) => name.startsWith('Custom Theme')).length + 1}`\n\nclass Themes extends React.PureComponent {\n  state = {\n    name: '',\n  }\n\n  dropdown = React.createRef()\n\n  static getDerivedStateFromProps(props) {\n    if (!props.isVisible) {\n      return {\n        name: getCustomName(props.themes),\n      }\n    }\n    return null\n  }\n\n  handleThemeSelected = theme => {\n    if (theme) {\n      const { toggleVisibility, update } = this.props\n      if (theme.id === 'create') {\n        toggleVisibility()\n        this.dropdown.current.closeMenu()\n      } else {\n        update(theme.id)\n      }\n    }\n  }\n\n  create = theme => {\n    this.props.toggleVisibility()\n    this.props.create(theme)\n  }\n\n  itemWrapper = props => <ThemeItem {...props} remove={this.props.remove} />\n\n  render() {\n    const { themes, theme, isVisible, toggleVisibility } = this.props\n\n    const highlights = { ...theme.highlights, ...this.props.highlights }\n\n    const dropdownValue = isVisible ? { name: this.state.name } : theme\n\n    const dropdownList = [\n      {\n        id: 'create',\n        name: 'Create +',\n      },\n      ...themes,\n    ]\n\n    return (\n      <div className=\"themes\" data-cy=\"themes-container\">\n        <Dropdown\n          title=\"Theme\"\n          innerRef={this.dropdown}\n          icon={themeIcon}\n          disableInput={isVisible}\n          selected={dropdownValue}\n          list={dropdownList}\n          itemWrapper={this.itemWrapper}\n          onChange={this.handleThemeSelected}\n          onOpen={isVisible && toggleVisibility}\n        />\n        {isVisible && (\n          <ThemeCreate\n            theme={theme}\n            themes={themes}\n            highlights={highlights}\n            create={this.create}\n            updateHighlights={this.props.updateHighlights}\n            name={this.state.name}\n            onInputChange={e => this.setState({ name: e.target.value })}\n          />\n        )}\n        <GlobalHighlights highlights={highlights} />\n        <style jsx>\n          {`\n            .themes {\n              position: relative;\n            }\n          `}\n        </style>\n      </div>\n    )\n  }\n}\n\nexport default managePopout(Themes)\n"]},"metadata":{},"sourceType":"module"}