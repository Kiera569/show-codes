{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/limengyu/Desktop/private/code/project/show-codes/components/Settings.js\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport omitBy from 'lodash.omitby';\nimport { useKeyboardListener } from 'actionsack';\nimport ThemeSelect from './ThemeSelect';\nimport FontSelect from './FontSelect';\nimport Slider from './Slider';\nimport Input from './Input';\nimport Toggle from './Toggle';\nimport Popout, { managePopout } from './Popout';\nimport Button from './Button';\nimport Presets from './Presets';\nimport MenuButton from './MenuButton';\nimport { COLORS, DEFAULT_PRESETS, DEFAULT_SETTINGS, DEFAULT_WIDTHS } from '../lib/constants';\nimport { toggle, getPresets, savePresets, generateId, fileToJSON } from '../lib/util';\nimport SettingsIcon from './svg/Settings';\n\nfunction KeyboardShortcut({\n  trigger,\n  handle\n}) {\n  useKeyboardListener(trigger, handle);\n  return null;\n}\n\nfunction WindowSettings({\n  onChange,\n  windowTheme,\n  paddingHorizontal,\n  paddingVertical,\n  dropShadow,\n  dropShadowBlurRadius,\n  dropShadowOffsetY,\n  windowControls,\n  widthAdjustment,\n  width,\n  watermark,\n  onWidthChanging,\n  onWidthChanged\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: _JSXStyle.dynamic([[\"2396155422\", [COLORS.SECONDARY]]]) + \" \" + \"settings-content\",\n    children: [/*#__PURE__*/_jsxDEV(ThemeSelect, {\n      selected: windowTheme || 'none',\n      windowControls: windowControls,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: _JSXStyle.dynamic([[\"2396155422\", [COLORS.SECONDARY]]]) + \" \" + \"row\",\n      children: [/*#__PURE__*/_jsxDEV(Slider, {\n        label: \"Padding (vert)\",\n        value: paddingVertical,\n        maxValue: 200,\n        onChange: onChange.bind(null, 'paddingVertical')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {\n        label: \"Padding (horiz)\",\n        value: paddingHorizontal,\n        onChange: onChange.bind(null, 'paddingHorizontal'),\n        onMouseDown: onWidthChanging,\n        onMouseUp: onWidthChanged\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n      label: \"Drop shadow\",\n      enabled: dropShadow,\n      onChange: onChange.bind(null, 'dropShadow')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), dropShadow && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: _JSXStyle.dynamic([[\"2396155422\", [COLORS.SECONDARY]]]) + \" \" + \"row drop-shadow-options\",\n      children: [/*#__PURE__*/_jsxDEV(Slider, {\n        label: \"(offset-y)\",\n        value: dropShadowOffsetY,\n        onChange: onChange.bind(null, 'dropShadowOffsetY')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {\n        label: \"(blur-radius)\",\n        value: dropShadowBlurRadius,\n        onChange: onChange.bind(null, 'dropShadowBlurRadius')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n      label: \"Auto-adjust width\",\n      enabled: widthAdjustment,\n      onChange: onChange.bind(null, 'widthAdjustment')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), !widthAdjustment && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: _JSXStyle.dynamic([[\"2396155422\", [COLORS.SECONDARY]]]) + \" \" + \"row settings-row width-row\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        label: \"Width\",\n        type: \"number\",\n        value: width,\n        min: DEFAULT_WIDTHS.minWidth,\n        max: DEFAULT_WIDTHS.maxWidth,\n        onChange: e => onChange('width', e.target.value),\n        width: \"50%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n      label: \"Watermark\",\n      enabled: watermark,\n      onChange: onChange.bind(null, 'watermark')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"2396155422\",\n      dynamic: [COLORS.SECONDARY],\n      children: `.width-row.__jsx-style-dynamic-selector{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:8px 12px 8px 8px;}.row.__jsx-style-dynamic-selector>div:first-child{border-right:1px solid ${COLORS.SECONDARY};}.drop-shadow-options.__jsx-style-dynamic-selector .slider-bg,.drop-shadow-options.__jsx-style-dynamic-selector label{opacity:0.5;}.settings-content.__jsx-style-dynamic-selector .settings-row:focus-within{outline:-webkit-focus-ring-color auto 4px;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9TZXR0aW5ncy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrR1MsQUFHMkMsQUFLc0IsQUFLeEMsQUFJOEIsWUFINUMsOEJBSUEsVUFUQSwrREFMMkIseUJBQzNCIiwiZmlsZSI6Ii9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9TZXR0aW5ncy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBvbWl0QnkgZnJvbSAnbG9kYXNoLm9taXRieSdcbmltcG9ydCB7IHVzZUtleWJvYXJkTGlzdGVuZXIgfSBmcm9tICdhY3Rpb25zYWNrJ1xuXG5pbXBvcnQgVGhlbWVTZWxlY3QgZnJvbSAnLi9UaGVtZVNlbGVjdCdcbmltcG9ydCBGb250U2VsZWN0IGZyb20gJy4vRm9udFNlbGVjdCdcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXG5pbXBvcnQgSW5wdXQgZnJvbSAnLi9JbnB1dCdcbmltcG9ydCBUb2dnbGUgZnJvbSAnLi9Ub2dnbGUnXG5pbXBvcnQgUG9wb3V0LCB7IG1hbmFnZVBvcG91dCB9IGZyb20gJy4vUG9wb3V0J1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbidcbmltcG9ydCBQcmVzZXRzIGZyb20gJy4vUHJlc2V0cydcbmltcG9ydCBNZW51QnV0dG9uIGZyb20gJy4vTWVudUJ1dHRvbidcbmltcG9ydCB7IENPTE9SUywgREVGQVVMVF9QUkVTRVRTLCBERUZBVUxUX1NFVFRJTkdTLCBERUZBVUxUX1dJRFRIUyB9IGZyb20gJy4uL2xpYi9jb25zdGFudHMnXG5pbXBvcnQgeyB0b2dnbGUsIGdldFByZXNldHMsIHNhdmVQcmVzZXRzLCBnZW5lcmF0ZUlkLCBmaWxlVG9KU09OIH0gZnJvbSAnLi4vbGliL3V0aWwnXG5pbXBvcnQgU2V0dGluZ3NJY29uIGZyb20gJy4vc3ZnL1NldHRpbmdzJ1xuXG5mdW5jdGlvbiBLZXlib2FyZFNob3J0Y3V0KHsgdHJpZ2dlciwgaGFuZGxlIH0pIHtcbiAgdXNlS2V5Ym9hcmRMaXN0ZW5lcih0cmlnZ2VyLCBoYW5kbGUpXG4gIHJldHVybiBudWxsXG59XG5cbmZ1bmN0aW9uIFdpbmRvd1NldHRpbmdzKHtcbiAgb25DaGFuZ2UsXG4gIHdpbmRvd1RoZW1lLFxuICBwYWRkaW5nSG9yaXpvbnRhbCxcbiAgcGFkZGluZ1ZlcnRpY2FsLFxuICBkcm9wU2hhZG93LFxuICBkcm9wU2hhZG93Qmx1clJhZGl1cyxcbiAgZHJvcFNoYWRvd09mZnNldFksXG4gIHdpbmRvd0NvbnRyb2xzLFxuICB3aWR0aEFkanVzdG1lbnQsXG4gIHdpZHRoLFxuICB3YXRlcm1hcmssXG4gIG9uV2lkdGhDaGFuZ2luZyxcbiAgb25XaWR0aENoYW5nZWQsXG59KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzZXR0aW5ncy1jb250ZW50XCI+XG4gICAgICA8VGhlbWVTZWxlY3RcbiAgICAgICAgc2VsZWN0ZWQ9e3dpbmRvd1RoZW1lIHx8ICdub25lJ31cbiAgICAgICAgd2luZG93Q29udHJvbHM9e3dpbmRvd0NvbnRyb2xzfVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPFNsaWRlclxuICAgICAgICAgIGxhYmVsPVwiUGFkZGluZyAodmVydClcIlxuICAgICAgICAgIHZhbHVlPXtwYWRkaW5nVmVydGljYWx9XG4gICAgICAgICAgbWF4VmFsdWU9ezIwMH1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAncGFkZGluZ1ZlcnRpY2FsJyl9XG4gICAgICAgIC8+XG4gICAgICAgIDxTbGlkZXJcbiAgICAgICAgICBsYWJlbD1cIlBhZGRpbmcgKGhvcml6KVwiXG4gICAgICAgICAgdmFsdWU9e3BhZGRpbmdIb3Jpem9udGFsfVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdwYWRkaW5nSG9yaXpvbnRhbCcpfVxuICAgICAgICAgIG9uTW91c2VEb3duPXtvbldpZHRoQ2hhbmdpbmd9XG4gICAgICAgICAgb25Nb3VzZVVwPXtvbldpZHRoQ2hhbmdlZH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPFRvZ2dsZVxuICAgICAgICBsYWJlbD1cIkRyb3Agc2hhZG93XCJcbiAgICAgICAgZW5hYmxlZD17ZHJvcFNoYWRvd31cbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2Ryb3BTaGFkb3cnKX1cbiAgICAgIC8+XG4gICAgICB7ZHJvcFNoYWRvdyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGRyb3Atc2hhZG93LW9wdGlvbnNcIj5cbiAgICAgICAgICA8U2xpZGVyXG4gICAgICAgICAgICBsYWJlbD1cIihvZmZzZXQteSlcIlxuICAgICAgICAgICAgdmFsdWU9e2Ryb3BTaGFkb3dPZmZzZXRZfVxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2Ryb3BTaGFkb3dPZmZzZXRZJyl9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8U2xpZGVyXG4gICAgICAgICAgICBsYWJlbD1cIihibHVyLXJhZGl1cylcIlxuICAgICAgICAgICAgdmFsdWU9e2Ryb3BTaGFkb3dCbHVyUmFkaXVzfVxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2Ryb3BTaGFkb3dCbHVyUmFkaXVzJyl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPFRvZ2dsZVxuICAgICAgICBsYWJlbD1cIkF1dG8tYWRqdXN0IHdpZHRoXCJcbiAgICAgICAgZW5hYmxlZD17d2lkdGhBZGp1c3RtZW50fVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnd2lkdGhBZGp1c3RtZW50Jyl9XG4gICAgICAvPlxuICAgICAgeyF3aWR0aEFkanVzdG1lbnQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBzZXR0aW5ncy1yb3cgd2lkdGgtcm93XCI+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBsYWJlbD1cIldpZHRoXCJcbiAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgdmFsdWU9e3dpZHRofVxuICAgICAgICAgICAgbWluPXtERUZBVUxUX1dJRFRIUy5taW5XaWR0aH1cbiAgICAgICAgICAgIG1heD17REVGQVVMVF9XSURUSFMubWF4V2lkdGh9XG4gICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBvbkNoYW5nZSgnd2lkdGgnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICB3aWR0aD1cIjUwJVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPFRvZ2dsZSBsYWJlbD1cIldhdGVybWFya1wiIGVuYWJsZWQ9e3dhdGVybWFya30gb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ3dhdGVybWFyaycpfSAvPlxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICAud2lkdGgtcm93IHtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMnB4IDhweCA4cHg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLnJvdyA+IDpnbG9iYWwoZGl2OmZpcnN0LWNoaWxkKSB7XG4gICAgICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAke0NPTE9SUy5TRUNPTkRBUll9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5kcm9wLXNoYWRvdy1vcHRpb25zIDpnbG9iYWwoLnNsaWRlci1iZyksXG4gICAgICAgICAgLmRyb3Atc2hhZG93LW9wdGlvbnMgOmdsb2JhbChsYWJlbCkge1xuICAgICAgICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5zZXR0aW5ncy1jb250ZW50IDpnbG9iYWwoLnNldHRpbmdzLXJvdzpmb2N1cy13aXRoaW4pIHtcbiAgICAgICAgICAgIG91dGxpbmU6IC13ZWJraXQtZm9jdXMtcmluZy1jb2xvciBhdXRvIDRweDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmZ1bmN0aW9uIEVkaXRvclNldHRpbmdzKHtcbiAgb25DaGFuZ2UsXG4gIG9uVXBsb2FkLFxuICBmb250LFxuICBzaXplLFxuICBsaW5lSGVpZ2h0LFxuICBsaW5lTnVtYmVycyxcbiAgZmlyc3RMaW5lTnVtYmVyLFxuICBoaWRkZW5DaGFyYWN0ZXJzLFxuICBvbldpZHRoQ2hhbmdpbmcsXG4gIG9uV2lkdGhDaGFuZ2VkLFxufSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3MtY29udGVudFwiPlxuICAgICAgPEZvbnRTZWxlY3RcbiAgICAgICAgc2VsZWN0ZWQ9e2ZvbnR9XG4gICAgICAgIG9uVXBsb2FkPXtvblVwbG9hZH1cbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2ZvbnRGYW1pbHknKX1cbiAgICAgIC8+XG4gICAgICA8U2xpZGVyXG4gICAgICAgIGxhYmVsPVwiU2l6ZVwiXG4gICAgICAgIHZhbHVlPXtzaXplfVxuICAgICAgICBtaW5WYWx1ZT17MTB9XG4gICAgICAgIG1heFZhbHVlPXsxOH1cbiAgICAgICAgc3RlcD17MC41fVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnZm9udFNpemUnKX1cbiAgICAgICAgb25Nb3VzZURvd249e29uV2lkdGhDaGFuZ2luZ31cbiAgICAgICAgb25Nb3VzZVVwPXtvbldpZHRoQ2hhbmdlZH1cbiAgICAgIC8+XG4gICAgICA8U2xpZGVyXG4gICAgICAgIGxhYmVsPVwiTGluZSBoZWlnaHRcIlxuICAgICAgICB2YWx1ZT17bGluZUhlaWdodH1cbiAgICAgICAgbWluVmFsdWU9ezkwfVxuICAgICAgICBtYXhWYWx1ZT17MjUwfVxuICAgICAgICB1bml0PVwiJVwiXG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdsaW5lSGVpZ2h0Jyl9XG4gICAgICAvPlxuICAgICAgPFRvZ2dsZVxuICAgICAgICBsYWJlbD1cIkxpbmUgbnVtYmVyc1wiXG4gICAgICAgIGVuYWJsZWQ9e2xpbmVOdW1iZXJzfVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnbGluZU51bWJlcnMnKX1cbiAgICAgIC8+XG4gICAgICB7bGluZU51bWJlcnMgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBzZXR0aW5ncy1yb3cgZmlyc3QtbGluZS1udW1iZXItcm93XCI+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBsYWJlbD1cIkZpcnN0IGxpbmUgbnVtYmVyXCJcbiAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgdmFsdWU9e2ZpcnN0TGluZU51bWJlcn1cbiAgICAgICAgICAgIG1pbj17MH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IG9uQ2hhbmdlKCdmaXJzdExpbmVOdW1iZXInLCBOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgIHdpZHRoPVwiNTAlXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8VG9nZ2xlXG4gICAgICAgIGxhYmVsPVwiSGlkZGVuIGNoYXJhY3RlcnNcIlxuICAgICAgICBlbmFibGVkPXtoaWRkZW5DaGFyYWN0ZXJzfVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnaGlkZGVuQ2hhcmFjdGVycycpfVxuICAgICAgLz5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLmZpcnN0LWxpbmUtbnVtYmVyLXJvdyB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweCA4cHggOHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuY29uc3QgcmVzZXRCdXR0b25TdHlsZSA9IHsgYm9yZGVyVG9wOiBgMXB4IHNvbGlkICR7Q09MT1JTLlNFQ09OREFSWX1gIH1cblxuZnVuY3Rpb24gTWlzY1NldHRpbmdzKHsgZm9ybWF0LCByZXNldCwgYXBwbHlQcmVzZXQsIHNldHRpbmdzIH0pIHtcbiAgY29uc3QgaW5wdXQgPSBSZWFjdC51c2VSZWYobnVsbClcbiAgbGV0IGRvd25sb2FkXG4gIHRyeSB7XG4gICAgZG93bmxvYWQgPSBgZGF0YTp0ZXh0L2pzb247Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzZXR0aW5ncykpfWBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBwYXNzXG4gIH1cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmdzLWNvbnRlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGhpZGRlblxuICAgICAgICAgIHJlZj17aW5wdXR9XG4gICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgIGFjY2VwdD1cIi5qc29uXCJcbiAgICAgICAgICBvbkNoYW5nZT17YXN5bmMgZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgZmlsZVRvSlNPTihlLnRhcmdldC5maWxlc1swXSlcbiAgICAgICAgICAgIGlmIChqc29uKSB7XG4gICAgICAgICAgICAgIGFwcGx5UHJlc2V0KGpzb24pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNlbnRlclxuICAgICAgICAgIHN0eWxlPXt7IGJvcmRlclJpZ2h0OiBgMXB4IHNvbGlkICR7Q09MT1JTLlNFQ09OREFSWX1gIH19XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gaW5wdXQuY3VycmVudC5jbGljaygpfVxuICAgICAgICA+XG4gICAgICAgICAgSW1wb3J0IGNvbmZpZ1xuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPEJ1dHRvbiBjZW50ZXIgQ29tcG9uZW50PVwiYVwiIGhyZWY9e2Rvd25sb2FkfSBkb3dubG9hZD1cImNhcmJvbi1jb25maWcuanNvblwiPlxuICAgICAgICAgIEV4cG9ydCBjb25maWdcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxCdXR0b24gY2VudGVyIG9uQ2xpY2s9e2Zvcm1hdH0gc3R5bGU9e3Jlc2V0QnV0dG9uU3R5bGV9PlxuICAgICAgICBQcmV0dGlmeSBjb2RlXG4gICAgICA8L0J1dHRvbj5cbiAgICAgIDxCdXR0b24gY2VudGVyIGNvbG9yPXtDT0xPUlMuUkVEfSBvbkNsaWNrPXtyZXNldH0gc3R5bGU9e3Jlc2V0QnV0dG9uU3R5bGV9PlxuICAgICAgICBSZXNldCBzZXR0aW5nc1xuICAgICAgPC9CdXR0b24+XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC5yb3cge1xuICAgICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnNldHRpbmdzLWNvbnRlbnQge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgfVxuICAgICAgICAgIC5zZXR0aW5ncy1jb250ZW50IDpnbG9iYWwoYSkge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgICB1c2VyLWRyYWc6IG5vbmU7XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5jb25zdCBzZXR0aW5nQnV0dG9uU3R5bGUgPSB7XG4gIHdpZHRoOiAnNDBweCcsXG4gIGhlaWdodDogJzEwMCUnLFxufVxuXG5jb25zdCBpbnZhbGlkU2V0dGluZyA9ICh2LCBrKSA9PlxuICAvLyBBbGxvdyBoaWdobGlnaHRzIGluIHByZXNldHMgYW5kIGNvbmZpZyBleHBvcnRzXG4gICEoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKERFRkFVTFRfU0VUVElOR1MsIGspIHx8IGsgPT09ICdoaWdobGlnaHRzJylcblxuY2xhc3MgU2V0dGluZ3MgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgc3RhdGUgPSB7XG4gICAgcHJlc2V0czogREVGQVVMVF9QUkVTRVRTLFxuICAgIHNlbGVjdGVkTWVudTogJ1dpbmRvdycsXG4gICAgc2hvd1ByZXNldHM6IHRydWUsXG4gICAgcHJldmlvdXNTZXR0aW5nczogbnVsbCxcbiAgICB3aWR0aENoYW5naW5nOiBmYWxzZSxcbiAgfVxuXG4gIHNldHRpbmdzUmVmID0gUmVhY3QuY3JlYXRlUmVmKClcbiAgbWVudVJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3Qgc3RvcmVkUHJlc2V0cyA9IGdldFByZXNldHMobG9jYWxTdG9yYWdlKSB8fCBbXVxuICAgIHRoaXMuc2V0U3RhdGUoKHsgcHJlc2V0cyB9KSA9PiAoe1xuICAgICAgcHJlc2V0czogWy4uLnN0b3JlZFByZXNldHMsIC4uLnByZXNldHNdLFxuICAgIH0pKVxuICB9XG5cbiAgdG9nZ2xlUHJlc2V0cyA9ICgpID0+IHRoaXMuc2V0U3RhdGUodG9nZ2xlKCdzaG93UHJlc2V0cycpKVxuXG4gIHNlbGVjdE1lbnUgPSBzZWxlY3RlZE1lbnUgPT4gKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkTWVudSB9KVxuXG4gIGhhbmRsZVdpZHRoQ2hhbmdpbmcgPSAoKSA9PiB7XG4gICAgY29uc3QgcmVjdCA9IHRoaXMuc2V0dGluZ3NSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIHRoaXMuc2V0dGluZ1Bvc2l0aW9uID0geyB0b3A6IHJlY3QuYm90dG9tLCBsZWZ0OiByZWN0LmxlZnQgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyB3aWR0aENoYW5naW5nOiB0cnVlIH0pXG4gIH1cblxuICBoYW5kbGVXaWR0aENoYW5nZWQgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHsgd2lkdGhDaGFuZ2luZzogZmFsc2UgfSlcblxuICBoYW5kbGVDaGFuZ2UgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoa2V5LCB2YWx1ZSlcbiAgICB0aGlzLnNldFN0YXRlKHsgcHJldmlvdXNTZXR0aW5nczogbnVsbCB9KVxuICB9XG5cbiAgaGFuZGxlT3BlbkFuZEZvY3VzID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMudG9nZ2xlVmlzaWJpbGl0eSgpXG4gICAgaWYgKCF0aGlzLnByb3BzLmlzVmlzaWJsZSkge1xuICAgICAgdGhpcy5tZW51UmVmLmN1cnJlbnQuZm9jdXMoKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmVzZXREZWZhdWx0U2V0dGluZ3MoKVxuICAgIHRoaXMuc2V0U3RhdGUoeyBwcmV2aW91c1NldHRpbmdzOiBudWxsIH0pXG4gIH1cblxuICBoYW5kbGVGb250VXBsb2FkID0gKGlkLCB1cmwpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKCdmb250RmFtaWx5JywgaWQpXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSgnZm9udFVybCcsIHVybClcbiAgICB0aGlzLnByb3BzLnRvZ2dsZVZpc2liaWxpdHkoKVxuICB9XG5cbiAgZ2V0U2V0dGluZ3NGcm9tUHJvcHMgPSAoKSA9PiBvbWl0QnkodGhpcy5wcm9wcywgaW52YWxpZFNldHRpbmcpXG5cbiAgYXBwbHlQcmVzZXQgPSBwcmVzZXQgPT4ge1xuICAgIGNvbnN0IHByZXZpb3VzU2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzRnJvbVByb3BzKClcblxuICAgIHRoaXMucHJvcHMuYXBwbHlQcmVzZXQocHJlc2V0KVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHByZXZpb3VzU2V0dGluZ3MgfSlcbiAgfVxuXG4gIHVuZG9QcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5hcHBseVByZXNldCh7IC4uLnRoaXMuc3RhdGUucHJldmlvdXNTZXR0aW5ncywgaWQ6IG51bGwgfSlcbiAgICB0aGlzLnNldFN0YXRlKHsgcHJldmlvdXNTZXR0aW5nczogbnVsbCB9KVxuICB9XG5cbiAgcmVtb3ZlUHJlc2V0ID0gaWQgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnByZXNldCA9PT0gaWQpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoJ3ByZXNldCcsIG51bGwpXG4gICAgICB0aGlzLnNldFN0YXRlKHsgcHJldmlvdXNTZXR0aW5nczogbnVsbCB9KVxuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKFxuICAgICAgKHsgcHJlc2V0cyB9KSA9PiAoeyBwcmVzZXRzOiBwcmVzZXRzLmZpbHRlcihwID0+IHAuaWQgIT09IGlkKSB9KSxcbiAgICAgIHRoaXMuc2F2ZVByZXNldHNcbiAgICApXG4gIH1cblxuICBjcmVhdGVQcmVzZXQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbmV3UHJlc2V0ID0gdGhpcy5nZXRTZXR0aW5nc0Zyb21Qcm9wcygpXG5cbiAgICBuZXdQcmVzZXQuaWQgPSBgcHJlc2V0OiR7Z2VuZXJhdGVJZCgpfWBcbiAgICBuZXdQcmVzZXQuY3VzdG9tID0gdHJ1ZVxuXG4gICAgbmV3UHJlc2V0Lmljb24gPSBhd2FpdCB0aGlzLnByb3BzLmdldENhcmJvbkltYWdlKHtcbiAgICAgIGZvcm1hdDogJ3BuZycsXG4gICAgICBzcXVhcmVkOiB0cnVlLFxuICAgICAgZXhwb3J0U2l6ZTogMSxcbiAgICB9KVxuXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSgncHJlc2V0JywgbmV3UHJlc2V0LmlkKVxuXG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgICh7IHByZXNldHMgfSkgPT4gKHtcbiAgICAgICAgcHJldmlvdXNTZXR0aW5nczogbnVsbCxcbiAgICAgICAgcHJlc2V0czogW25ld1ByZXNldCwgLi4ucHJlc2V0c10sXG4gICAgICB9KSxcbiAgICAgIHRoaXMuc2F2ZVByZXNldHNcbiAgICApXG4gIH1cblxuICBzYXZlUHJlc2V0cyA9ICgpID0+IHNhdmVQcmVzZXRzKHRoaXMuc3RhdGUucHJlc2V0cy5maWx0ZXIocCA9PiBwLmN1c3RvbSkpXG5cbiAgcmVuZGVyQ29udGVudCA9ICgpID0+IHtcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUuc2VsZWN0ZWRNZW51KSB7XG4gICAgICBjYXNlICdXaW5kb3cnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxXaW5kb3dTZXR0aW5nc1xuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgb25XaWR0aENoYW5naW5nPXt0aGlzLmhhbmRsZVdpZHRoQ2hhbmdpbmd9XG4gICAgICAgICAgICBvbldpZHRoQ2hhbmdlZD17dGhpcy5oYW5kbGVXaWR0aENoYW5nZWR9XG4gICAgICAgICAgICB3aW5kb3dUaGVtZT17dGhpcy5wcm9wcy53aW5kb3dUaGVtZX1cbiAgICAgICAgICAgIHBhZGRpbmdIb3Jpem9udGFsPXt0aGlzLnByb3BzLnBhZGRpbmdIb3Jpem9udGFsfVxuICAgICAgICAgICAgcGFkZGluZ1ZlcnRpY2FsPXt0aGlzLnByb3BzLnBhZGRpbmdWZXJ0aWNhbH1cbiAgICAgICAgICAgIGRyb3BTaGFkb3c9e3RoaXMucHJvcHMuZHJvcFNoYWRvd31cbiAgICAgICAgICAgIGRyb3BTaGFkb3dCbHVyUmFkaXVzPXt0aGlzLnByb3BzLmRyb3BTaGFkb3dCbHVyUmFkaXVzfVxuICAgICAgICAgICAgZHJvcFNoYWRvd09mZnNldFk9e3RoaXMucHJvcHMuZHJvcFNoYWRvd09mZnNldFl9XG4gICAgICAgICAgICB3aW5kb3dDb250cm9scz17dGhpcy5wcm9wcy53aW5kb3dDb250cm9sc31cbiAgICAgICAgICAgIHdpZHRoQWRqdXN0bWVudD17dGhpcy5wcm9wcy53aWR0aEFkanVzdG1lbnR9XG4gICAgICAgICAgICB3aWR0aD17dGhpcy5wcm9wcy53aWR0aH1cbiAgICAgICAgICAgIHdhdGVybWFyaz17dGhpcy5wcm9wcy53YXRlcm1hcmt9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgY2FzZSAnRWRpdG9yJzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RWRpdG9yU2V0dGluZ3NcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgIG9uVXBsb2FkPXt0aGlzLmhhbmRsZUZvbnRVcGxvYWR9XG4gICAgICAgICAgICBvbldpZHRoQ2hhbmdpbmc9e3RoaXMuaGFuZGxlV2lkdGhDaGFuZ2luZ31cbiAgICAgICAgICAgIG9uV2lkdGhDaGFuZ2VkPXt0aGlzLmhhbmRsZVdpZHRoQ2hhbmdlZH1cbiAgICAgICAgICAgIGZvbnQ9e3RoaXMucHJvcHMuZm9udEZhbWlseX1cbiAgICAgICAgICAgIHNpemU9e3RoaXMucHJvcHMuZm9udFNpemV9XG4gICAgICAgICAgICBsaW5lSGVpZ2h0PXt0aGlzLnByb3BzLmxpbmVIZWlnaHR9XG4gICAgICAgICAgICBsaW5lTnVtYmVycz17dGhpcy5wcm9wcy5saW5lTnVtYmVyc31cbiAgICAgICAgICAgIGZpcnN0TGluZU51bWJlcj17dGhpcy5wcm9wcy5maXJzdExpbmVOdW1iZXJ9XG4gICAgICAgICAgICBoaWRkZW5DaGFyYWN0ZXJzPXt0aGlzLnByb3BzLmhpZGRlbkNoYXJhY3RlcnN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgY2FzZSAnTWlzYyc6IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzRnJvbVByb3BzKClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TWlzY1NldHRpbmdzXG4gICAgICAgICAgICBmb3JtYXQ9e3RoaXMucHJvcHMuZm9ybWF0fVxuICAgICAgICAgICAgcmVzZXQ9e3RoaXMuaGFuZGxlUmVzZXR9XG4gICAgICAgICAgICBhcHBseVByZXNldD17dGhpcy5wcm9wcy5hcHBseVByZXNldH1cbiAgICAgICAgICAgIHNldHRpbmdzPXtzZXR0aW5nc31cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHNlbGVjdGVkTWVudSwgc2hvd1ByZXNldHMsIHByZXNldHMsIHByZXZpb3VzU2V0dGluZ3MsIHdpZHRoQ2hhbmdpbmcgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7IHByZXNldCwgaXNWaXNpYmxlLCB0b2dnbGVWaXNpYmlsaXR5IH0gPSB0aGlzLnByb3BzXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZXR0aW5ncy1jb250YWluZXJcIiByZWY9e3RoaXMuc2V0dGluZ3NSZWZ9PlxuICAgICAgICA8S2V5Ym9hcmRTaG9ydGN1dCB0cmlnZ2VyPVwi4oyYLS9cIiBoYW5kbGU9e3RoaXMuaGFuZGxlT3BlbkFuZEZvY3VzfSAvPlxuICAgICAgICA8S2V5Ym9hcmRTaG9ydGN1dCB0cmlnZ2VyPVwi4oenLeKMmC1cXFwiIGhhbmRsZT17dGhpcy5oYW5kbGVSZXNldH0gLz5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHRpdGxlPVwiU2V0dGluZ3MgTWVudVwiXG4gICAgICAgICAgYm9yZGVyXG4gICAgICAgICAgY2VudGVyXG4gICAgICAgICAgc2VsZWN0ZWQ9e2lzVmlzaWJsZX1cbiAgICAgICAgICBzdHlsZT17c2V0dGluZ0J1dHRvblN0eWxlfVxuICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVZpc2liaWxpdHl9XG4gICAgICAgID5cbiAgICAgICAgICA8U2V0dGluZ3NJY29uIC8+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8UG9wb3V0XG4gICAgICAgICAgcG9pbnRlckxlZnQ9XCIxNXB4XCJcbiAgICAgICAgICBoaWRkZW49eyFpc1Zpc2libGV9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBvc2l0aW9uOiB3aWR0aENoYW5naW5nID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICB3aWR0aDogJzMxNnB4JyxcbiAgICAgICAgICAgIHRvcDogd2lkdGhDaGFuZ2luZyA/IHRoaXMuc2V0dGluZ1Bvc2l0aW9uLnRvcCA6ICdpbml0aWFsJyxcbiAgICAgICAgICAgIGxlZnQ6IHdpZHRoQ2hhbmdpbmcgPyB0aGlzLnNldHRpbmdQb3NpdGlvbi5sZWZ0IDogJ2luaXRpYWwnLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8UHJlc2V0c1xuICAgICAgICAgICAgc2hvdz17c2hvd1ByZXNldHN9XG4gICAgICAgICAgICBwcmVzZXRzPXtwcmVzZXRzfVxuICAgICAgICAgICAgc2VsZWN0ZWQ9e3ByZXNldH1cbiAgICAgICAgICAgIHRvZ2dsZT17dGhpcy50b2dnbGVQcmVzZXRzfVxuICAgICAgICAgICAgYXBwbHk9e3RoaXMuYXBwbHlQcmVzZXR9XG4gICAgICAgICAgICB1bmRvPXt0aGlzLnVuZG9QcmVzZXR9XG4gICAgICAgICAgICByZW1vdmU9e3RoaXMucmVtb3ZlUHJlc2V0fVxuICAgICAgICAgICAgY3JlYXRlPXt0aGlzLmNyZWF0ZVByZXNldH1cbiAgICAgICAgICAgIGFwcGxpZWQ9eyEhcHJldmlvdXNTZXR0aW5nc31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3MtYm90dG9tXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmdzLW1lbnVcIiByZWY9e3RoaXMubWVudVJlZn0gdGFiSW5kZXg9ey0xfT5cbiAgICAgICAgICAgICAgPE1lbnVCdXR0b24gbmFtZT1cIldpbmRvd1wiIHNlbGVjdD17dGhpcy5zZWxlY3RNZW51fSBzZWxlY3RlZD17c2VsZWN0ZWRNZW51fSAvPlxuICAgICAgICAgICAgICA8TWVudUJ1dHRvbiBuYW1lPVwiRWRpdG9yXCIgc2VsZWN0PXt0aGlzLnNlbGVjdE1lbnV9IHNlbGVjdGVkPXtzZWxlY3RlZE1lbnV9IC8+XG4gICAgICAgICAgICAgIDxNZW51QnV0dG9uIG5hbWU9XCJNaXNjXCIgc2VsZWN0PXt0aGlzLnNlbGVjdE1lbnV9IHNlbGVjdGVkPXtzZWxlY3RlZE1lbnV9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckNvbnRlbnQoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Qb3BvdXQ+XG4gICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAge2BcbiAgICAgICAgICAgIC5zZXR0aW5ncy1jb250YWluZXIge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5zZXR0aW5ncy1ib3R0b20ge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuc2V0dGluZ3MtbWVudSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICAgIGZsZXg6IDAgMCA5NnB4O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke0NPTE9SUy5EQVJLX0dSQVl9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuc2V0dGluZ3MtYm90dG9tIDpnbG9iYWwoLnNldHRpbmdzLWNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAycHggc29saWQgJHtDT0xPUlMuU0VDT05EQVJZfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnNldHRpbmdzLWJvdHRvbSA6Z2xvYmFsKC5zZXR0aW5ncy1jb250ZW50ID4gZGl2Om5vdCg6Zmlyc3QtY2hpbGQpKSB7XG4gICAgICAgICAgICAgIGJvcmRlci10b3A6IHNvbGlkIDFweCAke0NPTE9SUy5TRUNPTkRBUll9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFuYWdlUG9wb3V0KFNldHRpbmdzKVxuIl19 */\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/Settings.js */`\n    }, void 0, false, void 0, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\nfunction EditorSettings({\n  onChange,\n  onUpload,\n  font,\n  size,\n  lineHeight,\n  lineNumbers,\n  firstLineNumber,\n  hiddenCharacters,\n  onWidthChanging,\n  onWidthChanged\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"jsx-3674362433\" + \" \" + \"settings-content\",\n    children: [/*#__PURE__*/_jsxDEV(FontSelect, {\n      selected: font,\n      onUpload: onUpload,\n      onChange: onChange.bind(null, 'fontFamily')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Slider, {\n      label: \"Size\",\n      value: size,\n      minValue: 10,\n      maxValue: 18,\n      step: 0.5,\n      onChange: onChange.bind(null, 'fontSize'),\n      onMouseDown: onWidthChanging,\n      onMouseUp: onWidthChanged\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Slider, {\n      label: \"Line height\",\n      value: lineHeight,\n      minValue: 90,\n      maxValue: 250,\n      unit: \"%\",\n      onChange: onChange.bind(null, 'lineHeight')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n      label: \"Line numbers\",\n      enabled: lineNumbers,\n      onChange: onChange.bind(null, 'lineNumbers')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), lineNumbers && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jsx-3674362433\" + \" \" + \"row settings-row first-line-number-row\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        label: \"First line number\",\n        type: \"number\",\n        value: firstLineNumber,\n        min: 0,\n        onChange: e => onChange('firstLineNumber', Number(e.target.value)),\n        width: \"50%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n      label: \"Hidden characters\",\n      enabled: hiddenCharacters,\n      onChange: onChange.bind(null, 'hiddenCharacters')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"3674362433\",\n      children: \".first-line-number-row.jsx-3674362433{padding:8px 12px 8px 8px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9TZXR0aW5ncy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFzTFMsQUFHc0MseUJBQzNCIiwiZmlsZSI6Ii9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9TZXR0aW5ncy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBvbWl0QnkgZnJvbSAnbG9kYXNoLm9taXRieSdcbmltcG9ydCB7IHVzZUtleWJvYXJkTGlzdGVuZXIgfSBmcm9tICdhY3Rpb25zYWNrJ1xuXG5pbXBvcnQgVGhlbWVTZWxlY3QgZnJvbSAnLi9UaGVtZVNlbGVjdCdcbmltcG9ydCBGb250U2VsZWN0IGZyb20gJy4vRm9udFNlbGVjdCdcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXG5pbXBvcnQgSW5wdXQgZnJvbSAnLi9JbnB1dCdcbmltcG9ydCBUb2dnbGUgZnJvbSAnLi9Ub2dnbGUnXG5pbXBvcnQgUG9wb3V0LCB7IG1hbmFnZVBvcG91dCB9IGZyb20gJy4vUG9wb3V0J1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbidcbmltcG9ydCBQcmVzZXRzIGZyb20gJy4vUHJlc2V0cydcbmltcG9ydCBNZW51QnV0dG9uIGZyb20gJy4vTWVudUJ1dHRvbidcbmltcG9ydCB7IENPTE9SUywgREVGQVVMVF9QUkVTRVRTLCBERUZBVUxUX1NFVFRJTkdTLCBERUZBVUxUX1dJRFRIUyB9IGZyb20gJy4uL2xpYi9jb25zdGFudHMnXG5pbXBvcnQgeyB0b2dnbGUsIGdldFByZXNldHMsIHNhdmVQcmVzZXRzLCBnZW5lcmF0ZUlkLCBmaWxlVG9KU09OIH0gZnJvbSAnLi4vbGliL3V0aWwnXG5pbXBvcnQgU2V0dGluZ3NJY29uIGZyb20gJy4vc3ZnL1NldHRpbmdzJ1xuXG5mdW5jdGlvbiBLZXlib2FyZFNob3J0Y3V0KHsgdHJpZ2dlciwgaGFuZGxlIH0pIHtcbiAgdXNlS2V5Ym9hcmRMaXN0ZW5lcih0cmlnZ2VyLCBoYW5kbGUpXG4gIHJldHVybiBudWxsXG59XG5cbmZ1bmN0aW9uIFdpbmRvd1NldHRpbmdzKHtcbiAgb25DaGFuZ2UsXG4gIHdpbmRvd1RoZW1lLFxuICBwYWRkaW5nSG9yaXpvbnRhbCxcbiAgcGFkZGluZ1ZlcnRpY2FsLFxuICBkcm9wU2hhZG93LFxuICBkcm9wU2hhZG93Qmx1clJhZGl1cyxcbiAgZHJvcFNoYWRvd09mZnNldFksXG4gIHdpbmRvd0NvbnRyb2xzLFxuICB3aWR0aEFkanVzdG1lbnQsXG4gIHdpZHRoLFxuICB3YXRlcm1hcmssXG4gIG9uV2lkdGhDaGFuZ2luZyxcbiAgb25XaWR0aENoYW5nZWQsXG59KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzZXR0aW5ncy1jb250ZW50XCI+XG4gICAgICA8VGhlbWVTZWxlY3RcbiAgICAgICAgc2VsZWN0ZWQ9e3dpbmRvd1RoZW1lIHx8ICdub25lJ31cbiAgICAgICAgd2luZG93Q29udHJvbHM9e3dpbmRvd0NvbnRyb2xzfVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPFNsaWRlclxuICAgICAgICAgIGxhYmVsPVwiUGFkZGluZyAodmVydClcIlxuICAgICAgICAgIHZhbHVlPXtwYWRkaW5nVmVydGljYWx9XG4gICAgICAgICAgbWF4VmFsdWU9ezIwMH1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAncGFkZGluZ1ZlcnRpY2FsJyl9XG4gICAgICAgIC8+XG4gICAgICAgIDxTbGlkZXJcbiAgICAgICAgICBsYWJlbD1cIlBhZGRpbmcgKGhvcml6KVwiXG4gICAgICAgICAgdmFsdWU9e3BhZGRpbmdIb3Jpem9udGFsfVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdwYWRkaW5nSG9yaXpvbnRhbCcpfVxuICAgICAgICAgIG9uTW91c2VEb3duPXtvbldpZHRoQ2hhbmdpbmd9XG4gICAgICAgICAgb25Nb3VzZVVwPXtvbldpZHRoQ2hhbmdlZH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPFRvZ2dsZVxuICAgICAgICBsYWJlbD1cIkRyb3Agc2hhZG93XCJcbiAgICAgICAgZW5hYmxlZD17ZHJvcFNoYWRvd31cbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2Ryb3BTaGFkb3cnKX1cbiAgICAgIC8+XG4gICAgICB7ZHJvcFNoYWRvdyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGRyb3Atc2hhZG93LW9wdGlvbnNcIj5cbiAgICAgICAgICA8U2xpZGVyXG4gICAgICAgICAgICBsYWJlbD1cIihvZmZzZXQteSlcIlxuICAgICAgICAgICAgdmFsdWU9e2Ryb3BTaGFkb3dPZmZzZXRZfVxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2Ryb3BTaGFkb3dPZmZzZXRZJyl9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8U2xpZGVyXG4gICAgICAgICAgICBsYWJlbD1cIihibHVyLXJhZGl1cylcIlxuICAgICAgICAgICAgdmFsdWU9e2Ryb3BTaGFkb3dCbHVyUmFkaXVzfVxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2Ryb3BTaGFkb3dCbHVyUmFkaXVzJyl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPFRvZ2dsZVxuICAgICAgICBsYWJlbD1cIkF1dG8tYWRqdXN0IHdpZHRoXCJcbiAgICAgICAgZW5hYmxlZD17d2lkdGhBZGp1c3RtZW50fVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnd2lkdGhBZGp1c3RtZW50Jyl9XG4gICAgICAvPlxuICAgICAgeyF3aWR0aEFkanVzdG1lbnQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBzZXR0aW5ncy1yb3cgd2lkdGgtcm93XCI+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBsYWJlbD1cIldpZHRoXCJcbiAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgdmFsdWU9e3dpZHRofVxuICAgICAgICAgICAgbWluPXtERUZBVUxUX1dJRFRIUy5taW5XaWR0aH1cbiAgICAgICAgICAgIG1heD17REVGQVVMVF9XSURUSFMubWF4V2lkdGh9XG4gICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBvbkNoYW5nZSgnd2lkdGgnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICB3aWR0aD1cIjUwJVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPFRvZ2dsZSBsYWJlbD1cIldhdGVybWFya1wiIGVuYWJsZWQ9e3dhdGVybWFya30gb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ3dhdGVybWFyaycpfSAvPlxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICAud2lkdGgtcm93IHtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMnB4IDhweCA4cHg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLnJvdyA+IDpnbG9iYWwoZGl2OmZpcnN0LWNoaWxkKSB7XG4gICAgICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAke0NPTE9SUy5TRUNPTkRBUll9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5kcm9wLXNoYWRvdy1vcHRpb25zIDpnbG9iYWwoLnNsaWRlci1iZyksXG4gICAgICAgICAgLmRyb3Atc2hhZG93LW9wdGlvbnMgOmdsb2JhbChsYWJlbCkge1xuICAgICAgICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5zZXR0aW5ncy1jb250ZW50IDpnbG9iYWwoLnNldHRpbmdzLXJvdzpmb2N1cy13aXRoaW4pIHtcbiAgICAgICAgICAgIG91dGxpbmU6IC13ZWJraXQtZm9jdXMtcmluZy1jb2xvciBhdXRvIDRweDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmZ1bmN0aW9uIEVkaXRvclNldHRpbmdzKHtcbiAgb25DaGFuZ2UsXG4gIG9uVXBsb2FkLFxuICBmb250LFxuICBzaXplLFxuICBsaW5lSGVpZ2h0LFxuICBsaW5lTnVtYmVycyxcbiAgZmlyc3RMaW5lTnVtYmVyLFxuICBoaWRkZW5DaGFyYWN0ZXJzLFxuICBvbldpZHRoQ2hhbmdpbmcsXG4gIG9uV2lkdGhDaGFuZ2VkLFxufSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3MtY29udGVudFwiPlxuICAgICAgPEZvbnRTZWxlY3RcbiAgICAgICAgc2VsZWN0ZWQ9e2ZvbnR9XG4gICAgICAgIG9uVXBsb2FkPXtvblVwbG9hZH1cbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2ZvbnRGYW1pbHknKX1cbiAgICAgIC8+XG4gICAgICA8U2xpZGVyXG4gICAgICAgIGxhYmVsPVwiU2l6ZVwiXG4gICAgICAgIHZhbHVlPXtzaXplfVxuICAgICAgICBtaW5WYWx1ZT17MTB9XG4gICAgICAgIG1heFZhbHVlPXsxOH1cbiAgICAgICAgc3RlcD17MC41fVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnZm9udFNpemUnKX1cbiAgICAgICAgb25Nb3VzZURvd249e29uV2lkdGhDaGFuZ2luZ31cbiAgICAgICAgb25Nb3VzZVVwPXtvbldpZHRoQ2hhbmdlZH1cbiAgICAgIC8+XG4gICAgICA8U2xpZGVyXG4gICAgICAgIGxhYmVsPVwiTGluZSBoZWlnaHRcIlxuICAgICAgICB2YWx1ZT17bGluZUhlaWdodH1cbiAgICAgICAgbWluVmFsdWU9ezkwfVxuICAgICAgICBtYXhWYWx1ZT17MjUwfVxuICAgICAgICB1bml0PVwiJVwiXG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdsaW5lSGVpZ2h0Jyl9XG4gICAgICAvPlxuICAgICAgPFRvZ2dsZVxuICAgICAgICBsYWJlbD1cIkxpbmUgbnVtYmVyc1wiXG4gICAgICAgIGVuYWJsZWQ9e2xpbmVOdW1iZXJzfVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnbGluZU51bWJlcnMnKX1cbiAgICAgIC8+XG4gICAgICB7bGluZU51bWJlcnMgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBzZXR0aW5ncy1yb3cgZmlyc3QtbGluZS1udW1iZXItcm93XCI+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBsYWJlbD1cIkZpcnN0IGxpbmUgbnVtYmVyXCJcbiAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgdmFsdWU9e2ZpcnN0TGluZU51bWJlcn1cbiAgICAgICAgICAgIG1pbj17MH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IG9uQ2hhbmdlKCdmaXJzdExpbmVOdW1iZXInLCBOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgIHdpZHRoPVwiNTAlXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8VG9nZ2xlXG4gICAgICAgIGxhYmVsPVwiSGlkZGVuIGNoYXJhY3RlcnNcIlxuICAgICAgICBlbmFibGVkPXtoaWRkZW5DaGFyYWN0ZXJzfVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnaGlkZGVuQ2hhcmFjdGVycycpfVxuICAgICAgLz5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLmZpcnN0LWxpbmUtbnVtYmVyLXJvdyB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweCA4cHggOHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuY29uc3QgcmVzZXRCdXR0b25TdHlsZSA9IHsgYm9yZGVyVG9wOiBgMXB4IHNvbGlkICR7Q09MT1JTLlNFQ09OREFSWX1gIH1cblxuZnVuY3Rpb24gTWlzY1NldHRpbmdzKHsgZm9ybWF0LCByZXNldCwgYXBwbHlQcmVzZXQsIHNldHRpbmdzIH0pIHtcbiAgY29uc3QgaW5wdXQgPSBSZWFjdC51c2VSZWYobnVsbClcbiAgbGV0IGRvd25sb2FkXG4gIHRyeSB7XG4gICAgZG93bmxvYWQgPSBgZGF0YTp0ZXh0L2pzb247Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzZXR0aW5ncykpfWBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBwYXNzXG4gIH1cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmdzLWNvbnRlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGhpZGRlblxuICAgICAgICAgIHJlZj17aW5wdXR9XG4gICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgIGFjY2VwdD1cIi5qc29uXCJcbiAgICAgICAgICBvbkNoYW5nZT17YXN5bmMgZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgZmlsZVRvSlNPTihlLnRhcmdldC5maWxlc1swXSlcbiAgICAgICAgICAgIGlmIChqc29uKSB7XG4gICAgICAgICAgICAgIGFwcGx5UHJlc2V0KGpzb24pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNlbnRlclxuICAgICAgICAgIHN0eWxlPXt7IGJvcmRlclJpZ2h0OiBgMXB4IHNvbGlkICR7Q09MT1JTLlNFQ09OREFSWX1gIH19XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gaW5wdXQuY3VycmVudC5jbGljaygpfVxuICAgICAgICA+XG4gICAgICAgICAgSW1wb3J0IGNvbmZpZ1xuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPEJ1dHRvbiBjZW50ZXIgQ29tcG9uZW50PVwiYVwiIGhyZWY9e2Rvd25sb2FkfSBkb3dubG9hZD1cImNhcmJvbi1jb25maWcuanNvblwiPlxuICAgICAgICAgIEV4cG9ydCBjb25maWdcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxCdXR0b24gY2VudGVyIG9uQ2xpY2s9e2Zvcm1hdH0gc3R5bGU9e3Jlc2V0QnV0dG9uU3R5bGV9PlxuICAgICAgICBQcmV0dGlmeSBjb2RlXG4gICAgICA8L0J1dHRvbj5cbiAgICAgIDxCdXR0b24gY2VudGVyIGNvbG9yPXtDT0xPUlMuUkVEfSBvbkNsaWNrPXtyZXNldH0gc3R5bGU9e3Jlc2V0QnV0dG9uU3R5bGV9PlxuICAgICAgICBSZXNldCBzZXR0aW5nc1xuICAgICAgPC9CdXR0b24+XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC5yb3cge1xuICAgICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnNldHRpbmdzLWNvbnRlbnQge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgfVxuICAgICAgICAgIC5zZXR0aW5ncy1jb250ZW50IDpnbG9iYWwoYSkge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgICB1c2VyLWRyYWc6IG5vbmU7XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5jb25zdCBzZXR0aW5nQnV0dG9uU3R5bGUgPSB7XG4gIHdpZHRoOiAnNDBweCcsXG4gIGhlaWdodDogJzEwMCUnLFxufVxuXG5jb25zdCBpbnZhbGlkU2V0dGluZyA9ICh2LCBrKSA9PlxuICAvLyBBbGxvdyBoaWdobGlnaHRzIGluIHByZXNldHMgYW5kIGNvbmZpZyBleHBvcnRzXG4gICEoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKERFRkFVTFRfU0VUVElOR1MsIGspIHx8IGsgPT09ICdoaWdobGlnaHRzJylcblxuY2xhc3MgU2V0dGluZ3MgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgc3RhdGUgPSB7XG4gICAgcHJlc2V0czogREVGQVVMVF9QUkVTRVRTLFxuICAgIHNlbGVjdGVkTWVudTogJ1dpbmRvdycsXG4gICAgc2hvd1ByZXNldHM6IHRydWUsXG4gICAgcHJldmlvdXNTZXR0aW5nczogbnVsbCxcbiAgICB3aWR0aENoYW5naW5nOiBmYWxzZSxcbiAgfVxuXG4gIHNldHRpbmdzUmVmID0gUmVhY3QuY3JlYXRlUmVmKClcbiAgbWVudVJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3Qgc3RvcmVkUHJlc2V0cyA9IGdldFByZXNldHMobG9jYWxTdG9yYWdlKSB8fCBbXVxuICAgIHRoaXMuc2V0U3RhdGUoKHsgcHJlc2V0cyB9KSA9PiAoe1xuICAgICAgcHJlc2V0czogWy4uLnN0b3JlZFByZXNldHMsIC4uLnByZXNldHNdLFxuICAgIH0pKVxuICB9XG5cbiAgdG9nZ2xlUHJlc2V0cyA9ICgpID0+IHRoaXMuc2V0U3RhdGUodG9nZ2xlKCdzaG93UHJlc2V0cycpKVxuXG4gIHNlbGVjdE1lbnUgPSBzZWxlY3RlZE1lbnUgPT4gKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkTWVudSB9KVxuXG4gIGhhbmRsZVdpZHRoQ2hhbmdpbmcgPSAoKSA9PiB7XG4gICAgY29uc3QgcmVjdCA9IHRoaXMuc2V0dGluZ3NSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIHRoaXMuc2V0dGluZ1Bvc2l0aW9uID0geyB0b3A6IHJlY3QuYm90dG9tLCBsZWZ0OiByZWN0LmxlZnQgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyB3aWR0aENoYW5naW5nOiB0cnVlIH0pXG4gIH1cblxuICBoYW5kbGVXaWR0aENoYW5nZWQgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHsgd2lkdGhDaGFuZ2luZzogZmFsc2UgfSlcblxuICBoYW5kbGVDaGFuZ2UgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoa2V5LCB2YWx1ZSlcbiAgICB0aGlzLnNldFN0YXRlKHsgcHJldmlvdXNTZXR0aW5nczogbnVsbCB9KVxuICB9XG5cbiAgaGFuZGxlT3BlbkFuZEZvY3VzID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMudG9nZ2xlVmlzaWJpbGl0eSgpXG4gICAgaWYgKCF0aGlzLnByb3BzLmlzVmlzaWJsZSkge1xuICAgICAgdGhpcy5tZW51UmVmLmN1cnJlbnQuZm9jdXMoKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmVzZXREZWZhdWx0U2V0dGluZ3MoKVxuICAgIHRoaXMuc2V0U3RhdGUoeyBwcmV2aW91c1NldHRpbmdzOiBudWxsIH0pXG4gIH1cblxuICBoYW5kbGVGb250VXBsb2FkID0gKGlkLCB1cmwpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKCdmb250RmFtaWx5JywgaWQpXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSgnZm9udFVybCcsIHVybClcbiAgICB0aGlzLnByb3BzLnRvZ2dsZVZpc2liaWxpdHkoKVxuICB9XG5cbiAgZ2V0U2V0dGluZ3NGcm9tUHJvcHMgPSAoKSA9PiBvbWl0QnkodGhpcy5wcm9wcywgaW52YWxpZFNldHRpbmcpXG5cbiAgYXBwbHlQcmVzZXQgPSBwcmVzZXQgPT4ge1xuICAgIGNvbnN0IHByZXZpb3VzU2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzRnJvbVByb3BzKClcblxuICAgIHRoaXMucHJvcHMuYXBwbHlQcmVzZXQocHJlc2V0KVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHByZXZpb3VzU2V0dGluZ3MgfSlcbiAgfVxuXG4gIHVuZG9QcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5hcHBseVByZXNldCh7IC4uLnRoaXMuc3RhdGUucHJldmlvdXNTZXR0aW5ncywgaWQ6IG51bGwgfSlcbiAgICB0aGlzLnNldFN0YXRlKHsgcHJldmlvdXNTZXR0aW5nczogbnVsbCB9KVxuICB9XG5cbiAgcmVtb3ZlUHJlc2V0ID0gaWQgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnByZXNldCA9PT0gaWQpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoJ3ByZXNldCcsIG51bGwpXG4gICAgICB0aGlzLnNldFN0YXRlKHsgcHJldmlvdXNTZXR0aW5nczogbnVsbCB9KVxuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKFxuICAgICAgKHsgcHJlc2V0cyB9KSA9PiAoeyBwcmVzZXRzOiBwcmVzZXRzLmZpbHRlcihwID0+IHAuaWQgIT09IGlkKSB9KSxcbiAgICAgIHRoaXMuc2F2ZVByZXNldHNcbiAgICApXG4gIH1cblxuICBjcmVhdGVQcmVzZXQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbmV3UHJlc2V0ID0gdGhpcy5nZXRTZXR0aW5nc0Zyb21Qcm9wcygpXG5cbiAgICBuZXdQcmVzZXQuaWQgPSBgcHJlc2V0OiR7Z2VuZXJhdGVJZCgpfWBcbiAgICBuZXdQcmVzZXQuY3VzdG9tID0gdHJ1ZVxuXG4gICAgbmV3UHJlc2V0Lmljb24gPSBhd2FpdCB0aGlzLnByb3BzLmdldENhcmJvbkltYWdlKHtcbiAgICAgIGZvcm1hdDogJ3BuZycsXG4gICAgICBzcXVhcmVkOiB0cnVlLFxuICAgICAgZXhwb3J0U2l6ZTogMSxcbiAgICB9KVxuXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSgncHJlc2V0JywgbmV3UHJlc2V0LmlkKVxuXG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgICh7IHByZXNldHMgfSkgPT4gKHtcbiAgICAgICAgcHJldmlvdXNTZXR0aW5nczogbnVsbCxcbiAgICAgICAgcHJlc2V0czogW25ld1ByZXNldCwgLi4ucHJlc2V0c10sXG4gICAgICB9KSxcbiAgICAgIHRoaXMuc2F2ZVByZXNldHNcbiAgICApXG4gIH1cblxuICBzYXZlUHJlc2V0cyA9ICgpID0+IHNhdmVQcmVzZXRzKHRoaXMuc3RhdGUucHJlc2V0cy5maWx0ZXIocCA9PiBwLmN1c3RvbSkpXG5cbiAgcmVuZGVyQ29udGVudCA9ICgpID0+IHtcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUuc2VsZWN0ZWRNZW51KSB7XG4gICAgICBjYXNlICdXaW5kb3cnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxXaW5kb3dTZXR0aW5nc1xuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgb25XaWR0aENoYW5naW5nPXt0aGlzLmhhbmRsZVdpZHRoQ2hhbmdpbmd9XG4gICAgICAgICAgICBvbldpZHRoQ2hhbmdlZD17dGhpcy5oYW5kbGVXaWR0aENoYW5nZWR9XG4gICAgICAgICAgICB3aW5kb3dUaGVtZT17dGhpcy5wcm9wcy53aW5kb3dUaGVtZX1cbiAgICAgICAgICAgIHBhZGRpbmdIb3Jpem9udGFsPXt0aGlzLnByb3BzLnBhZGRpbmdIb3Jpem9udGFsfVxuICAgICAgICAgICAgcGFkZGluZ1ZlcnRpY2FsPXt0aGlzLnByb3BzLnBhZGRpbmdWZXJ0aWNhbH1cbiAgICAgICAgICAgIGRyb3BTaGFkb3c9e3RoaXMucHJvcHMuZHJvcFNoYWRvd31cbiAgICAgICAgICAgIGRyb3BTaGFkb3dCbHVyUmFkaXVzPXt0aGlzLnByb3BzLmRyb3BTaGFkb3dCbHVyUmFkaXVzfVxuICAgICAgICAgICAgZHJvcFNoYWRvd09mZnNldFk9e3RoaXMucHJvcHMuZHJvcFNoYWRvd09mZnNldFl9XG4gICAgICAgICAgICB3aW5kb3dDb250cm9scz17dGhpcy5wcm9wcy53aW5kb3dDb250cm9sc31cbiAgICAgICAgICAgIHdpZHRoQWRqdXN0bWVudD17dGhpcy5wcm9wcy53aWR0aEFkanVzdG1lbnR9XG4gICAgICAgICAgICB3aWR0aD17dGhpcy5wcm9wcy53aWR0aH1cbiAgICAgICAgICAgIHdhdGVybWFyaz17dGhpcy5wcm9wcy53YXRlcm1hcmt9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgY2FzZSAnRWRpdG9yJzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RWRpdG9yU2V0dGluZ3NcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgIG9uVXBsb2FkPXt0aGlzLmhhbmRsZUZvbnRVcGxvYWR9XG4gICAgICAgICAgICBvbldpZHRoQ2hhbmdpbmc9e3RoaXMuaGFuZGxlV2lkdGhDaGFuZ2luZ31cbiAgICAgICAgICAgIG9uV2lkdGhDaGFuZ2VkPXt0aGlzLmhhbmRsZVdpZHRoQ2hhbmdlZH1cbiAgICAgICAgICAgIGZvbnQ9e3RoaXMucHJvcHMuZm9udEZhbWlseX1cbiAgICAgICAgICAgIHNpemU9e3RoaXMucHJvcHMuZm9udFNpemV9XG4gICAgICAgICAgICBsaW5lSGVpZ2h0PXt0aGlzLnByb3BzLmxpbmVIZWlnaHR9XG4gICAgICAgICAgICBsaW5lTnVtYmVycz17dGhpcy5wcm9wcy5saW5lTnVtYmVyc31cbiAgICAgICAgICAgIGZpcnN0TGluZU51bWJlcj17dGhpcy5wcm9wcy5maXJzdExpbmVOdW1iZXJ9XG4gICAgICAgICAgICBoaWRkZW5DaGFyYWN0ZXJzPXt0aGlzLnByb3BzLmhpZGRlbkNoYXJhY3RlcnN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgY2FzZSAnTWlzYyc6IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzRnJvbVByb3BzKClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TWlzY1NldHRpbmdzXG4gICAgICAgICAgICBmb3JtYXQ9e3RoaXMucHJvcHMuZm9ybWF0fVxuICAgICAgICAgICAgcmVzZXQ9e3RoaXMuaGFuZGxlUmVzZXR9XG4gICAgICAgICAgICBhcHBseVByZXNldD17dGhpcy5wcm9wcy5hcHBseVByZXNldH1cbiAgICAgICAgICAgIHNldHRpbmdzPXtzZXR0aW5nc31cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHNlbGVjdGVkTWVudSwgc2hvd1ByZXNldHMsIHByZXNldHMsIHByZXZpb3VzU2V0dGluZ3MsIHdpZHRoQ2hhbmdpbmcgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7IHByZXNldCwgaXNWaXNpYmxlLCB0b2dnbGVWaXNpYmlsaXR5IH0gPSB0aGlzLnByb3BzXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZXR0aW5ncy1jb250YWluZXJcIiByZWY9e3RoaXMuc2V0dGluZ3NSZWZ9PlxuICAgICAgICA8S2V5Ym9hcmRTaG9ydGN1dCB0cmlnZ2VyPVwi4oyYLS9cIiBoYW5kbGU9e3RoaXMuaGFuZGxlT3BlbkFuZEZvY3VzfSAvPlxuICAgICAgICA8S2V5Ym9hcmRTaG9ydGN1dCB0cmlnZ2VyPVwi4oenLeKMmC1cXFwiIGhhbmRsZT17dGhpcy5oYW5kbGVSZXNldH0gLz5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHRpdGxlPVwiU2V0dGluZ3MgTWVudVwiXG4gICAgICAgICAgYm9yZGVyXG4gICAgICAgICAgY2VudGVyXG4gICAgICAgICAgc2VsZWN0ZWQ9e2lzVmlzaWJsZX1cbiAgICAgICAgICBzdHlsZT17c2V0dGluZ0J1dHRvblN0eWxlfVxuICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVZpc2liaWxpdHl9XG4gICAgICAgID5cbiAgICAgICAgICA8U2V0dGluZ3NJY29uIC8+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8UG9wb3V0XG4gICAgICAgICAgcG9pbnRlckxlZnQ9XCIxNXB4XCJcbiAgICAgICAgICBoaWRkZW49eyFpc1Zpc2libGV9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBvc2l0aW9uOiB3aWR0aENoYW5naW5nID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICB3aWR0aDogJzMxNnB4JyxcbiAgICAgICAgICAgIHRvcDogd2lkdGhDaGFuZ2luZyA/IHRoaXMuc2V0dGluZ1Bvc2l0aW9uLnRvcCA6ICdpbml0aWFsJyxcbiAgICAgICAgICAgIGxlZnQ6IHdpZHRoQ2hhbmdpbmcgPyB0aGlzLnNldHRpbmdQb3NpdGlvbi5sZWZ0IDogJ2luaXRpYWwnLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8UHJlc2V0c1xuICAgICAgICAgICAgc2hvdz17c2hvd1ByZXNldHN9XG4gICAgICAgICAgICBwcmVzZXRzPXtwcmVzZXRzfVxuICAgICAgICAgICAgc2VsZWN0ZWQ9e3ByZXNldH1cbiAgICAgICAgICAgIHRvZ2dsZT17dGhpcy50b2dnbGVQcmVzZXRzfVxuICAgICAgICAgICAgYXBwbHk9e3RoaXMuYXBwbHlQcmVzZXR9XG4gICAgICAgICAgICB1bmRvPXt0aGlzLnVuZG9QcmVzZXR9XG4gICAgICAgICAgICByZW1vdmU9e3RoaXMucmVtb3ZlUHJlc2V0fVxuICAgICAgICAgICAgY3JlYXRlPXt0aGlzLmNyZWF0ZVByZXNldH1cbiAgICAgICAgICAgIGFwcGxpZWQ9eyEhcHJldmlvdXNTZXR0aW5nc31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3MtYm90dG9tXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmdzLW1lbnVcIiByZWY9e3RoaXMubWVudVJlZn0gdGFiSW5kZXg9ey0xfT5cbiAgICAgICAgICAgICAgPE1lbnVCdXR0b24gbmFtZT1cIldpbmRvd1wiIHNlbGVjdD17dGhpcy5zZWxlY3RNZW51fSBzZWxlY3RlZD17c2VsZWN0ZWRNZW51fSAvPlxuICAgICAgICAgICAgICA8TWVudUJ1dHRvbiBuYW1lPVwiRWRpdG9yXCIgc2VsZWN0PXt0aGlzLnNlbGVjdE1lbnV9IHNlbGVjdGVkPXtzZWxlY3RlZE1lbnV9IC8+XG4gICAgICAgICAgICAgIDxNZW51QnV0dG9uIG5hbWU9XCJNaXNjXCIgc2VsZWN0PXt0aGlzLnNlbGVjdE1lbnV9IHNlbGVjdGVkPXtzZWxlY3RlZE1lbnV9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckNvbnRlbnQoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Qb3BvdXQ+XG4gICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAge2BcbiAgICAgICAgICAgIC5zZXR0aW5ncy1jb250YWluZXIge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5zZXR0aW5ncy1ib3R0b20ge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuc2V0dGluZ3MtbWVudSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICAgIGZsZXg6IDAgMCA5NnB4O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke0NPTE9SUy5EQVJLX0dSQVl9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuc2V0dGluZ3MtYm90dG9tIDpnbG9iYWwoLnNldHRpbmdzLWNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAycHggc29saWQgJHtDT0xPUlMuU0VDT05EQVJZfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnNldHRpbmdzLWJvdHRvbSA6Z2xvYmFsKC5zZXR0aW5ncy1jb250ZW50ID4gZGl2Om5vdCg6Zmlyc3QtY2hpbGQpKSB7XG4gICAgICAgICAgICAgIGJvcmRlci10b3A6IHNvbGlkIDFweCAke0NPTE9SUy5TRUNPTkRBUll9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFuYWdlUG9wb3V0KFNldHRpbmdzKVxuIl19 */\\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/Settings.js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n\nconst resetButtonStyle = {\n  borderTop: `1px solid ${COLORS.SECONDARY}`\n};\n\nfunction MiscSettings({\n  format,\n  reset,\n  applyPreset,\n  settings\n}) {\n  const input = React.useRef(null);\n  let download;\n\n  try {\n    download = `data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(settings))}`;\n  } catch (error) {// pass\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"jsx-1883028103\" + \" \" + \"settings-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jsx-1883028103\" + \" \" + \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        hidden: true,\n        ref: input,\n        type: \"file\",\n        accept: \".json\",\n        onChange: async e => {\n          const json = await fileToJSON(e.target.files[0]);\n\n          if (json) {\n            applyPreset(json);\n          }\n        },\n        className: \"jsx-1883028103\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        center: true,\n        style: {\n          borderRight: `1px solid ${COLORS.SECONDARY}`\n        },\n        onClick: () => input.current.click(),\n        children: \"Import config\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        center: true,\n        Component: \"a\",\n        href: download,\n        download: \"carbon-config.json\",\n        children: \"Export config\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      center: true,\n      onClick: format,\n      style: resetButtonStyle,\n      children: \"Prettify code\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      center: true,\n      color: COLORS.RED,\n      onClick: reset,\n      style: resetButtonStyle,\n      children: \"Reset settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"1883028103\",\n      children: \".row.jsx-1883028103{-webkit-flex:1;-ms-flex:1;flex:1;}.settings-content.jsx-1883028103{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.settings-content.jsx-1883028103 a{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-user-drag:none;-moz-user-drag:none;-ms-user-drag:none;user-drag:none;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9TZXR0aW5ncy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEyT1MsQUFHb0IsQUFHTSxBQUlBLGlDQU5mLHlDQUd3QixBQUlmLGlDQUNRLDZDQUpqQixnQ0FLQSIsImZpbGUiOiIvVXNlcnMvbGltZW5neXUvRGVza3RvcC9wcml2YXRlL2NvZGUvcHJvamVjdC9zaG93LWNvZGVzL2NvbXBvbmVudHMvU2V0dGluZ3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgb21pdEJ5IGZyb20gJ2xvZGFzaC5vbWl0YnknXG5pbXBvcnQgeyB1c2VLZXlib2FyZExpc3RlbmVyIH0gZnJvbSAnYWN0aW9uc2FjaydcblxuaW1wb3J0IFRoZW1lU2VsZWN0IGZyb20gJy4vVGhlbWVTZWxlY3QnXG5pbXBvcnQgRm9udFNlbGVjdCBmcm9tICcuL0ZvbnRTZWxlY3QnXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vU2xpZGVyJ1xuaW1wb3J0IElucHV0IGZyb20gJy4vSW5wdXQnXG5pbXBvcnQgVG9nZ2xlIGZyb20gJy4vVG9nZ2xlJ1xuaW1wb3J0IFBvcG91dCwgeyBtYW5hZ2VQb3BvdXQgfSBmcm9tICcuL1BvcG91dCdcbmltcG9ydCBCdXR0b24gZnJvbSAnLi9CdXR0b24nXG5pbXBvcnQgUHJlc2V0cyBmcm9tICcuL1ByZXNldHMnXG5pbXBvcnQgTWVudUJ1dHRvbiBmcm9tICcuL01lbnVCdXR0b24nXG5pbXBvcnQgeyBDT0xPUlMsIERFRkFVTFRfUFJFU0VUUywgREVGQVVMVF9TRVRUSU5HUywgREVGQVVMVF9XSURUSFMgfSBmcm9tICcuLi9saWIvY29uc3RhbnRzJ1xuaW1wb3J0IHsgdG9nZ2xlLCBnZXRQcmVzZXRzLCBzYXZlUHJlc2V0cywgZ2VuZXJhdGVJZCwgZmlsZVRvSlNPTiB9IGZyb20gJy4uL2xpYi91dGlsJ1xuaW1wb3J0IFNldHRpbmdzSWNvbiBmcm9tICcuL3N2Zy9TZXR0aW5ncydcblxuZnVuY3Rpb24gS2V5Ym9hcmRTaG9ydGN1dCh7IHRyaWdnZXIsIGhhbmRsZSB9KSB7XG4gIHVzZUtleWJvYXJkTGlzdGVuZXIodHJpZ2dlciwgaGFuZGxlKVxuICByZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiBXaW5kb3dTZXR0aW5ncyh7XG4gIG9uQ2hhbmdlLFxuICB3aW5kb3dUaGVtZSxcbiAgcGFkZGluZ0hvcml6b250YWwsXG4gIHBhZGRpbmdWZXJ0aWNhbCxcbiAgZHJvcFNoYWRvdyxcbiAgZHJvcFNoYWRvd0JsdXJSYWRpdXMsXG4gIGRyb3BTaGFkb3dPZmZzZXRZLFxuICB3aW5kb3dDb250cm9scyxcbiAgd2lkdGhBZGp1c3RtZW50LFxuICB3aWR0aCxcbiAgd2F0ZXJtYXJrLFxuICBvbldpZHRoQ2hhbmdpbmcsXG4gIG9uV2lkdGhDaGFuZ2VkLFxufSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3MtY29udGVudFwiPlxuICAgICAgPFRoZW1lU2VsZWN0XG4gICAgICAgIHNlbGVjdGVkPXt3aW5kb3dUaGVtZSB8fCAnbm9uZSd9XG4gICAgICAgIHdpbmRvd0NvbnRyb2xzPXt3aW5kb3dDb250cm9sc31cbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxTbGlkZXJcbiAgICAgICAgICBsYWJlbD1cIlBhZGRpbmcgKHZlcnQpXCJcbiAgICAgICAgICB2YWx1ZT17cGFkZGluZ1ZlcnRpY2FsfVxuICAgICAgICAgIG1heFZhbHVlPXsyMDB9XG4gICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ3BhZGRpbmdWZXJ0aWNhbCcpfVxuICAgICAgICAvPlxuICAgICAgICA8U2xpZGVyXG4gICAgICAgICAgbGFiZWw9XCJQYWRkaW5nIChob3JpeilcIlxuICAgICAgICAgIHZhbHVlPXtwYWRkaW5nSG9yaXpvbnRhbH1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAncGFkZGluZ0hvcml6b250YWwnKX1cbiAgICAgICAgICBvbk1vdXNlRG93bj17b25XaWR0aENoYW5naW5nfVxuICAgICAgICAgIG9uTW91c2VVcD17b25XaWR0aENoYW5nZWR9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxUb2dnbGVcbiAgICAgICAgbGFiZWw9XCJEcm9wIHNoYWRvd1wiXG4gICAgICAgIGVuYWJsZWQ9e2Ryb3BTaGFkb3d9XG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdkcm9wU2hhZG93Jyl9XG4gICAgICAvPlxuICAgICAge2Ryb3BTaGFkb3cgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBkcm9wLXNoYWRvdy1vcHRpb25zXCI+XG4gICAgICAgICAgPFNsaWRlclxuICAgICAgICAgICAgbGFiZWw9XCIob2Zmc2V0LXkpXCJcbiAgICAgICAgICAgIHZhbHVlPXtkcm9wU2hhZG93T2Zmc2V0WX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdkcm9wU2hhZG93T2Zmc2V0WScpfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFNsaWRlclxuICAgICAgICAgICAgbGFiZWw9XCIoYmx1ci1yYWRpdXMpXCJcbiAgICAgICAgICAgIHZhbHVlPXtkcm9wU2hhZG93Qmx1clJhZGl1c31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdkcm9wU2hhZG93Qmx1clJhZGl1cycpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxUb2dnbGVcbiAgICAgICAgbGFiZWw9XCJBdXRvLWFkanVzdCB3aWR0aFwiXG4gICAgICAgIGVuYWJsZWQ9e3dpZHRoQWRqdXN0bWVudH1cbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ3dpZHRoQWRqdXN0bWVudCcpfVxuICAgICAgLz5cbiAgICAgIHshd2lkdGhBZGp1c3RtZW50ICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgc2V0dGluZ3Mtcm93IHdpZHRoLXJvd1wiPlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgbGFiZWw9XCJXaWR0aFwiXG4gICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgIHZhbHVlPXt3aWR0aH1cbiAgICAgICAgICAgIG1pbj17REVGQVVMVF9XSURUSFMubWluV2lkdGh9XG4gICAgICAgICAgICBtYXg9e0RFRkFVTFRfV0lEVEhTLm1heFdpZHRofVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gb25DaGFuZ2UoJ3dpZHRoJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgd2lkdGg9XCI1MCVcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxUb2dnbGUgbGFiZWw9XCJXYXRlcm1hcmtcIiBlbmFibGVkPXt3YXRlcm1hcmt9IG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICd3YXRlcm1hcmsnKX0gLz5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLndpZHRoLXJvdyB7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweCA4cHggOHB4O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5yb3cgPiA6Z2xvYmFsKGRpdjpmaXJzdC1jaGlsZCkge1xuICAgICAgICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgJHtDT0xPUlMuU0VDT05EQVJZfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuZHJvcC1zaGFkb3ctb3B0aW9ucyA6Z2xvYmFsKC5zbGlkZXItYmcpLFxuICAgICAgICAgIC5kcm9wLXNoYWRvdy1vcHRpb25zIDpnbG9iYWwobGFiZWwpIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuc2V0dGluZ3MtY29udGVudCA6Z2xvYmFsKC5zZXR0aW5ncy1yb3c6Zm9jdXMtd2l0aGluKSB7XG4gICAgICAgICAgICBvdXRsaW5lOiAtd2Via2l0LWZvY3VzLXJpbmctY29sb3IgYXV0byA0cHg7XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5mdW5jdGlvbiBFZGl0b3JTZXR0aW5ncyh7XG4gIG9uQ2hhbmdlLFxuICBvblVwbG9hZCxcbiAgZm9udCxcbiAgc2l6ZSxcbiAgbGluZUhlaWdodCxcbiAgbGluZU51bWJlcnMsXG4gIGZpcnN0TGluZU51bWJlcixcbiAgaGlkZGVuQ2hhcmFjdGVycyxcbiAgb25XaWR0aENoYW5naW5nLFxuICBvbldpZHRoQ2hhbmdlZCxcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmdzLWNvbnRlbnRcIj5cbiAgICAgIDxGb250U2VsZWN0XG4gICAgICAgIHNlbGVjdGVkPXtmb250fVxuICAgICAgICBvblVwbG9hZD17b25VcGxvYWR9XG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdmb250RmFtaWx5Jyl9XG4gICAgICAvPlxuICAgICAgPFNsaWRlclxuICAgICAgICBsYWJlbD1cIlNpemVcIlxuICAgICAgICB2YWx1ZT17c2l6ZX1cbiAgICAgICAgbWluVmFsdWU9ezEwfVxuICAgICAgICBtYXhWYWx1ZT17MTh9XG4gICAgICAgIHN0ZXA9ezAuNX1cbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2ZvbnRTaXplJyl9XG4gICAgICAgIG9uTW91c2VEb3duPXtvbldpZHRoQ2hhbmdpbmd9XG4gICAgICAgIG9uTW91c2VVcD17b25XaWR0aENoYW5nZWR9XG4gICAgICAvPlxuICAgICAgPFNsaWRlclxuICAgICAgICBsYWJlbD1cIkxpbmUgaGVpZ2h0XCJcbiAgICAgICAgdmFsdWU9e2xpbmVIZWlnaHR9XG4gICAgICAgIG1pblZhbHVlPXs5MH1cbiAgICAgICAgbWF4VmFsdWU9ezI1MH1cbiAgICAgICAgdW5pdD1cIiVcIlxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnbGluZUhlaWdodCcpfVxuICAgICAgLz5cbiAgICAgIDxUb2dnbGVcbiAgICAgICAgbGFiZWw9XCJMaW5lIG51bWJlcnNcIlxuICAgICAgICBlbmFibGVkPXtsaW5lTnVtYmVyc31cbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2xpbmVOdW1iZXJzJyl9XG4gICAgICAvPlxuICAgICAge2xpbmVOdW1iZXJzICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgc2V0dGluZ3Mtcm93IGZpcnN0LWxpbmUtbnVtYmVyLXJvd1wiPlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgbGFiZWw9XCJGaXJzdCBsaW5lIG51bWJlclwiXG4gICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgIHZhbHVlPXtmaXJzdExpbmVOdW1iZXJ9XG4gICAgICAgICAgICBtaW49ezB9XG4gICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBvbkNoYW5nZSgnZmlyc3RMaW5lTnVtYmVyJywgTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICB3aWR0aD1cIjUwJVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPFRvZ2dsZVxuICAgICAgICBsYWJlbD1cIkhpZGRlbiBjaGFyYWN0ZXJzXCJcbiAgICAgICAgZW5hYmxlZD17aGlkZGVuQ2hhcmFjdGVyc31cbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2hpZGRlbkNoYXJhY3RlcnMnKX1cbiAgICAgIC8+XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC5maXJzdC1saW5lLW51bWJlci1yb3cge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHggOHB4IDhweDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IHJlc2V0QnV0dG9uU3R5bGUgPSB7IGJvcmRlclRvcDogYDFweCBzb2xpZCAke0NPTE9SUy5TRUNPTkRBUll9YCB9XG5cbmZ1bmN0aW9uIE1pc2NTZXR0aW5ncyh7IGZvcm1hdCwgcmVzZXQsIGFwcGx5UHJlc2V0LCBzZXR0aW5ncyB9KSB7XG4gIGNvbnN0IGlucHV0ID0gUmVhY3QudXNlUmVmKG51bGwpXG4gIGxldCBkb3dubG9hZFxuICB0cnkge1xuICAgIGRvd25sb2FkID0gYGRhdGE6dGV4dC9qc29uO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKX1gXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gcGFzc1xuICB9XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzZXR0aW5ncy1jb250ZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBoaWRkZW5cbiAgICAgICAgICByZWY9e2lucHV0fVxuICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICBhY2NlcHQ9XCIuanNvblwiXG4gICAgICAgICAgb25DaGFuZ2U9e2FzeW5jIGUgPT4ge1xuICAgICAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IGZpbGVUb0pTT04oZS50YXJnZXQuZmlsZXNbMF0pXG4gICAgICAgICAgICBpZiAoanNvbikge1xuICAgICAgICAgICAgICBhcHBseVByZXNldChqc29uKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjZW50ZXJcbiAgICAgICAgICBzdHlsZT17eyBib3JkZXJSaWdodDogYDFweCBzb2xpZCAke0NPTE9SUy5TRUNPTkRBUll9YCB9fVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGlucHV0LmN1cnJlbnQuY2xpY2soKX1cbiAgICAgICAgPlxuICAgICAgICAgIEltcG9ydCBjb25maWdcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDxCdXR0b24gY2VudGVyIENvbXBvbmVudD1cImFcIiBocmVmPXtkb3dubG9hZH0gZG93bmxvYWQ9XCJjYXJib24tY29uZmlnLmpzb25cIj5cbiAgICAgICAgICBFeHBvcnQgY29uZmlnXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8QnV0dG9uIGNlbnRlciBvbkNsaWNrPXtmb3JtYXR9IHN0eWxlPXtyZXNldEJ1dHRvblN0eWxlfT5cbiAgICAgICAgUHJldHRpZnkgY29kZVxuICAgICAgPC9CdXR0b24+XG4gICAgICA8QnV0dG9uIGNlbnRlciBjb2xvcj17Q09MT1JTLlJFRH0gb25DbGljaz17cmVzZXR9IHN0eWxlPXtyZXNldEJ1dHRvblN0eWxlfT5cbiAgICAgICAgUmVzZXQgc2V0dGluZ3NcbiAgICAgIDwvQnV0dG9uPlxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICAucm93IHtcbiAgICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5zZXR0aW5ncy1jb250ZW50IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuc2V0dGluZ3MtY29udGVudCA6Z2xvYmFsKGEpIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4OiAxO1xuICAgICAgICAgICAgdXNlci1kcmFnOiBub25lO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuY29uc3Qgc2V0dGluZ0J1dHRvblN0eWxlID0ge1xuICB3aWR0aDogJzQwcHgnLFxuICBoZWlnaHQ6ICcxMDAlJyxcbn1cblxuY29uc3QgaW52YWxpZFNldHRpbmcgPSAodiwgaykgPT5cbiAgLy8gQWxsb3cgaGlnaGxpZ2h0cyBpbiBwcmVzZXRzIGFuZCBjb25maWcgZXhwb3J0c1xuICAhKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChERUZBVUxUX1NFVFRJTkdTLCBrKSB8fCBrID09PSAnaGlnaGxpZ2h0cycpXG5cbmNsYXNzIFNldHRpbmdzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHN0YXRlID0ge1xuICAgIHByZXNldHM6IERFRkFVTFRfUFJFU0VUUyxcbiAgICBzZWxlY3RlZE1lbnU6ICdXaW5kb3cnLFxuICAgIHNob3dQcmVzZXRzOiB0cnVlLFxuICAgIHByZXZpb3VzU2V0dGluZ3M6IG51bGwsXG4gICAgd2lkdGhDaGFuZ2luZzogZmFsc2UsXG4gIH1cblxuICBzZXR0aW5nc1JlZiA9IFJlYWN0LmNyZWF0ZVJlZigpXG4gIG1lbnVSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHN0b3JlZFByZXNldHMgPSBnZXRQcmVzZXRzKGxvY2FsU3RvcmFnZSkgfHwgW11cbiAgICB0aGlzLnNldFN0YXRlKCh7IHByZXNldHMgfSkgPT4gKHtcbiAgICAgIHByZXNldHM6IFsuLi5zdG9yZWRQcmVzZXRzLCAuLi5wcmVzZXRzXSxcbiAgICB9KSlcbiAgfVxuXG4gIHRvZ2dsZVByZXNldHMgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHRvZ2dsZSgnc2hvd1ByZXNldHMnKSlcblxuICBzZWxlY3RNZW51ID0gc2VsZWN0ZWRNZW51ID0+ICgpID0+IHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZE1lbnUgfSlcblxuICBoYW5kbGVXaWR0aENoYW5naW5nID0gKCkgPT4ge1xuICAgIGNvbnN0IHJlY3QgPSB0aGlzLnNldHRpbmdzUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICB0aGlzLnNldHRpbmdQb3NpdGlvbiA9IHsgdG9wOiByZWN0LmJvdHRvbSwgbGVmdDogcmVjdC5sZWZ0IH1cbiAgICB0aGlzLnNldFN0YXRlKHsgd2lkdGhDaGFuZ2luZzogdHJ1ZSB9KVxuICB9XG5cbiAgaGFuZGxlV2lkdGhDaGFuZ2VkID0gKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHdpZHRoQ2hhbmdpbmc6IGZhbHNlIH0pXG5cbiAgaGFuZGxlQ2hhbmdlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGtleSwgdmFsdWUpXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHByZXZpb3VzU2V0dGluZ3M6IG51bGwgfSlcbiAgfVxuXG4gIGhhbmRsZU9wZW5BbmRGb2N1cyA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZVZpc2liaWxpdHkoKVxuICAgIGlmICghdGhpcy5wcm9wcy5pc1Zpc2libGUpIHtcbiAgICAgIHRoaXMubWVudVJlZi5jdXJyZW50LmZvY3VzKClcbiAgICB9XG4gIH1cblxuICBoYW5kbGVSZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnJlc2V0RGVmYXVsdFNldHRpbmdzKClcbiAgICB0aGlzLnNldFN0YXRlKHsgcHJldmlvdXNTZXR0aW5nczogbnVsbCB9KVxuICB9XG5cbiAgaGFuZGxlRm9udFVwbG9hZCA9IChpZCwgdXJsKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSgnZm9udEZhbWlseScsIGlkKVxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoJ2ZvbnRVcmwnLCB1cmwpXG4gICAgdGhpcy5wcm9wcy50b2dnbGVWaXNpYmlsaXR5KClcbiAgfVxuXG4gIGdldFNldHRpbmdzRnJvbVByb3BzID0gKCkgPT4gb21pdEJ5KHRoaXMucHJvcHMsIGludmFsaWRTZXR0aW5nKVxuXG4gIGFwcGx5UHJlc2V0ID0gcHJlc2V0ID0+IHtcbiAgICBjb25zdCBwcmV2aW91c1NldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5nc0Zyb21Qcm9wcygpXG5cbiAgICB0aGlzLnByb3BzLmFwcGx5UHJlc2V0KHByZXNldClcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBwcmV2aW91c1NldHRpbmdzIH0pXG4gIH1cblxuICB1bmRvUHJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuYXBwbHlQcmVzZXQoeyAuLi50aGlzLnN0YXRlLnByZXZpb3VzU2V0dGluZ3MsIGlkOiBudWxsIH0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHByZXZpb3VzU2V0dGluZ3M6IG51bGwgfSlcbiAgfVxuXG4gIHJlbW92ZVByZXNldCA9IGlkID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcmVzZXQgPT09IGlkKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKCdwcmVzZXQnLCBudWxsKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHByZXZpb3VzU2V0dGluZ3M6IG51bGwgfSlcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgICh7IHByZXNldHMgfSkgPT4gKHsgcHJlc2V0czogcHJlc2V0cy5maWx0ZXIocCA9PiBwLmlkICE9PSBpZCkgfSksXG4gICAgICB0aGlzLnNhdmVQcmVzZXRzXG4gICAgKVxuICB9XG5cbiAgY3JlYXRlUHJlc2V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5ld1ByZXNldCA9IHRoaXMuZ2V0U2V0dGluZ3NGcm9tUHJvcHMoKVxuXG4gICAgbmV3UHJlc2V0LmlkID0gYHByZXNldDoke2dlbmVyYXRlSWQoKX1gXG4gICAgbmV3UHJlc2V0LmN1c3RvbSA9IHRydWVcblxuICAgIG5ld1ByZXNldC5pY29uID0gYXdhaXQgdGhpcy5wcm9wcy5nZXRDYXJib25JbWFnZSh7XG4gICAgICBmb3JtYXQ6ICdwbmcnLFxuICAgICAgc3F1YXJlZDogdHJ1ZSxcbiAgICAgIGV4cG9ydFNpemU6IDEsXG4gICAgfSlcblxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoJ3ByZXNldCcsIG5ld1ByZXNldC5pZClcblxuICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICAoeyBwcmVzZXRzIH0pID0+ICh7XG4gICAgICAgIHByZXZpb3VzU2V0dGluZ3M6IG51bGwsXG4gICAgICAgIHByZXNldHM6IFtuZXdQcmVzZXQsIC4uLnByZXNldHNdLFxuICAgICAgfSksXG4gICAgICB0aGlzLnNhdmVQcmVzZXRzXG4gICAgKVxuICB9XG5cbiAgc2F2ZVByZXNldHMgPSAoKSA9PiBzYXZlUHJlc2V0cyh0aGlzLnN0YXRlLnByZXNldHMuZmlsdGVyKHAgPT4gcC5jdXN0b20pKVxuXG4gIHJlbmRlckNvbnRlbnQgPSAoKSA9PiB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlLnNlbGVjdGVkTWVudSkge1xuICAgICAgY2FzZSAnV2luZG93JzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8V2luZG93U2V0dGluZ3NcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgIG9uV2lkdGhDaGFuZ2luZz17dGhpcy5oYW5kbGVXaWR0aENoYW5naW5nfVxuICAgICAgICAgICAgb25XaWR0aENoYW5nZWQ9e3RoaXMuaGFuZGxlV2lkdGhDaGFuZ2VkfVxuICAgICAgICAgICAgd2luZG93VGhlbWU9e3RoaXMucHJvcHMud2luZG93VGhlbWV9XG4gICAgICAgICAgICBwYWRkaW5nSG9yaXpvbnRhbD17dGhpcy5wcm9wcy5wYWRkaW5nSG9yaXpvbnRhbH1cbiAgICAgICAgICAgIHBhZGRpbmdWZXJ0aWNhbD17dGhpcy5wcm9wcy5wYWRkaW5nVmVydGljYWx9XG4gICAgICAgICAgICBkcm9wU2hhZG93PXt0aGlzLnByb3BzLmRyb3BTaGFkb3d9XG4gICAgICAgICAgICBkcm9wU2hhZG93Qmx1clJhZGl1cz17dGhpcy5wcm9wcy5kcm9wU2hhZG93Qmx1clJhZGl1c31cbiAgICAgICAgICAgIGRyb3BTaGFkb3dPZmZzZXRZPXt0aGlzLnByb3BzLmRyb3BTaGFkb3dPZmZzZXRZfVxuICAgICAgICAgICAgd2luZG93Q29udHJvbHM9e3RoaXMucHJvcHMud2luZG93Q29udHJvbHN9XG4gICAgICAgICAgICB3aWR0aEFkanVzdG1lbnQ9e3RoaXMucHJvcHMud2lkdGhBZGp1c3RtZW50fVxuICAgICAgICAgICAgd2lkdGg9e3RoaXMucHJvcHMud2lkdGh9XG4gICAgICAgICAgICB3YXRlcm1hcms9e3RoaXMucHJvcHMud2F0ZXJtYXJrfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIGNhc2UgJ0VkaXRvcic6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEVkaXRvclNldHRpbmdzXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICBvblVwbG9hZD17dGhpcy5oYW5kbGVGb250VXBsb2FkfVxuICAgICAgICAgICAgb25XaWR0aENoYW5naW5nPXt0aGlzLmhhbmRsZVdpZHRoQ2hhbmdpbmd9XG4gICAgICAgICAgICBvbldpZHRoQ2hhbmdlZD17dGhpcy5oYW5kbGVXaWR0aENoYW5nZWR9XG4gICAgICAgICAgICBmb250PXt0aGlzLnByb3BzLmZvbnRGYW1pbHl9XG4gICAgICAgICAgICBzaXplPXt0aGlzLnByb3BzLmZvbnRTaXplfVxuICAgICAgICAgICAgbGluZUhlaWdodD17dGhpcy5wcm9wcy5saW5lSGVpZ2h0fVxuICAgICAgICAgICAgbGluZU51bWJlcnM9e3RoaXMucHJvcHMubGluZU51bWJlcnN9XG4gICAgICAgICAgICBmaXJzdExpbmVOdW1iZXI9e3RoaXMucHJvcHMuZmlyc3RMaW5lTnVtYmVyfVxuICAgICAgICAgICAgaGlkZGVuQ2hhcmFjdGVycz17dGhpcy5wcm9wcy5oaWRkZW5DaGFyYWN0ZXJzfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIGNhc2UgJ01pc2MnOiB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5nc0Zyb21Qcm9wcygpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPE1pc2NTZXR0aW5nc1xuICAgICAgICAgICAgZm9ybWF0PXt0aGlzLnByb3BzLmZvcm1hdH1cbiAgICAgICAgICAgIHJlc2V0PXt0aGlzLmhhbmRsZVJlc2V0fVxuICAgICAgICAgICAgYXBwbHlQcmVzZXQ9e3RoaXMucHJvcHMuYXBwbHlQcmVzZXR9XG4gICAgICAgICAgICBzZXR0aW5ncz17c2V0dGluZ3N9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBzZWxlY3RlZE1lbnUsIHNob3dQcmVzZXRzLCBwcmVzZXRzLCBwcmV2aW91c1NldHRpbmdzLCB3aWR0aENoYW5naW5nIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyBwcmVzZXQsIGlzVmlzaWJsZSwgdG9nZ2xlVmlzaWJpbGl0eSB9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3MtY29udGFpbmVyXCIgcmVmPXt0aGlzLnNldHRpbmdzUmVmfT5cbiAgICAgICAgPEtleWJvYXJkU2hvcnRjdXQgdHJpZ2dlcj1cIuKMmC0vXCIgaGFuZGxlPXt0aGlzLmhhbmRsZU9wZW5BbmRGb2N1c30gLz5cbiAgICAgICAgPEtleWJvYXJkU2hvcnRjdXQgdHJpZ2dlcj1cIuKHpy3ijJgtXFxcIiBoYW5kbGU9e3RoaXMuaGFuZGxlUmVzZXR9IC8+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB0aXRsZT1cIlNldHRpbmdzIE1lbnVcIlxuICAgICAgICAgIGJvcmRlclxuICAgICAgICAgIGNlbnRlclxuICAgICAgICAgIHNlbGVjdGVkPXtpc1Zpc2libGV9XG4gICAgICAgICAgc3R5bGU9e3NldHRpbmdCdXR0b25TdHlsZX1cbiAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVWaXNpYmlsaXR5fVxuICAgICAgICA+XG4gICAgICAgICAgPFNldHRpbmdzSWNvbiAvPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPFBvcG91dFxuICAgICAgICAgIHBvaW50ZXJMZWZ0PVwiMTVweFwiXG4gICAgICAgICAgaGlkZGVuPXshaXNWaXNpYmxlfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwb3NpdGlvbjogd2lkdGhDaGFuZ2luZyA/ICdmaXhlZCcgOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgd2lkdGg6ICczMTZweCcsXG4gICAgICAgICAgICB0b3A6IHdpZHRoQ2hhbmdpbmcgPyB0aGlzLnNldHRpbmdQb3NpdGlvbi50b3AgOiAnaW5pdGlhbCcsXG4gICAgICAgICAgICBsZWZ0OiB3aWR0aENoYW5naW5nID8gdGhpcy5zZXR0aW5nUG9zaXRpb24ubGVmdCA6ICdpbml0aWFsJyxcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPFByZXNldHNcbiAgICAgICAgICAgIHNob3c9e3Nob3dQcmVzZXRzfVxuICAgICAgICAgICAgcHJlc2V0cz17cHJlc2V0c31cbiAgICAgICAgICAgIHNlbGVjdGVkPXtwcmVzZXR9XG4gICAgICAgICAgICB0b2dnbGU9e3RoaXMudG9nZ2xlUHJlc2V0c31cbiAgICAgICAgICAgIGFwcGx5PXt0aGlzLmFwcGx5UHJlc2V0fVxuICAgICAgICAgICAgdW5kbz17dGhpcy51bmRvUHJlc2V0fVxuICAgICAgICAgICAgcmVtb3ZlPXt0aGlzLnJlbW92ZVByZXNldH1cbiAgICAgICAgICAgIGNyZWF0ZT17dGhpcy5jcmVhdGVQcmVzZXR9XG4gICAgICAgICAgICBhcHBsaWVkPXshIXByZXZpb3VzU2V0dGluZ3N9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmdzLWJvdHRvbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZXR0aW5ncy1tZW51XCIgcmVmPXt0aGlzLm1lbnVSZWZ9IHRhYkluZGV4PXstMX0+XG4gICAgICAgICAgICAgIDxNZW51QnV0dG9uIG5hbWU9XCJXaW5kb3dcIiBzZWxlY3Q9e3RoaXMuc2VsZWN0TWVudX0gc2VsZWN0ZWQ9e3NlbGVjdGVkTWVudX0gLz5cbiAgICAgICAgICAgICAgPE1lbnVCdXR0b24gbmFtZT1cIkVkaXRvclwiIHNlbGVjdD17dGhpcy5zZWxlY3RNZW51fSBzZWxlY3RlZD17c2VsZWN0ZWRNZW51fSAvPlxuICAgICAgICAgICAgICA8TWVudUJ1dHRvbiBuYW1lPVwiTWlzY1wiIHNlbGVjdD17dGhpcy5zZWxlY3RNZW51fSBzZWxlY3RlZD17c2VsZWN0ZWRNZW51fSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJDb250ZW50KCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUG9wb3V0PlxuICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgIHtgXG4gICAgICAgICAgICAuc2V0dGluZ3MtY29udGFpbmVyIHtcbiAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuc2V0dGluZ3MtYm90dG9tIHtcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnNldHRpbmdzLW1lbnUge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgICBmbGV4OiAwIDAgOTZweDtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtDT0xPUlMuREFSS19HUkFZfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnNldHRpbmdzLWJvdHRvbSA6Z2xvYmFsKC5zZXR0aW5ncy1jb250ZW50KSB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICBib3JkZXItbGVmdDogMnB4IHNvbGlkICR7Q09MT1JTLlNFQ09OREFSWX07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5zZXR0aW5ncy1ib3R0b20gOmdsb2JhbCguc2V0dGluZ3MtY29udGVudCA+IGRpdjpub3QoOmZpcnN0LWNoaWxkKSkge1xuICAgICAgICAgICAgICBib3JkZXItdG9wOiBzb2xpZCAxcHggJHtDT0xPUlMuU0VDT05EQVJZfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1hbmFnZVBvcG91dChTZXR0aW5ncylcbiJdfQ== */\\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/Settings.js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n}\n\nconst settingButtonStyle = {\n  width: '40px',\n  height: '100%'\n};\n\nconst invalidSetting = (v, k) => // Allow highlights in presets and config exports\n!(Object.prototype.hasOwnProperty.call(DEFAULT_SETTINGS, k) || k === 'highlights');\n\nclass Settings extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      presets: DEFAULT_PRESETS,\n      selectedMenu: 'Window',\n      showPresets: true,\n      previousSettings: null,\n      widthChanging: false\n    });\n\n    _defineProperty(this, \"settingsRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(this, \"menuRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(this, \"togglePresets\", () => this.setState(toggle('showPresets')));\n\n    _defineProperty(this, \"selectMenu\", selectedMenu => () => this.setState({\n      selectedMenu\n    }));\n\n    _defineProperty(this, \"handleWidthChanging\", () => {\n      const rect = this.settingsRef.current.getBoundingClientRect();\n      this.settingPosition = {\n        top: rect.bottom,\n        left: rect.left\n      };\n      this.setState({\n        widthChanging: true\n      });\n    });\n\n    _defineProperty(this, \"handleWidthChanged\", () => this.setState({\n      widthChanging: false\n    }));\n\n    _defineProperty(this, \"handleChange\", (key, value) => {\n      this.props.onChange(key, value);\n      this.setState({\n        previousSettings: null\n      });\n    });\n\n    _defineProperty(this, \"handleOpenAndFocus\", () => {\n      this.props.toggleVisibility();\n\n      if (!this.props.isVisible) {\n        this.menuRef.current.focus();\n      }\n    });\n\n    _defineProperty(this, \"handleReset\", () => {\n      this.props.resetDefaultSettings();\n      this.setState({\n        previousSettings: null\n      });\n    });\n\n    _defineProperty(this, \"handleFontUpload\", (id, url) => {\n      this.props.onChange('fontFamily', id);\n      this.props.onChange('fontUrl', url);\n      this.props.toggleVisibility();\n    });\n\n    _defineProperty(this, \"getSettingsFromProps\", () => omitBy(this.props, invalidSetting));\n\n    _defineProperty(this, \"applyPreset\", preset => {\n      const previousSettings = this.getSettingsFromProps();\n      this.props.applyPreset(preset);\n      this.setState({\n        previousSettings\n      });\n    });\n\n    _defineProperty(this, \"undoPreset\", () => {\n      this.props.applyPreset(_objectSpread(_objectSpread({}, this.state.previousSettings), {}, {\n        id: null\n      }));\n      this.setState({\n        previousSettings: null\n      });\n    });\n\n    _defineProperty(this, \"removePreset\", id => {\n      if (this.props.preset === id) {\n        this.props.onChange('preset', null);\n        this.setState({\n          previousSettings: null\n        });\n      }\n\n      this.setState(({\n        presets\n      }) => ({\n        presets: presets.filter(p => p.id !== id)\n      }), this.savePresets);\n    });\n\n    _defineProperty(this, \"createPreset\", async () => {\n      const newPreset = this.getSettingsFromProps();\n      newPreset.id = `preset:${generateId()}`;\n      newPreset.custom = true;\n      newPreset.icon = await this.props.getCarbonImage({\n        format: 'png',\n        squared: true,\n        exportSize: 1\n      });\n      this.props.onChange('preset', newPreset.id);\n      this.setState(({\n        presets\n      }) => ({\n        previousSettings: null,\n        presets: [newPreset, ...presets]\n      }), this.savePresets);\n    });\n\n    _defineProperty(this, \"savePresets\", () => savePresets(this.state.presets.filter(p => p.custom)));\n\n    _defineProperty(this, \"renderContent\", () => {\n      switch (this.state.selectedMenu) {\n        case 'Window':\n          return /*#__PURE__*/_jsxDEV(WindowSettings, {\n            onChange: this.handleChange,\n            onWidthChanging: this.handleWidthChanging,\n            onWidthChanged: this.handleWidthChanged,\n            windowTheme: this.props.windowTheme,\n            paddingHorizontal: this.props.paddingHorizontal,\n            paddingVertical: this.props.paddingVertical,\n            dropShadow: this.props.dropShadow,\n            dropShadowBlurRadius: this.props.dropShadowBlurRadius,\n            dropShadowOffsetY: this.props.dropShadowOffsetY,\n            windowControls: this.props.windowControls,\n            widthAdjustment: this.props.widthAdjustment,\n            width: this.props.width,\n            watermark: this.props.watermark\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 11\n          }, this);\n\n        case 'Editor':\n          return /*#__PURE__*/_jsxDEV(EditorSettings, {\n            onChange: this.handleChange,\n            onUpload: this.handleFontUpload,\n            onWidthChanging: this.handleWidthChanging,\n            onWidthChanged: this.handleWidthChanged,\n            font: this.props.fontFamily,\n            size: this.props.fontSize,\n            lineHeight: this.props.lineHeight,\n            lineNumbers: this.props.lineNumbers,\n            firstLineNumber: this.props.firstLineNumber,\n            hiddenCharacters: this.props.hiddenCharacters\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 11\n          }, this);\n\n        case 'Misc':\n          {\n            const settings = this.getSettingsFromProps();\n            return /*#__PURE__*/_jsxDEV(MiscSettings, {\n              format: this.props.format,\n              reset: this.handleReset,\n              applyPreset: this.props.applyPreset,\n              settings: settings\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 11\n            }, this);\n          }\n\n        default:\n          return null;\n      }\n    });\n  }\n\n  componentDidMount() {\n    const storedPresets = getPresets(localStorage) || [];\n    this.setState(({\n      presets\n    }) => ({\n      presets: [...storedPresets, ...presets]\n    }));\n  }\n\n  render() {\n    const {\n      selectedMenu,\n      showPresets,\n      presets,\n      previousSettings,\n      widthChanging\n    } = this.state;\n    const {\n      preset,\n      isVisible,\n      toggleVisibility\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: this.settingsRef,\n      className: _JSXStyle.dynamic([[\"1625328732\", [COLORS.DARK_GRAY, COLORS.SECONDARY, COLORS.SECONDARY]]]) + \" \" + \"settings-container\",\n      children: [/*#__PURE__*/_jsxDEV(KeyboardShortcut, {\n        trigger: \"\\u2318-/\",\n        handle: this.handleOpenAndFocus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KeyboardShortcut, {\n        trigger: \"\\u21E7-\\u2318-\\\\\",\n        handle: this.handleReset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        title: \"Settings Menu\",\n        border: true,\n        center: true,\n        selected: isVisible,\n        style: settingButtonStyle,\n        onClick: toggleVisibility,\n        children: /*#__PURE__*/_jsxDEV(SettingsIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Popout, {\n        pointerLeft: \"15px\",\n        hidden: !isVisible,\n        style: {\n          position: widthChanging ? 'fixed' : 'absolute',\n          width: '316px',\n          top: widthChanging ? this.settingPosition.top : 'initial',\n          left: widthChanging ? this.settingPosition.left : 'initial'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Presets, {\n          show: showPresets,\n          presets: presets,\n          selected: preset,\n          toggle: this.togglePresets,\n          apply: this.applyPreset,\n          undo: this.undoPreset,\n          remove: this.removePreset,\n          create: this.createPreset,\n          applied: !!previousSettings\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: _JSXStyle.dynamic([[\"1625328732\", [COLORS.DARK_GRAY, COLORS.SECONDARY, COLORS.SECONDARY]]]) + \" \" + \"settings-bottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            ref: this.menuRef,\n            tabIndex: -1,\n            className: _JSXStyle.dynamic([[\"1625328732\", [COLORS.DARK_GRAY, COLORS.SECONDARY, COLORS.SECONDARY]]]) + \" \" + \"settings-menu\",\n            children: [/*#__PURE__*/_jsxDEV(MenuButton, {\n              name: \"Window\",\n              select: this.selectMenu,\n              selected: selectedMenu\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MenuButton, {\n              name: \"Editor\",\n              select: this.selectMenu,\n              selected: selectedMenu\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MenuButton, {\n              name: \"Misc\",\n              select: this.selectMenu,\n              selected: selectedMenu\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this), this.renderContent()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n        id: \"1625328732\",\n        dynamic: [COLORS.DARK_GRAY, COLORS.SECONDARY, COLORS.SECONDARY],\n        children: `.settings-container.__jsx-style-dynamic-selector{position:relative;}.settings-bottom.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.settings-menu.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:0 0 96px;-ms-flex:0 0 96px;flex:0 0 96px;background-color:${COLORS.DARK_GRAY};}.settings-bottom.__jsx-style-dynamic-selector .settings-content{width:100%;border-left:2px solid ${COLORS.SECONDARY};}.settings-bottom.__jsx-style-dynamic-selector .settings-content > div:not(:first-child){border-top:solid 1px ${COLORS.SECONDARY};}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9TZXR0aW5ncy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvZFcsQUFHaUMsQUFJTCxBQUlBLEFBT0YsQUFLdUMsV0FKQyxPQWZyRCxnQ0FvQkEsWUFKQSxZQVpBLEFBSXdCLDhFQUNSLHNEQUNnQyw4Q0FDaEQiLCJmaWxlIjoiL1VzZXJzL2xpbWVuZ3l1L0Rlc2t0b3AvcHJpdmF0ZS9jb2RlL3Byb2plY3Qvc2hvdy1jb2Rlcy9jb21wb25lbnRzL1NldHRpbmdzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IG9taXRCeSBmcm9tICdsb2Rhc2gub21pdGJ5J1xuaW1wb3J0IHsgdXNlS2V5Ym9hcmRMaXN0ZW5lciB9IGZyb20gJ2FjdGlvbnNhY2snXG5cbmltcG9ydCBUaGVtZVNlbGVjdCBmcm9tICcuL1RoZW1lU2VsZWN0J1xuaW1wb3J0IEZvbnRTZWxlY3QgZnJvbSAnLi9Gb250U2VsZWN0J1xuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcbmltcG9ydCBJbnB1dCBmcm9tICcuL0lucHV0J1xuaW1wb3J0IFRvZ2dsZSBmcm9tICcuL1RvZ2dsZSdcbmltcG9ydCBQb3BvdXQsIHsgbWFuYWdlUG9wb3V0IH0gZnJvbSAnLi9Qb3BvdXQnXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vQnV0dG9uJ1xuaW1wb3J0IFByZXNldHMgZnJvbSAnLi9QcmVzZXRzJ1xuaW1wb3J0IE1lbnVCdXR0b24gZnJvbSAnLi9NZW51QnV0dG9uJ1xuaW1wb3J0IHsgQ09MT1JTLCBERUZBVUxUX1BSRVNFVFMsIERFRkFVTFRfU0VUVElOR1MsIERFRkFVTFRfV0lEVEhTIH0gZnJvbSAnLi4vbGliL2NvbnN0YW50cydcbmltcG9ydCB7IHRvZ2dsZSwgZ2V0UHJlc2V0cywgc2F2ZVByZXNldHMsIGdlbmVyYXRlSWQsIGZpbGVUb0pTT04gfSBmcm9tICcuLi9saWIvdXRpbCdcbmltcG9ydCBTZXR0aW5nc0ljb24gZnJvbSAnLi9zdmcvU2V0dGluZ3MnXG5cbmZ1bmN0aW9uIEtleWJvYXJkU2hvcnRjdXQoeyB0cmlnZ2VyLCBoYW5kbGUgfSkge1xuICB1c2VLZXlib2FyZExpc3RlbmVyKHRyaWdnZXIsIGhhbmRsZSlcbiAgcmV0dXJuIG51bGxcbn1cblxuZnVuY3Rpb24gV2luZG93U2V0dGluZ3Moe1xuICBvbkNoYW5nZSxcbiAgd2luZG93VGhlbWUsXG4gIHBhZGRpbmdIb3Jpem9udGFsLFxuICBwYWRkaW5nVmVydGljYWwsXG4gIGRyb3BTaGFkb3csXG4gIGRyb3BTaGFkb3dCbHVyUmFkaXVzLFxuICBkcm9wU2hhZG93T2Zmc2V0WSxcbiAgd2luZG93Q29udHJvbHMsXG4gIHdpZHRoQWRqdXN0bWVudCxcbiAgd2lkdGgsXG4gIHdhdGVybWFyayxcbiAgb25XaWR0aENoYW5naW5nLFxuICBvbldpZHRoQ2hhbmdlZCxcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmdzLWNvbnRlbnRcIj5cbiAgICAgIDxUaGVtZVNlbGVjdFxuICAgICAgICBzZWxlY3RlZD17d2luZG93VGhlbWUgfHwgJ25vbmUnfVxuICAgICAgICB3aW5kb3dDb250cm9scz17d2luZG93Q29udHJvbHN9XG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8U2xpZGVyXG4gICAgICAgICAgbGFiZWw9XCJQYWRkaW5nICh2ZXJ0KVwiXG4gICAgICAgICAgdmFsdWU9e3BhZGRpbmdWZXJ0aWNhbH1cbiAgICAgICAgICBtYXhWYWx1ZT17MjAwfVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdwYWRkaW5nVmVydGljYWwnKX1cbiAgICAgICAgLz5cbiAgICAgICAgPFNsaWRlclxuICAgICAgICAgIGxhYmVsPVwiUGFkZGluZyAoaG9yaXopXCJcbiAgICAgICAgICB2YWx1ZT17cGFkZGluZ0hvcml6b250YWx9XG4gICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ3BhZGRpbmdIb3Jpem9udGFsJyl9XG4gICAgICAgICAgb25Nb3VzZURvd249e29uV2lkdGhDaGFuZ2luZ31cbiAgICAgICAgICBvbk1vdXNlVXA9e29uV2lkdGhDaGFuZ2VkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8VG9nZ2xlXG4gICAgICAgIGxhYmVsPVwiRHJvcCBzaGFkb3dcIlxuICAgICAgICBlbmFibGVkPXtkcm9wU2hhZG93fVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnZHJvcFNoYWRvdycpfVxuICAgICAgLz5cbiAgICAgIHtkcm9wU2hhZG93ICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZHJvcC1zaGFkb3ctb3B0aW9uc1wiPlxuICAgICAgICAgIDxTbGlkZXJcbiAgICAgICAgICAgIGxhYmVsPVwiKG9mZnNldC15KVwiXG4gICAgICAgICAgICB2YWx1ZT17ZHJvcFNoYWRvd09mZnNldFl9XG4gICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnZHJvcFNoYWRvd09mZnNldFknKX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxTbGlkZXJcbiAgICAgICAgICAgIGxhYmVsPVwiKGJsdXItcmFkaXVzKVwiXG4gICAgICAgICAgICB2YWx1ZT17ZHJvcFNoYWRvd0JsdXJSYWRpdXN9XG4gICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnZHJvcFNoYWRvd0JsdXJSYWRpdXMnKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8VG9nZ2xlXG4gICAgICAgIGxhYmVsPVwiQXV0by1hZGp1c3Qgd2lkdGhcIlxuICAgICAgICBlbmFibGVkPXt3aWR0aEFkanVzdG1lbnR9XG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICd3aWR0aEFkanVzdG1lbnQnKX1cbiAgICAgIC8+XG4gICAgICB7IXdpZHRoQWRqdXN0bWVudCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHNldHRpbmdzLXJvdyB3aWR0aC1yb3dcIj5cbiAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgIGxhYmVsPVwiV2lkdGhcIlxuICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICB2YWx1ZT17d2lkdGh9XG4gICAgICAgICAgICBtaW49e0RFRkFVTFRfV0lEVEhTLm1pbldpZHRofVxuICAgICAgICAgICAgbWF4PXtERUZBVUxUX1dJRFRIUy5tYXhXaWR0aH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IG9uQ2hhbmdlKCd3aWR0aCcsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHdpZHRoPVwiNTAlXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8VG9nZ2xlIGxhYmVsPVwiV2F0ZXJtYXJrXCIgZW5hYmxlZD17d2F0ZXJtYXJrfSBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnd2F0ZXJtYXJrJyl9IC8+XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC53aWR0aC1yb3cge1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHggOHB4IDhweDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAucm93ID4gOmdsb2JhbChkaXY6Zmlyc3QtY2hpbGQpIHtcbiAgICAgICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICR7Q09MT1JTLlNFQ09OREFSWX07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmRyb3Atc2hhZG93LW9wdGlvbnMgOmdsb2JhbCguc2xpZGVyLWJnKSxcbiAgICAgICAgICAuZHJvcC1zaGFkb3ctb3B0aW9ucyA6Z2xvYmFsKGxhYmVsKSB7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLnNldHRpbmdzLWNvbnRlbnQgOmdsb2JhbCguc2V0dGluZ3Mtcm93OmZvY3VzLXdpdGhpbikge1xuICAgICAgICAgICAgb3V0bGluZTogLXdlYmtpdC1mb2N1cy1yaW5nLWNvbG9yIGF1dG8gNHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZnVuY3Rpb24gRWRpdG9yU2V0dGluZ3Moe1xuICBvbkNoYW5nZSxcbiAgb25VcGxvYWQsXG4gIGZvbnQsXG4gIHNpemUsXG4gIGxpbmVIZWlnaHQsXG4gIGxpbmVOdW1iZXJzLFxuICBmaXJzdExpbmVOdW1iZXIsXG4gIGhpZGRlbkNoYXJhY3RlcnMsXG4gIG9uV2lkdGhDaGFuZ2luZyxcbiAgb25XaWR0aENoYW5nZWQsXG59KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzZXR0aW5ncy1jb250ZW50XCI+XG4gICAgICA8Rm9udFNlbGVjdFxuICAgICAgICBzZWxlY3RlZD17Zm9udH1cbiAgICAgICAgb25VcGxvYWQ9e29uVXBsb2FkfVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2UuYmluZChudWxsLCAnZm9udEZhbWlseScpfVxuICAgICAgLz5cbiAgICAgIDxTbGlkZXJcbiAgICAgICAgbGFiZWw9XCJTaXplXCJcbiAgICAgICAgdmFsdWU9e3NpemV9XG4gICAgICAgIG1pblZhbHVlPXsxMH1cbiAgICAgICAgbWF4VmFsdWU9ezE4fVxuICAgICAgICBzdGVwPXswLjV9XG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdmb250U2l6ZScpfVxuICAgICAgICBvbk1vdXNlRG93bj17b25XaWR0aENoYW5naW5nfVxuICAgICAgICBvbk1vdXNlVXA9e29uV2lkdGhDaGFuZ2VkfVxuICAgICAgLz5cbiAgICAgIDxTbGlkZXJcbiAgICAgICAgbGFiZWw9XCJMaW5lIGhlaWdodFwiXG4gICAgICAgIHZhbHVlPXtsaW5lSGVpZ2h0fVxuICAgICAgICBtaW5WYWx1ZT17OTB9XG4gICAgICAgIG1heFZhbHVlPXsyNTB9XG4gICAgICAgIHVuaXQ9XCIlXCJcbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlLmJpbmQobnVsbCwgJ2xpbmVIZWlnaHQnKX1cbiAgICAgIC8+XG4gICAgICA8VG9nZ2xlXG4gICAgICAgIGxhYmVsPVwiTGluZSBudW1iZXJzXCJcbiAgICAgICAgZW5hYmxlZD17bGluZU51bWJlcnN9XG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdsaW5lTnVtYmVycycpfVxuICAgICAgLz5cbiAgICAgIHtsaW5lTnVtYmVycyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHNldHRpbmdzLXJvdyBmaXJzdC1saW5lLW51bWJlci1yb3dcIj5cbiAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgIGxhYmVsPVwiRmlyc3QgbGluZSBudW1iZXJcIlxuICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICB2YWx1ZT17Zmlyc3RMaW5lTnVtYmVyfVxuICAgICAgICAgICAgbWluPXswfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gb25DaGFuZ2UoJ2ZpcnN0TGluZU51bWJlcicsIE51bWJlcihlLnRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgd2lkdGg9XCI1MCVcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxUb2dnbGVcbiAgICAgICAgbGFiZWw9XCJIaWRkZW4gY2hhcmFjdGVyc1wiXG4gICAgICAgIGVuYWJsZWQ9e2hpZGRlbkNoYXJhY3RlcnN9XG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZS5iaW5kKG51bGwsICdoaWRkZW5DaGFyYWN0ZXJzJyl9XG4gICAgICAvPlxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICAuZmlyc3QtbGluZS1udW1iZXItcm93IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMnB4IDhweCA4cHg7XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5jb25zdCByZXNldEJ1dHRvblN0eWxlID0geyBib3JkZXJUb3A6IGAxcHggc29saWQgJHtDT0xPUlMuU0VDT05EQVJZfWAgfVxuXG5mdW5jdGlvbiBNaXNjU2V0dGluZ3MoeyBmb3JtYXQsIHJlc2V0LCBhcHBseVByZXNldCwgc2V0dGluZ3MgfSkge1xuICBjb25zdCBpbnB1dCA9IFJlYWN0LnVzZVJlZihudWxsKVxuICBsZXQgZG93bmxvYWRcbiAgdHJ5IHtcbiAgICBkb3dubG9hZCA9IGBkYXRhOnRleHQvanNvbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSl9YFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIHBhc3NcbiAgfVxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3MtY29udGVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgaGlkZGVuXG4gICAgICAgICAgcmVmPXtpbnB1dH1cbiAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgYWNjZXB0PVwiLmpzb25cIlxuICAgICAgICAgIG9uQ2hhbmdlPXthc3luYyBlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCBmaWxlVG9KU09OKGUudGFyZ2V0LmZpbGVzWzBdKVxuICAgICAgICAgICAgaWYgKGpzb24pIHtcbiAgICAgICAgICAgICAgYXBwbHlQcmVzZXQoanNvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2VudGVyXG4gICAgICAgICAgc3R5bGU9e3sgYm9yZGVyUmlnaHQ6IGAxcHggc29saWQgJHtDT0xPUlMuU0VDT05EQVJZfWAgfX1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBpbnB1dC5jdXJyZW50LmNsaWNrKCl9XG4gICAgICAgID5cbiAgICAgICAgICBJbXBvcnQgY29uZmlnXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8QnV0dG9uIGNlbnRlciBDb21wb25lbnQ9XCJhXCIgaHJlZj17ZG93bmxvYWR9IGRvd25sb2FkPVwiY2FyYm9uLWNvbmZpZy5qc29uXCI+XG4gICAgICAgICAgRXhwb3J0IGNvbmZpZ1xuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPEJ1dHRvbiBjZW50ZXIgb25DbGljaz17Zm9ybWF0fSBzdHlsZT17cmVzZXRCdXR0b25TdHlsZX0+XG4gICAgICAgIFByZXR0aWZ5IGNvZGVcbiAgICAgIDwvQnV0dG9uPlxuICAgICAgPEJ1dHRvbiBjZW50ZXIgY29sb3I9e0NPTE9SUy5SRUR9IG9uQ2xpY2s9e3Jlc2V0fSBzdHlsZT17cmVzZXRCdXR0b25TdHlsZX0+XG4gICAgICAgIFJlc2V0IHNldHRpbmdzXG4gICAgICA8L0J1dHRvbj5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLnJvdyB7XG4gICAgICAgICAgICBmbGV4OiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuc2V0dGluZ3MtY29udGVudCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnNldHRpbmdzLWNvbnRlbnQgOmdsb2JhbChhKSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICAgIHVzZXItZHJhZzogbm9uZTtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IHNldHRpbmdCdXR0b25TdHlsZSA9IHtcbiAgd2lkdGg6ICc0MHB4JyxcbiAgaGVpZ2h0OiAnMTAwJScsXG59XG5cbmNvbnN0IGludmFsaWRTZXR0aW5nID0gKHYsIGspID0+XG4gIC8vIEFsbG93IGhpZ2hsaWdodHMgaW4gcHJlc2V0cyBhbmQgY29uZmlnIGV4cG9ydHNcbiAgIShPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoREVGQVVMVF9TRVRUSU5HUywgaykgfHwgayA9PT0gJ2hpZ2hsaWdodHMnKVxuXG5jbGFzcyBTZXR0aW5ncyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBzdGF0ZSA9IHtcbiAgICBwcmVzZXRzOiBERUZBVUxUX1BSRVNFVFMsXG4gICAgc2VsZWN0ZWRNZW51OiAnV2luZG93JyxcbiAgICBzaG93UHJlc2V0czogdHJ1ZSxcbiAgICBwcmV2aW91c1NldHRpbmdzOiBudWxsLFxuICAgIHdpZHRoQ2hhbmdpbmc6IGZhbHNlLFxuICB9XG5cbiAgc2V0dGluZ3NSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKVxuICBtZW51UmVmID0gUmVhY3QuY3JlYXRlUmVmKClcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCBzdG9yZWRQcmVzZXRzID0gZ2V0UHJlc2V0cyhsb2NhbFN0b3JhZ2UpIHx8IFtdXG4gICAgdGhpcy5zZXRTdGF0ZSgoeyBwcmVzZXRzIH0pID0+ICh7XG4gICAgICBwcmVzZXRzOiBbLi4uc3RvcmVkUHJlc2V0cywgLi4ucHJlc2V0c10sXG4gICAgfSkpXG4gIH1cblxuICB0b2dnbGVQcmVzZXRzID0gKCkgPT4gdGhpcy5zZXRTdGF0ZSh0b2dnbGUoJ3Nob3dQcmVzZXRzJykpXG5cbiAgc2VsZWN0TWVudSA9IHNlbGVjdGVkTWVudSA9PiAoKSA9PiB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRNZW51IH0pXG5cbiAgaGFuZGxlV2lkdGhDaGFuZ2luZyA9ICgpID0+IHtcbiAgICBjb25zdCByZWN0ID0gdGhpcy5zZXR0aW5nc1JlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgdGhpcy5zZXR0aW5nUG9zaXRpb24gPSB7IHRvcDogcmVjdC5ib3R0b20sIGxlZnQ6IHJlY3QubGVmdCB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHdpZHRoQ2hhbmdpbmc6IHRydWUgfSlcbiAgfVxuXG4gIGhhbmRsZVdpZHRoQ2hhbmdlZCA9ICgpID0+IHRoaXMuc2V0U3RhdGUoeyB3aWR0aENoYW5naW5nOiBmYWxzZSB9KVxuXG4gIGhhbmRsZUNoYW5nZSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShrZXksIHZhbHVlKVxuICAgIHRoaXMuc2V0U3RhdGUoeyBwcmV2aW91c1NldHRpbmdzOiBudWxsIH0pXG4gIH1cblxuICBoYW5kbGVPcGVuQW5kRm9jdXMgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVWaXNpYmlsaXR5KClcbiAgICBpZiAoIXRoaXMucHJvcHMuaXNWaXNpYmxlKSB7XG4gICAgICB0aGlzLm1lbnVSZWYuY3VycmVudC5mb2N1cygpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5yZXNldERlZmF1bHRTZXR0aW5ncygpXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHByZXZpb3VzU2V0dGluZ3M6IG51bGwgfSlcbiAgfVxuXG4gIGhhbmRsZUZvbnRVcGxvYWQgPSAoaWQsIHVybCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoJ2ZvbnRGYW1pbHknLCBpZClcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKCdmb250VXJsJywgdXJsKVxuICAgIHRoaXMucHJvcHMudG9nZ2xlVmlzaWJpbGl0eSgpXG4gIH1cblxuICBnZXRTZXR0aW5nc0Zyb21Qcm9wcyA9ICgpID0+IG9taXRCeSh0aGlzLnByb3BzLCBpbnZhbGlkU2V0dGluZylcblxuICBhcHBseVByZXNldCA9IHByZXNldCA9PiB7XG4gICAgY29uc3QgcHJldmlvdXNTZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3NGcm9tUHJvcHMoKVxuXG4gICAgdGhpcy5wcm9wcy5hcHBseVByZXNldChwcmVzZXQpXG5cbiAgICB0aGlzLnNldFN0YXRlKHsgcHJldmlvdXNTZXR0aW5ncyB9KVxuICB9XG5cbiAgdW5kb1ByZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmFwcGx5UHJlc2V0KHsgLi4udGhpcy5zdGF0ZS5wcmV2aW91c1NldHRpbmdzLCBpZDogbnVsbCB9KVxuICAgIHRoaXMuc2V0U3RhdGUoeyBwcmV2aW91c1NldHRpbmdzOiBudWxsIH0pXG4gIH1cblxuICByZW1vdmVQcmVzZXQgPSBpZCA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJlc2V0ID09PSBpZCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSgncHJlc2V0JywgbnVsbClcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBwcmV2aW91c1NldHRpbmdzOiBudWxsIH0pXG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICAoeyBwcmVzZXRzIH0pID0+ICh7IHByZXNldHM6IHByZXNldHMuZmlsdGVyKHAgPT4gcC5pZCAhPT0gaWQpIH0pLFxuICAgICAgdGhpcy5zYXZlUHJlc2V0c1xuICAgIClcbiAgfVxuXG4gIGNyZWF0ZVByZXNldCA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBuZXdQcmVzZXQgPSB0aGlzLmdldFNldHRpbmdzRnJvbVByb3BzKClcblxuICAgIG5ld1ByZXNldC5pZCA9IGBwcmVzZXQ6JHtnZW5lcmF0ZUlkKCl9YFxuICAgIG5ld1ByZXNldC5jdXN0b20gPSB0cnVlXG5cbiAgICBuZXdQcmVzZXQuaWNvbiA9IGF3YWl0IHRoaXMucHJvcHMuZ2V0Q2FyYm9uSW1hZ2Uoe1xuICAgICAgZm9ybWF0OiAncG5nJyxcbiAgICAgIHNxdWFyZWQ6IHRydWUsXG4gICAgICBleHBvcnRTaXplOiAxLFxuICAgIH0pXG5cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKCdwcmVzZXQnLCBuZXdQcmVzZXQuaWQpXG5cbiAgICB0aGlzLnNldFN0YXRlKFxuICAgICAgKHsgcHJlc2V0cyB9KSA9PiAoe1xuICAgICAgICBwcmV2aW91c1NldHRpbmdzOiBudWxsLFxuICAgICAgICBwcmVzZXRzOiBbbmV3UHJlc2V0LCAuLi5wcmVzZXRzXSxcbiAgICAgIH0pLFxuICAgICAgdGhpcy5zYXZlUHJlc2V0c1xuICAgIClcbiAgfVxuXG4gIHNhdmVQcmVzZXRzID0gKCkgPT4gc2F2ZVByZXNldHModGhpcy5zdGF0ZS5wcmVzZXRzLmZpbHRlcihwID0+IHAuY3VzdG9tKSlcblxuICByZW5kZXJDb250ZW50ID0gKCkgPT4ge1xuICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5zZWxlY3RlZE1lbnUpIHtcbiAgICAgIGNhc2UgJ1dpbmRvdyc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFdpbmRvd1NldHRpbmdzXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICBvbldpZHRoQ2hhbmdpbmc9e3RoaXMuaGFuZGxlV2lkdGhDaGFuZ2luZ31cbiAgICAgICAgICAgIG9uV2lkdGhDaGFuZ2VkPXt0aGlzLmhhbmRsZVdpZHRoQ2hhbmdlZH1cbiAgICAgICAgICAgIHdpbmRvd1RoZW1lPXt0aGlzLnByb3BzLndpbmRvd1RoZW1lfVxuICAgICAgICAgICAgcGFkZGluZ0hvcml6b250YWw9e3RoaXMucHJvcHMucGFkZGluZ0hvcml6b250YWx9XG4gICAgICAgICAgICBwYWRkaW5nVmVydGljYWw9e3RoaXMucHJvcHMucGFkZGluZ1ZlcnRpY2FsfVxuICAgICAgICAgICAgZHJvcFNoYWRvdz17dGhpcy5wcm9wcy5kcm9wU2hhZG93fVxuICAgICAgICAgICAgZHJvcFNoYWRvd0JsdXJSYWRpdXM9e3RoaXMucHJvcHMuZHJvcFNoYWRvd0JsdXJSYWRpdXN9XG4gICAgICAgICAgICBkcm9wU2hhZG93T2Zmc2V0WT17dGhpcy5wcm9wcy5kcm9wU2hhZG93T2Zmc2V0WX1cbiAgICAgICAgICAgIHdpbmRvd0NvbnRyb2xzPXt0aGlzLnByb3BzLndpbmRvd0NvbnRyb2xzfVxuICAgICAgICAgICAgd2lkdGhBZGp1c3RtZW50PXt0aGlzLnByb3BzLndpZHRoQWRqdXN0bWVudH1cbiAgICAgICAgICAgIHdpZHRoPXt0aGlzLnByb3BzLndpZHRofVxuICAgICAgICAgICAgd2F0ZXJtYXJrPXt0aGlzLnByb3BzLndhdGVybWFya31cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICBjYXNlICdFZGl0b3InOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxFZGl0b3JTZXR0aW5nc1xuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgb25VcGxvYWQ9e3RoaXMuaGFuZGxlRm9udFVwbG9hZH1cbiAgICAgICAgICAgIG9uV2lkdGhDaGFuZ2luZz17dGhpcy5oYW5kbGVXaWR0aENoYW5naW5nfVxuICAgICAgICAgICAgb25XaWR0aENoYW5nZWQ9e3RoaXMuaGFuZGxlV2lkdGhDaGFuZ2VkfVxuICAgICAgICAgICAgZm9udD17dGhpcy5wcm9wcy5mb250RmFtaWx5fVxuICAgICAgICAgICAgc2l6ZT17dGhpcy5wcm9wcy5mb250U2l6ZX1cbiAgICAgICAgICAgIGxpbmVIZWlnaHQ9e3RoaXMucHJvcHMubGluZUhlaWdodH1cbiAgICAgICAgICAgIGxpbmVOdW1iZXJzPXt0aGlzLnByb3BzLmxpbmVOdW1iZXJzfVxuICAgICAgICAgICAgZmlyc3RMaW5lTnVtYmVyPXt0aGlzLnByb3BzLmZpcnN0TGluZU51bWJlcn1cbiAgICAgICAgICAgIGhpZGRlbkNoYXJhY3RlcnM9e3RoaXMucHJvcHMuaGlkZGVuQ2hhcmFjdGVyc31cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICBjYXNlICdNaXNjJzoge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3NGcm9tUHJvcHMoKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxNaXNjU2V0dGluZ3NcbiAgICAgICAgICAgIGZvcm1hdD17dGhpcy5wcm9wcy5mb3JtYXR9XG4gICAgICAgICAgICByZXNldD17dGhpcy5oYW5kbGVSZXNldH1cbiAgICAgICAgICAgIGFwcGx5UHJlc2V0PXt0aGlzLnByb3BzLmFwcGx5UHJlc2V0fVxuICAgICAgICAgICAgc2V0dGluZ3M9e3NldHRpbmdzfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgc2VsZWN0ZWRNZW51LCBzaG93UHJlc2V0cywgcHJlc2V0cywgcHJldmlvdXNTZXR0aW5ncywgd2lkdGhDaGFuZ2luZyB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IHsgcHJlc2V0LCBpc1Zpc2libGUsIHRvZ2dsZVZpc2liaWxpdHkgfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmdzLWNvbnRhaW5lclwiIHJlZj17dGhpcy5zZXR0aW5nc1JlZn0+XG4gICAgICAgIDxLZXlib2FyZFNob3J0Y3V0IHRyaWdnZXI9XCLijJgtL1wiIGhhbmRsZT17dGhpcy5oYW5kbGVPcGVuQW5kRm9jdXN9IC8+XG4gICAgICAgIDxLZXlib2FyZFNob3J0Y3V0IHRyaWdnZXI9XCLih6ct4oyYLVxcXCIgaGFuZGxlPXt0aGlzLmhhbmRsZVJlc2V0fSAvPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdGl0bGU9XCJTZXR0aW5ncyBNZW51XCJcbiAgICAgICAgICBib3JkZXJcbiAgICAgICAgICBjZW50ZXJcbiAgICAgICAgICBzZWxlY3RlZD17aXNWaXNpYmxlfVxuICAgICAgICAgIHN0eWxlPXtzZXR0aW5nQnV0dG9uU3R5bGV9XG4gICAgICAgICAgb25DbGljaz17dG9nZ2xlVmlzaWJpbGl0eX1cbiAgICAgICAgPlxuICAgICAgICAgIDxTZXR0aW5nc0ljb24gLz5cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDxQb3BvdXRcbiAgICAgICAgICBwb2ludGVyTGVmdD1cIjE1cHhcIlxuICAgICAgICAgIGhpZGRlbj17IWlzVmlzaWJsZX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcG9zaXRpb246IHdpZHRoQ2hhbmdpbmcgPyAnZml4ZWQnIDogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIHdpZHRoOiAnMzE2cHgnLFxuICAgICAgICAgICAgdG9wOiB3aWR0aENoYW5naW5nID8gdGhpcy5zZXR0aW5nUG9zaXRpb24udG9wIDogJ2luaXRpYWwnLFxuICAgICAgICAgICAgbGVmdDogd2lkdGhDaGFuZ2luZyA/IHRoaXMuc2V0dGluZ1Bvc2l0aW9uLmxlZnQgOiAnaW5pdGlhbCcsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxQcmVzZXRzXG4gICAgICAgICAgICBzaG93PXtzaG93UHJlc2V0c31cbiAgICAgICAgICAgIHByZXNldHM9e3ByZXNldHN9XG4gICAgICAgICAgICBzZWxlY3RlZD17cHJlc2V0fVxuICAgICAgICAgICAgdG9nZ2xlPXt0aGlzLnRvZ2dsZVByZXNldHN9XG4gICAgICAgICAgICBhcHBseT17dGhpcy5hcHBseVByZXNldH1cbiAgICAgICAgICAgIHVuZG89e3RoaXMudW5kb1ByZXNldH1cbiAgICAgICAgICAgIHJlbW92ZT17dGhpcy5yZW1vdmVQcmVzZXR9XG4gICAgICAgICAgICBjcmVhdGU9e3RoaXMuY3JlYXRlUHJlc2V0fVxuICAgICAgICAgICAgYXBwbGllZD17ISFwcmV2aW91c1NldHRpbmdzfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZXR0aW5ncy1ib3R0b21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3MtbWVudVwiIHJlZj17dGhpcy5tZW51UmVmfSB0YWJJbmRleD17LTF9PlxuICAgICAgICAgICAgICA8TWVudUJ1dHRvbiBuYW1lPVwiV2luZG93XCIgc2VsZWN0PXt0aGlzLnNlbGVjdE1lbnV9IHNlbGVjdGVkPXtzZWxlY3RlZE1lbnV9IC8+XG4gICAgICAgICAgICAgIDxNZW51QnV0dG9uIG5hbWU9XCJFZGl0b3JcIiBzZWxlY3Q9e3RoaXMuc2VsZWN0TWVudX0gc2VsZWN0ZWQ9e3NlbGVjdGVkTWVudX0gLz5cbiAgICAgICAgICAgICAgPE1lbnVCdXR0b24gbmFtZT1cIk1pc2NcIiBzZWxlY3Q9e3RoaXMuc2VsZWN0TWVudX0gc2VsZWN0ZWQ9e3NlbGVjdGVkTWVudX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3RoaXMucmVuZGVyQ29udGVudCgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1BvcG91dD5cbiAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICB7YFxuICAgICAgICAgICAgLnNldHRpbmdzLWNvbnRhaW5lciB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnNldHRpbmdzLWJvdHRvbSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5zZXR0aW5ncy1tZW51IHtcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgICAgZmxleDogMCAwIDk2cHg7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Q09MT1JTLkRBUktfR1JBWX07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5zZXR0aW5ncy1ib3R0b20gOmdsb2JhbCguc2V0dGluZ3MtY29udGVudCkge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAke0NPTE9SUy5TRUNPTkRBUll9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuc2V0dGluZ3MtYm90dG9tIDpnbG9iYWwoLnNldHRpbmdzLWNvbnRlbnQgPiBkaXY6bm90KDpmaXJzdC1jaGlsZCkpIHtcbiAgICAgICAgICAgICAgYm9yZGVyLXRvcDogc29saWQgMXB4ICR7Q09MT1JTLlNFQ09OREFSWX07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBtYW5hZ2VQb3BvdXQoU2V0dGluZ3MpXG4iXX0= */\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/Settings.js */`\n      }, void 0, false, void 0, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default managePopout(Settings);","map":{"version":3,"sources":["/Users/limengyu/Desktop/private/code/project/show-codes/components/Settings.js"],"names":["React","omitBy","useKeyboardListener","ThemeSelect","FontSelect","Slider","Input","Toggle","Popout","managePopout","Button","Presets","MenuButton","COLORS","DEFAULT_PRESETS","DEFAULT_SETTINGS","DEFAULT_WIDTHS","toggle","getPresets","savePresets","generateId","fileToJSON","SettingsIcon","KeyboardShortcut","trigger","handle","WindowSettings","onChange","windowTheme","paddingHorizontal","paddingVertical","dropShadow","dropShadowBlurRadius","dropShadowOffsetY","windowControls","widthAdjustment","width","watermark","onWidthChanging","onWidthChanged","SECONDARY","bind","minWidth","maxWidth","e","target","value","EditorSettings","onUpload","font","size","lineHeight","lineNumbers","firstLineNumber","hiddenCharacters","Number","resetButtonStyle","borderTop","MiscSettings","format","reset","applyPreset","settings","input","useRef","download","encodeURIComponent","JSON","stringify","error","json","files","borderRight","current","click","RED","settingButtonStyle","height","invalidSetting","v","k","Object","prototype","hasOwnProperty","call","Settings","PureComponent","presets","selectedMenu","showPresets","previousSettings","widthChanging","createRef","setState","rect","settingsRef","getBoundingClientRect","settingPosition","top","bottom","left","key","props","toggleVisibility","isVisible","menuRef","focus","resetDefaultSettings","id","url","preset","getSettingsFromProps","state","filter","p","newPreset","custom","icon","getCarbonImage","squared","exportSize","handleChange","handleWidthChanging","handleWidthChanged","handleFontUpload","fontFamily","fontSize","handleReset","componentDidMount","storedPresets","localStorage","render","DARK_GRAY","handleOpenAndFocus","position","togglePresets","undoPreset","removePreset","createPreset","selectMenu","renderContent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport omitBy from 'lodash.omitby'\nimport { useKeyboardListener } from 'actionsack'\n\nimport ThemeSelect from './ThemeSelect'\nimport FontSelect from './FontSelect'\nimport Slider from './Slider'\nimport Input from './Input'\nimport Toggle from './Toggle'\nimport Popout, { managePopout } from './Popout'\nimport Button from './Button'\nimport Presets from './Presets'\nimport MenuButton from './MenuButton'\nimport { COLORS, DEFAULT_PRESETS, DEFAULT_SETTINGS, DEFAULT_WIDTHS } from '../lib/constants'\nimport { toggle, getPresets, savePresets, generateId, fileToJSON } from '../lib/util'\nimport SettingsIcon from './svg/Settings'\n\nfunction KeyboardShortcut({ trigger, handle }) {\n  useKeyboardListener(trigger, handle)\n  return null\n}\n\nfunction WindowSettings({\n  onChange,\n  windowTheme,\n  paddingHorizontal,\n  paddingVertical,\n  dropShadow,\n  dropShadowBlurRadius,\n  dropShadowOffsetY,\n  windowControls,\n  widthAdjustment,\n  width,\n  watermark,\n  onWidthChanging,\n  onWidthChanged,\n}) {\n  return (\n    <div className=\"settings-content\">\n      <ThemeSelect\n        selected={windowTheme || 'none'}\n        windowControls={windowControls}\n        onChange={onChange}\n      />\n      <div className=\"row\">\n        <Slider\n          label=\"Padding (vert)\"\n          value={paddingVertical}\n          maxValue={200}\n          onChange={onChange.bind(null, 'paddingVertical')}\n        />\n        <Slider\n          label=\"Padding (horiz)\"\n          value={paddingHorizontal}\n          onChange={onChange.bind(null, 'paddingHorizontal')}\n          onMouseDown={onWidthChanging}\n          onMouseUp={onWidthChanged}\n        />\n      </div>\n      <Toggle\n        label=\"Drop shadow\"\n        enabled={dropShadow}\n        onChange={onChange.bind(null, 'dropShadow')}\n      />\n      {dropShadow && (\n        <div className=\"row drop-shadow-options\">\n          <Slider\n            label=\"(offset-y)\"\n            value={dropShadowOffsetY}\n            onChange={onChange.bind(null, 'dropShadowOffsetY')}\n          />\n          <Slider\n            label=\"(blur-radius)\"\n            value={dropShadowBlurRadius}\n            onChange={onChange.bind(null, 'dropShadowBlurRadius')}\n          />\n        </div>\n      )}\n      <Toggle\n        label=\"Auto-adjust width\"\n        enabled={widthAdjustment}\n        onChange={onChange.bind(null, 'widthAdjustment')}\n      />\n      {!widthAdjustment && (\n        <div className=\"row settings-row width-row\">\n          <Input\n            label=\"Width\"\n            type=\"number\"\n            value={width}\n            min={DEFAULT_WIDTHS.minWidth}\n            max={DEFAULT_WIDTHS.maxWidth}\n            onChange={e => onChange('width', e.target.value)}\n            width=\"50%\"\n          />\n        </div>\n      )}\n      <Toggle label=\"Watermark\" enabled={watermark} onChange={onChange.bind(null, 'watermark')} />\n      <style jsx>\n        {`\n          .width-row {\n            justify-content: space-between;\n            padding: 8px 12px 8px 8px;\n          }\n\n          .row > :global(div:first-child) {\n            border-right: 1px solid ${COLORS.SECONDARY};\n          }\n\n          .drop-shadow-options :global(.slider-bg),\n          .drop-shadow-options :global(label) {\n            opacity: 0.5;\n          }\n\n          .settings-content :global(.settings-row:focus-within) {\n            outline: -webkit-focus-ring-color auto 4px;\n          }\n        `}\n      </style>\n    </div>\n  )\n}\n\nfunction EditorSettings({\n  onChange,\n  onUpload,\n  font,\n  size,\n  lineHeight,\n  lineNumbers,\n  firstLineNumber,\n  hiddenCharacters,\n  onWidthChanging,\n  onWidthChanged,\n}) {\n  return (\n    <div className=\"settings-content\">\n      <FontSelect\n        selected={font}\n        onUpload={onUpload}\n        onChange={onChange.bind(null, 'fontFamily')}\n      />\n      <Slider\n        label=\"Size\"\n        value={size}\n        minValue={10}\n        maxValue={18}\n        step={0.5}\n        onChange={onChange.bind(null, 'fontSize')}\n        onMouseDown={onWidthChanging}\n        onMouseUp={onWidthChanged}\n      />\n      <Slider\n        label=\"Line height\"\n        value={lineHeight}\n        minValue={90}\n        maxValue={250}\n        unit=\"%\"\n        onChange={onChange.bind(null, 'lineHeight')}\n      />\n      <Toggle\n        label=\"Line numbers\"\n        enabled={lineNumbers}\n        onChange={onChange.bind(null, 'lineNumbers')}\n      />\n      {lineNumbers && (\n        <div className=\"row settings-row first-line-number-row\">\n          <Input\n            label=\"First line number\"\n            type=\"number\"\n            value={firstLineNumber}\n            min={0}\n            onChange={e => onChange('firstLineNumber', Number(e.target.value))}\n            width=\"50%\"\n          />\n        </div>\n      )}\n      <Toggle\n        label=\"Hidden characters\"\n        enabled={hiddenCharacters}\n        onChange={onChange.bind(null, 'hiddenCharacters')}\n      />\n      <style jsx>\n        {`\n          .first-line-number-row {\n            padding: 8px 12px 8px 8px;\n          }\n        `}\n      </style>\n    </div>\n  )\n}\n\nconst resetButtonStyle = { borderTop: `1px solid ${COLORS.SECONDARY}` }\n\nfunction MiscSettings({ format, reset, applyPreset, settings }) {\n  const input = React.useRef(null)\n  let download\n  try {\n    download = `data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(settings))}`\n  } catch (error) {\n    // pass\n  }\n  return (\n    <div className=\"settings-content\">\n      <div className=\"row\">\n        <input\n          hidden\n          ref={input}\n          type=\"file\"\n          accept=\".json\"\n          onChange={async e => {\n            const json = await fileToJSON(e.target.files[0])\n            if (json) {\n              applyPreset(json)\n            }\n          }}\n        />\n        <Button\n          center\n          style={{ borderRight: `1px solid ${COLORS.SECONDARY}` }}\n          onClick={() => input.current.click()}\n        >\n          Import config\n        </Button>\n        <Button center Component=\"a\" href={download} download=\"carbon-config.json\">\n          Export config\n        </Button>\n      </div>\n      <Button center onClick={format} style={resetButtonStyle}>\n        Prettify code\n      </Button>\n      <Button center color={COLORS.RED} onClick={reset} style={resetButtonStyle}>\n        Reset settings\n      </Button>\n      <style jsx>\n        {`\n          .row {\n            flex: 1;\n          }\n          .settings-content {\n            display: flex;\n            flex-direction: column;\n          }\n          .settings-content :global(a) {\n            display: flex;\n            flex: 1;\n            user-drag: none;\n          }\n        `}\n      </style>\n    </div>\n  )\n}\n\nconst settingButtonStyle = {\n  width: '40px',\n  height: '100%',\n}\n\nconst invalidSetting = (v, k) =>\n  // Allow highlights in presets and config exports\n  !(Object.prototype.hasOwnProperty.call(DEFAULT_SETTINGS, k) || k === 'highlights')\n\nclass Settings extends React.PureComponent {\n  state = {\n    presets: DEFAULT_PRESETS,\n    selectedMenu: 'Window',\n    showPresets: true,\n    previousSettings: null,\n    widthChanging: false,\n  }\n\n  settingsRef = React.createRef()\n  menuRef = React.createRef()\n\n  componentDidMount() {\n    const storedPresets = getPresets(localStorage) || []\n    this.setState(({ presets }) => ({\n      presets: [...storedPresets, ...presets],\n    }))\n  }\n\n  togglePresets = () => this.setState(toggle('showPresets'))\n\n  selectMenu = selectedMenu => () => this.setState({ selectedMenu })\n\n  handleWidthChanging = () => {\n    const rect = this.settingsRef.current.getBoundingClientRect()\n    this.settingPosition = { top: rect.bottom, left: rect.left }\n    this.setState({ widthChanging: true })\n  }\n\n  handleWidthChanged = () => this.setState({ widthChanging: false })\n\n  handleChange = (key, value) => {\n    this.props.onChange(key, value)\n    this.setState({ previousSettings: null })\n  }\n\n  handleOpenAndFocus = () => {\n    this.props.toggleVisibility()\n    if (!this.props.isVisible) {\n      this.menuRef.current.focus()\n    }\n  }\n\n  handleReset = () => {\n    this.props.resetDefaultSettings()\n    this.setState({ previousSettings: null })\n  }\n\n  handleFontUpload = (id, url) => {\n    this.props.onChange('fontFamily', id)\n    this.props.onChange('fontUrl', url)\n    this.props.toggleVisibility()\n  }\n\n  getSettingsFromProps = () => omitBy(this.props, invalidSetting)\n\n  applyPreset = preset => {\n    const previousSettings = this.getSettingsFromProps()\n\n    this.props.applyPreset(preset)\n\n    this.setState({ previousSettings })\n  }\n\n  undoPreset = () => {\n    this.props.applyPreset({ ...this.state.previousSettings, id: null })\n    this.setState({ previousSettings: null })\n  }\n\n  removePreset = id => {\n    if (this.props.preset === id) {\n      this.props.onChange('preset', null)\n      this.setState({ previousSettings: null })\n    }\n    this.setState(\n      ({ presets }) => ({ presets: presets.filter(p => p.id !== id) }),\n      this.savePresets\n    )\n  }\n\n  createPreset = async () => {\n    const newPreset = this.getSettingsFromProps()\n\n    newPreset.id = `preset:${generateId()}`\n    newPreset.custom = true\n\n    newPreset.icon = await this.props.getCarbonImage({\n      format: 'png',\n      squared: true,\n      exportSize: 1,\n    })\n\n    this.props.onChange('preset', newPreset.id)\n\n    this.setState(\n      ({ presets }) => ({\n        previousSettings: null,\n        presets: [newPreset, ...presets],\n      }),\n      this.savePresets\n    )\n  }\n\n  savePresets = () => savePresets(this.state.presets.filter(p => p.custom))\n\n  renderContent = () => {\n    switch (this.state.selectedMenu) {\n      case 'Window':\n        return (\n          <WindowSettings\n            onChange={this.handleChange}\n            onWidthChanging={this.handleWidthChanging}\n            onWidthChanged={this.handleWidthChanged}\n            windowTheme={this.props.windowTheme}\n            paddingHorizontal={this.props.paddingHorizontal}\n            paddingVertical={this.props.paddingVertical}\n            dropShadow={this.props.dropShadow}\n            dropShadowBlurRadius={this.props.dropShadowBlurRadius}\n            dropShadowOffsetY={this.props.dropShadowOffsetY}\n            windowControls={this.props.windowControls}\n            widthAdjustment={this.props.widthAdjustment}\n            width={this.props.width}\n            watermark={this.props.watermark}\n          />\n        )\n      case 'Editor':\n        return (\n          <EditorSettings\n            onChange={this.handleChange}\n            onUpload={this.handleFontUpload}\n            onWidthChanging={this.handleWidthChanging}\n            onWidthChanged={this.handleWidthChanged}\n            font={this.props.fontFamily}\n            size={this.props.fontSize}\n            lineHeight={this.props.lineHeight}\n            lineNumbers={this.props.lineNumbers}\n            firstLineNumber={this.props.firstLineNumber}\n            hiddenCharacters={this.props.hiddenCharacters}\n          />\n        )\n      case 'Misc': {\n        const settings = this.getSettingsFromProps()\n        return (\n          <MiscSettings\n            format={this.props.format}\n            reset={this.handleReset}\n            applyPreset={this.props.applyPreset}\n            settings={settings}\n          />\n        )\n      }\n      default:\n        return null\n    }\n  }\n\n  render() {\n    const { selectedMenu, showPresets, presets, previousSettings, widthChanging } = this.state\n    const { preset, isVisible, toggleVisibility } = this.props\n\n    return (\n      <div className=\"settings-container\" ref={this.settingsRef}>\n        <KeyboardShortcut trigger=\"⌘-/\" handle={this.handleOpenAndFocus} />\n        <KeyboardShortcut trigger=\"⇧-⌘-\\\" handle={this.handleReset} />\n        <Button\n          title=\"Settings Menu\"\n          border\n          center\n          selected={isVisible}\n          style={settingButtonStyle}\n          onClick={toggleVisibility}\n        >\n          <SettingsIcon />\n        </Button>\n        <Popout\n          pointerLeft=\"15px\"\n          hidden={!isVisible}\n          style={{\n            position: widthChanging ? 'fixed' : 'absolute',\n            width: '316px',\n            top: widthChanging ? this.settingPosition.top : 'initial',\n            left: widthChanging ? this.settingPosition.left : 'initial',\n          }}\n        >\n          <Presets\n            show={showPresets}\n            presets={presets}\n            selected={preset}\n            toggle={this.togglePresets}\n            apply={this.applyPreset}\n            undo={this.undoPreset}\n            remove={this.removePreset}\n            create={this.createPreset}\n            applied={!!previousSettings}\n          />\n          <div className=\"settings-bottom\">\n            <div className=\"settings-menu\" ref={this.menuRef} tabIndex={-1}>\n              <MenuButton name=\"Window\" select={this.selectMenu} selected={selectedMenu} />\n              <MenuButton name=\"Editor\" select={this.selectMenu} selected={selectedMenu} />\n              <MenuButton name=\"Misc\" select={this.selectMenu} selected={selectedMenu} />\n            </div>\n            {this.renderContent()}\n          </div>\n        </Popout>\n        <style jsx>\n          {`\n            .settings-container {\n              position: relative;\n            }\n\n            .settings-bottom {\n              display: flex;\n            }\n\n            .settings-menu {\n              display: flex;\n              flex-direction: column;\n              flex: 0 0 96px;\n              background-color: ${COLORS.DARK_GRAY};\n            }\n\n            .settings-bottom :global(.settings-content) {\n              width: 100%;\n              border-left: 2px solid ${COLORS.SECONDARY};\n            }\n\n            .settings-bottom :global(.settings-content > div:not(:first-child)) {\n              border-top: solid 1px ${COLORS.SECONDARY};\n            }\n          `}\n        </style>\n      </div>\n    )\n  }\n}\n\nexport default managePopout(Settings)\n"]},"metadata":{},"sourceType":"module"}