{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/limengyu/Desktop/private/code/project/show-codes/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/limengyu/Desktop/private/code/project/show-codes/components/BackgroundSelect.js\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport ImagePicker from './ImagePicker';\nimport ColorPicker from './ColorPicker';\nimport Button from './Button';\nimport Popout, { managePopout } from './Popout';\nimport { COLORS, DEFAULT_BG_COLOR } from '../lib/constants';\nimport { stringifyRGBA } from '../lib/util';\n\nfunction validateColor(str) {\n  if (/#\\d{3,6}|rgba{0,1}\\(.*?\\)/gi.test(str) || /\\w+/gi.test(str)) {\n    return str;\n  }\n}\n\nvar BackgroundSelect = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(BackgroundSelect, _React$PureComponent);\n\n  var _super = _createSuper(BackgroundSelect);\n\n  function BackgroundSelect() {\n    var _this;\n\n    _classCallCheck(this, BackgroundSelect);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"selectTab\", function (name) {\n      if (_this.props.mode !== name) {\n        _this.props.onChange({\n          backgroundMode: name\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePickColor\", function (_ref) {\n      var rgb = _ref.rgb;\n      return _this.props.onChange({\n        backgroundColor: stringifyRGBA(rgb)\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(BackgroundSelect, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          color = _this$props.color,\n          mode = _this$props.mode,\n          image = _this$props.image,\n          onChange = _this$props.onChange,\n          isVisible = _this$props.isVisible,\n          toggleVisibility = _this$props.toggleVisibility,\n          carbonRef = _this$props.carbonRef,\n          updateHighlights = _this$props.updateHighlights;\n      var background = validateColor(color) ? color : DEFAULT_BG_COLOR;\n      var aspectRatio = carbonRef ? carbonRef.clientWidth / carbonRef.clientHeight : 1;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: _JSXStyle.dynamic([[\"657095979\", [COLORS.SECONDARY, mode === 'image' ? \"background: url(\".concat(image, \");\\n                 background-size: cover;\\n                 background-repeat: no-repeat;\") : \"background: \".concat(background, \";\"), COLORS.SECONDARY, COLORS.SECONDARY]]]) + \" \" + \"bg-select-container\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          title: \"Background Menu\",\n          border: true,\n          center: true,\n          selected: isVisible,\n          className: \"bg-color-container bg-select-display \".concat(isVisible ? 'is-visible' : ''),\n          onClick: toggleVisibility,\n          background: \"white\",\n          hoverBackground: \"white\",\n          \"data-cy\": \"display\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: _JSXStyle.dynamic([[\"657095979\", [COLORS.SECONDARY, mode === 'image' ? \"background: url(\".concat(image, \");\\n                 background-size: cover;\\n                 background-repeat: no-repeat;\") : \"background: \".concat(background, \";\"), COLORS.SECONDARY, COLORS.SECONDARY]]]) + \" \" + \"bg-color-alpha\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: _JSXStyle.dynamic([[\"657095979\", [COLORS.SECONDARY, mode === 'image' ? \"background: url(\".concat(image, \");\\n                 background-size: cover;\\n                 background-repeat: no-repeat;\") : \"background: \".concat(background, \";\"), COLORS.SECONDARY, COLORS.SECONDARY]]]) + \" \" + \"bg-color\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Popout, {\n          id: \"bg-select-pickers\",\n          pointerLeft: \"15px\",\n          hidden: !isVisible,\n          style: {\n            width: '222px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: _JSXStyle.dynamic([[\"657095979\", [COLORS.SECONDARY, mode === 'image' ? \"background: url(\".concat(image, \");\\n                 background-size: cover;\\n                 background-repeat: no-repeat;\") : \"background: \".concat(background, \";\"), COLORS.SECONDARY, COLORS.SECONDARY]]]) + \" \" + \"picker-tabs\",\n            children: ['color', 'image'].map(function (tab) {\n              return /*#__PURE__*/_jsxDEV(Button, {\n                padding: \"8px 0\",\n                center: true,\n                className: \"capitalize\",\n                onClick: _this2.selectTab.bind(null, tab),\n                background: mode === tab ? COLORS.BLACK : COLORS.DARK_GRAY,\n                children: tab\n              }, tab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 15\n              }, _this2);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: _JSXStyle.dynamic([[\"657095979\", [COLORS.SECONDARY, mode === 'image' ? \"background: url(\".concat(image, \");\\n                 background-size: cover;\\n                 background-repeat: no-repeat;\") : \"background: \".concat(background, \";\"), COLORS.SECONDARY, COLORS.SECONDARY]]]) + \" \" + \"picker-tabs-contents\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              hidden: mode !== 'color',\n              className: _JSXStyle.dynamic([[\"657095979\", [COLORS.SECONDARY, mode === 'image' ? \"background: url(\".concat(image, \");\\n                 background-size: cover;\\n                 background-repeat: no-repeat;\") : \"background: \".concat(background, \";\"), COLORS.SECONDARY, COLORS.SECONDARY]]]),\n              children: /*#__PURE__*/_jsxDEV(ColorPicker, {\n                color: color,\n                onChange: this.handlePickColor\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              hidden: mode !== 'image',\n              className: _JSXStyle.dynamic([[\"657095979\", [COLORS.SECONDARY, mode === 'image' ? \"background: url(\".concat(image, \");\\n                 background-size: cover;\\n                 background-repeat: no-repeat;\") : \"background: \".concat(background, \";\"), COLORS.SECONDARY, COLORS.SECONDARY]]]),\n              children: /*#__PURE__*/_jsxDEV(ImagePicker, {\n                onChange: onChange,\n                imageDataURL: image,\n                aspectRatio: aspectRatio,\n                updateHighlights: updateHighlights\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n          id: \"657095979\",\n          dynamic: [COLORS.SECONDARY, mode === 'image' ? \"background: url(\".concat(image, \");\\n                 background-size: cover;\\n                 background-repeat: no-repeat;\") : \"background: \".concat(background, \";\"), COLORS.SECONDARY, COLORS.SECONDARY],\n          children: \".bg-select-container.__jsx-style-dynamic-selector{height:100%;}.bg-select-container.__jsx-style-dynamic-selector .bg-select-display{position:relative;overflow:hidden;height:100%;width:40px;border:1px solid \".concat(COLORS.SECONDARY, \";}.bg-select-container.__jsx-style-dynamic-selector .bg-select-display.is-visible,.bg-select-container.__jsx-style-dynamic-selector .bg-select-display:focus{border-width:2px;}.bg-color.__jsx-style-dynamic-selector{position:absolute;top:0px;right:0px;bottom:0px;left:0px;\").concat(mode === 'image' ? \"background: url(\".concat(image, \");\\n                 background-size: cover;\\n                 background-repeat: no-repeat;\") : \"background: \".concat(background, \";\"), \";}.bg-color-alpha.__jsx-style-dynamic-selector{position:absolute;top:0px;right:0px;bottom:0px;left:0px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==);}.picker-tabs.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom:2px solid \").concat(COLORS.SECONDARY, \";}.picker-tabs.__jsx-style-dynamic-selector button{border-right:1px solid \").concat(COLORS.SECONDARY, \";}.picker-tabs.__jsx-style-dynamic-selector button:last-child{border-right:none;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW1lbmd5dS9EZXNrdG9wL3ByaXZhdGUvY29kZS9wcm9qZWN0L3Nob3ctY29kZXMvY29tcG9uZW50cy9CYWNrZ3JvdW5kU2VsZWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTRGVyxBQUcyQixBQUlNLEFBU0QsQUFJQyxBQVNBLEFBU0wsQUFLdUMsQUFJbEMsWUEzQ3BCLEtBYUEsQ0FUa0IsQUFhUixBQVNBLEFBa0JWLFFBMUJZLEFBU0EsUUF0QkUsRUFjRCxBQVNBLFVBdEJBLENBY0YsQUFTQSxLQVdYLElBbkI4QixBQVMySixDQXZCekksaUJBNEJPLFdBYnZELGtCQWRBLHdCQTRCQSxnSEFMQSIsImZpbGUiOiIvVXNlcnMvbGltZW5neXUvRGVza3RvcC9wcml2YXRlL2NvZGUvcHJvamVjdC9zaG93LWNvZGVzL2NvbXBvbmVudHMvQmFja2dyb3VuZFNlbGVjdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IEltYWdlUGlja2VyIGZyb20gJy4vSW1hZ2VQaWNrZXInXG5pbXBvcnQgQ29sb3JQaWNrZXIgZnJvbSAnLi9Db2xvclBpY2tlcidcbmltcG9ydCBCdXR0b24gZnJvbSAnLi9CdXR0b24nXG5pbXBvcnQgUG9wb3V0LCB7IG1hbmFnZVBvcG91dCB9IGZyb20gJy4vUG9wb3V0J1xuaW1wb3J0IHsgQ09MT1JTLCBERUZBVUxUX0JHX0NPTE9SIH0gZnJvbSAnLi4vbGliL2NvbnN0YW50cydcbmltcG9ydCB7IHN0cmluZ2lmeVJHQkEgfSBmcm9tICcuLi9saWIvdXRpbCdcblxuZnVuY3Rpb24gdmFsaWRhdGVDb2xvcihzdHIpIHtcbiAgaWYgKC8jXFxkezMsNn18cmdiYXswLDF9XFwoLio/XFwpL2dpLnRlc3Qoc3RyKSB8fCAvXFx3Ky9naS50ZXN0KHN0cikpIHtcbiAgICByZXR1cm4gc3RyXG4gIH1cbn1cblxuY2xhc3MgQmFja2dyb3VuZFNlbGVjdCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBzZWxlY3RUYWIgPSBuYW1lID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlICE9PSBuYW1lKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHsgYmFja2dyb3VuZE1vZGU6IG5hbWUgfSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVQaWNrQ29sb3IgPSAoeyByZ2IgfSkgPT4gdGhpcy5wcm9wcy5vbkNoYW5nZSh7IGJhY2tncm91bmRDb2xvcjogc3RyaW5naWZ5UkdCQShyZ2IpIH0pXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbG9yLFxuICAgICAgbW9kZSxcbiAgICAgIGltYWdlLFxuICAgICAgb25DaGFuZ2UsXG4gICAgICBpc1Zpc2libGUsXG4gICAgICB0b2dnbGVWaXNpYmlsaXR5LFxuICAgICAgY2FyYm9uUmVmLFxuICAgICAgdXBkYXRlSGlnaGxpZ2h0cyxcbiAgICB9ID0gdGhpcy5wcm9wc1xuXG4gICAgY29uc3QgYmFja2dyb3VuZCA9IHZhbGlkYXRlQ29sb3IoY29sb3IpID8gY29sb3IgOiBERUZBVUxUX0JHX0NPTE9SXG5cbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IGNhcmJvblJlZiA/IGNhcmJvblJlZi5jbGllbnRXaWR0aCAvIGNhcmJvblJlZi5jbGllbnRIZWlnaHQgOiAxXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zZWxlY3QtY29udGFpbmVyXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB0aXRsZT1cIkJhY2tncm91bmQgTWVudVwiXG4gICAgICAgICAgYm9yZGVyXG4gICAgICAgICAgY2VudGVyXG4gICAgICAgICAgc2VsZWN0ZWQ9e2lzVmlzaWJsZX1cbiAgICAgICAgICBjbGFzc05hbWU9e2BiZy1jb2xvci1jb250YWluZXIgYmctc2VsZWN0LWRpc3BsYXkgJHtpc1Zpc2libGUgPyAnaXMtdmlzaWJsZScgOiAnJ31gfVxuICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVZpc2liaWxpdHl9XG4gICAgICAgICAgYmFja2dyb3VuZD1cIndoaXRlXCJcbiAgICAgICAgICBob3ZlckJhY2tncm91bmQ9XCJ3aGl0ZVwiXG4gICAgICAgICAgZGF0YS1jeT1cImRpc3BsYXlcIlxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1jb2xvci1hbHBoYVwiIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1jb2xvclwiIC8+XG4gICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgIDxQb3BvdXRcbiAgICAgICAgICBpZD1cImJnLXNlbGVjdC1waWNrZXJzXCJcbiAgICAgICAgICBwb2ludGVyTGVmdD1cIjE1cHhcIlxuICAgICAgICAgIGhpZGRlbj17IWlzVmlzaWJsZX1cbiAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzIyMnB4JyB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwaWNrZXItdGFic1wiPlxuICAgICAgICAgICAge1snY29sb3InLCAnaW1hZ2UnXS5tYXAodGFiID0+IChcbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17dGFifVxuICAgICAgICAgICAgICAgIHBhZGRpbmc9XCI4cHggMFwiXG4gICAgICAgICAgICAgICAgY2VudGVyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FwaXRhbGl6ZVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3RUYWIuYmluZChudWxsLCB0YWIpfVxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ9e21vZGUgPT09IHRhYiA/IENPTE9SUy5CTEFDSyA6IENPTE9SUy5EQVJLX0dSQVl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGFifVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGlja2VyLXRhYnMtY29udGVudHNcIj5cbiAgICAgICAgICAgIDxkaXYgaGlkZGVuPXttb2RlICE9PSAnY29sb3InfT5cbiAgICAgICAgICAgICAgPENvbG9yUGlja2VyIGNvbG9yPXtjb2xvcn0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlUGlja0NvbG9yfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGhpZGRlbj17bW9kZSAhPT0gJ2ltYWdlJ30+XG4gICAgICAgICAgICAgIDxJbWFnZVBpY2tlclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAgICAgICBpbWFnZURhdGFVUkw9e2ltYWdlfVxuICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvPXthc3BlY3RSYXRpb31cbiAgICAgICAgICAgICAgICB1cGRhdGVIaWdobGlnaHRzPXt1cGRhdGVIaWdobGlnaHRzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUG9wb3V0PlxuICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgIHtgXG4gICAgICAgICAgICAuYmctc2VsZWN0LWNvbnRhaW5lciB7XG4gICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLmJnLXNlbGVjdC1jb250YWluZXIgOmdsb2JhbCguYmctc2VsZWN0LWRpc3BsYXkpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICAgIHdpZHRoOiA0MHB4O1xuICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke0NPTE9SUy5TRUNPTkRBUll9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuYmctc2VsZWN0LWNvbnRhaW5lciA6Z2xvYmFsKC5iZy1zZWxlY3QtZGlzcGxheS5pcy12aXNpYmxlKSxcbiAgICAgICAgICAgIC5iZy1zZWxlY3QtY29udGFpbmVyIDpnbG9iYWwoLmJnLXNlbGVjdC1kaXNwbGF5OmZvY3VzKSB7XG4gICAgICAgICAgICAgIGJvcmRlci13aWR0aDogMnB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuYmctY29sb3Ige1xuICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgIHRvcDogMHB4O1xuICAgICAgICAgICAgICByaWdodDogMHB4O1xuICAgICAgICAgICAgICBib3R0b206IDBweDtcbiAgICAgICAgICAgICAgbGVmdDogMHB4O1xuICAgICAgICAgICAgICAke21vZGUgPT09ICdpbWFnZSdcbiAgICAgICAgICAgICAgICA/IGBiYWNrZ3JvdW5kOiB1cmwoJHtpbWFnZX0pO1xuICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O2BcbiAgICAgICAgICAgICAgICA6IGBiYWNrZ3JvdW5kOiAke2JhY2tncm91bmR9O2B9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuYmctY29sb3ItYWxwaGEge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgIHRvcDogMHB4O1xuICAgICAgICAgICAgICByaWdodDogMHB4O1xuICAgICAgICAgICAgICBib3R0b206IDBweDtcbiAgICAgICAgICAgICAgbGVmdDogMHB4O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FZQUFBQWY4LzloQUFBQU1VbEVRVlE0VDJOa1lHQVFZY0FQM3VDVFpodzFnR0dZaEFHQlpJQS9uWURDZ0JEQW05QkdEV0FBSnlSQ2dMYUJDQUFnWHdpeHpBUzBwZ0FBQUFCSlJVNUVya0pnZ2c9PSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5waWNrZXItdGFicyB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAke0NPTE9SUy5TRUNPTkRBUll9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAucGlja2VyLXRhYnMgOmdsb2JhbChidXR0b24pIHtcbiAgICAgICAgICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgJHtDT0xPUlMuU0VDT05EQVJZfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnBpY2tlci10YWJzIDpnbG9iYWwoYnV0dG9uOmxhc3QtY2hpbGQpIHtcbiAgICAgICAgICAgICAgYm9yZGVyLXJpZ2h0OiBub25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFuYWdlUG9wb3V0KEJhY2tncm91bmRTZWxlY3QpXG4iXX0= */\\n/*@ sourceURL=/Users/limengyu/Desktop/private/code/project/show-codes/components/BackgroundSelect.js */\")\n        }, void 0, false, void 0, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return BackgroundSelect;\n}(React.PureComponent);\n\nexport default _c = managePopout(BackgroundSelect);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/limengyu/Desktop/private/code/project/show-codes/components/BackgroundSelect.js"],"names":["React","ImagePicker","ColorPicker","Button","Popout","managePopout","COLORS","DEFAULT_BG_COLOR","stringifyRGBA","validateColor","str","test","BackgroundSelect","name","props","mode","onChange","backgroundMode","rgb","backgroundColor","color","image","isVisible","toggleVisibility","carbonRef","updateHighlights","background","aspectRatio","clientWidth","clientHeight","SECONDARY","width","map","tab","selectTab","bind","BLACK","DARK_GRAY","handlePickColor","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport ImagePicker from './ImagePicker'\nimport ColorPicker from './ColorPicker'\nimport Button from './Button'\nimport Popout, { managePopout } from './Popout'\nimport { COLORS, DEFAULT_BG_COLOR } from '../lib/constants'\nimport { stringifyRGBA } from '../lib/util'\n\nfunction validateColor(str) {\n  if (/#\\d{3,6}|rgba{0,1}\\(.*?\\)/gi.test(str) || /\\w+/gi.test(str)) {\n    return str\n  }\n}\n\nclass BackgroundSelect extends React.PureComponent {\n  selectTab = name => {\n    if (this.props.mode !== name) {\n      this.props.onChange({ backgroundMode: name })\n    }\n  }\n\n  handlePickColor = ({ rgb }) => this.props.onChange({ backgroundColor: stringifyRGBA(rgb) })\n\n  render() {\n    const {\n      color,\n      mode,\n      image,\n      onChange,\n      isVisible,\n      toggleVisibility,\n      carbonRef,\n      updateHighlights,\n    } = this.props\n\n    const background = validateColor(color) ? color : DEFAULT_BG_COLOR\n\n    const aspectRatio = carbonRef ? carbonRef.clientWidth / carbonRef.clientHeight : 1\n\n    return (\n      <div className=\"bg-select-container\">\n        <Button\n          title=\"Background Menu\"\n          border\n          center\n          selected={isVisible}\n          className={`bg-color-container bg-select-display ${isVisible ? 'is-visible' : ''}`}\n          onClick={toggleVisibility}\n          background=\"white\"\n          hoverBackground=\"white\"\n          data-cy=\"display\"\n        >\n          <div className=\"bg-color-alpha\" />\n          <div className=\"bg-color\" />\n        </Button>\n\n        <Popout\n          id=\"bg-select-pickers\"\n          pointerLeft=\"15px\"\n          hidden={!isVisible}\n          style={{ width: '222px' }}\n        >\n          <div className=\"picker-tabs\">\n            {['color', 'image'].map(tab => (\n              <Button\n                key={tab}\n                padding=\"8px 0\"\n                center\n                className=\"capitalize\"\n                onClick={this.selectTab.bind(null, tab)}\n                background={mode === tab ? COLORS.BLACK : COLORS.DARK_GRAY}\n              >\n                {tab}\n              </Button>\n            ))}\n          </div>\n          <div className=\"picker-tabs-contents\">\n            <div hidden={mode !== 'color'}>\n              <ColorPicker color={color} onChange={this.handlePickColor} />\n            </div>\n            <div hidden={mode !== 'image'}>\n              <ImagePicker\n                onChange={onChange}\n                imageDataURL={image}\n                aspectRatio={aspectRatio}\n                updateHighlights={updateHighlights}\n              />\n            </div>\n          </div>\n        </Popout>\n        <style jsx>\n          {`\n            .bg-select-container {\n              height: 100%;\n            }\n\n            .bg-select-container :global(.bg-select-display) {\n              position: relative;\n              overflow: hidden;\n              height: 100%;\n              width: 40px;\n              border: 1px solid ${COLORS.SECONDARY};\n            }\n\n            .bg-select-container :global(.bg-select-display.is-visible),\n            .bg-select-container :global(.bg-select-display:focus) {\n              border-width: 2px;\n            }\n\n            .bg-color {\n              position: absolute;\n              top: 0px;\n              right: 0px;\n              bottom: 0px;\n              left: 0px;\n              ${mode === 'image'\n                ? `background: url(${image});\n                 background-size: cover;\n                 background-repeat: no-repeat;`\n                : `background: ${background};`};\n            }\n\n            .bg-color-alpha {\n              position: absolute;\n              top: 0px;\n              right: 0px;\n              bottom: 0px;\n              left: 0px;\n              background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==);\n            }\n\n            .picker-tabs {\n              display: flex;\n              border-bottom: 2px solid ${COLORS.SECONDARY};\n            }\n\n            .picker-tabs :global(button) {\n              border-right: 1px solid ${COLORS.SECONDARY};\n            }\n\n            .picker-tabs :global(button:last-child) {\n              border-right: none;\n            }\n          `}\n        </style>\n      </div>\n    )\n  }\n}\n\nexport default managePopout(BackgroundSelect)\n"]},"metadata":{},"sourceType":"module"}